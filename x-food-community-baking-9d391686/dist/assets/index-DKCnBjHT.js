import{r as e,j as t,S as r,c as n,P as a,a as s,u as i,h as o,R as l,b as c,d as u,e as d,f as h,F as m,D as f,C as p,g as x,i as g,k as v,l as y,A as b,m as j,O as w,n as N,o as k,p as _,T as C,q as S,s as E,t as P,v as R,I as M,w as T,x as A,y as D,z as O,B as L,E as I,G as F,H as B,J as $,K as z}from"./ui-Bz1ckd_d.js";import{a as W,g as U,c as H}from"./vendor-DtuzQOD1.js";import{t as q,c as V,a as Y}from"./utils-TE8zYW_o.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var G,K={};const J=U(function(){if(G)return K;G=1;var e=W();return K.createRoot=e.createRoot,K.hydrateRoot=e.hydrateRoot,K}());
/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var X="popstate";function Z(e={}){return function(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,o="POP",l=null,c=u();null==c&&(c=0,i.replaceState({...i.state,idx:c},""));function u(){return(i.state||{idx:null}).idx}function d(){o="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:p.location,delta:t})}function h(e,t){o="PUSH";let r=re(p.location,e,t);c=u()+1;let n=te(r,c),d=p.createHref(r);try{i.pushState(n,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;a.location.assign(d)}s&&l&&l({action:o,location:p.location,delta:1})}function m(e,t){o="REPLACE";let r=re(p.location,e,t);c=u();let n=te(r,c),a=p.createHref(r);i.replaceState(n,"",a),s&&l&&l({action:o,location:p.location,delta:0})}function f(e){return function(e,t=!1){let r="http://localhost";"undefined"!=typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href);Q(r,"No window.location.(origin|href) available to create URL");let n="string"==typeof e?e:ne(e);n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n);return new URL(n,r)}(e)}let p={get action(){return o},get location(){return e(a,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(X,d),l=e,()=>{a.removeEventListener(X,d),l=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:m,go:e=>i.go(e)};return p}(function(e,t){let{pathname:r,search:n,hash:a}=e.location;return re("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:ne(t)},0,e)}function Q(e,t){if(!1===e||null==e)throw new Error(t)}function ee(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function te(e,t){return{usr:e.state,key:e.key,idx:t}}function re(e,t,r=null,n){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?ae(t):t,state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)}}function ne({pathname:e="/",search:t="",hash:r=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function ae(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function se(e,t,r="/"){return function(e,t,r,n){let a="string"==typeof t?ae(t):t,s=ye(a.pathname||"/",r);if(null==s)return null;let i=ie(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let o=null;for(let l=0;null==o&&l<i.length;++l){let e=ve(s);o=xe(i[l],e,n)}return o}(e,t,r,!1)}function ie(e,t=[],r=[],n=""){let a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(Q(i.relativePath.startsWith(n),`Absolute route path "${i.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),i.relativePath=i.relativePath.slice(n.length));let o=Ne([n,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(Q(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${o}".`),ie(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:pe(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&(null==(r=e.path)?void 0:r.includes("?")))for(let n of oe(e.path))a(e,t,n);else a(e,t)}),t}function oe(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let i=oe(n.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var le=/^:[\w-]+$/,ce=3,ue=2,de=1,he=10,me=-2,fe=e=>"*"===e;function pe(e,t){let r=e.split("/"),n=r.length;return r.some(fe)&&(n+=me),t&&(n+=ue),r.filter(e=>!fe(e)).reduce((e,t)=>e+(le.test(t)?ce:""===t?de:he),n)}function xe(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===s?t:t.slice(s.length)||"/",u=ge({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=ge({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:Ne([s,u.pathname]),pathnameBase:ke(Ne([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=Ne([s,u.pathnameBase]))}return i}function ge(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t=!1,r=!0){ee("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((e,{paramName:t,isOptional:r},n)=>{if("*"===t){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const a=o[n];return e[t]=r&&!a?void 0:(a||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function ve(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return ee(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ye(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function be(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function je(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function we(e,t,r,n=!1){let a;"string"==typeof e?a=ae(e):(a={...e},Q(!a.pathname||!a.pathname.includes("?"),be("?","pathname","search",a)),Q(!a.pathname||!a.pathname.includes("#"),be("#","pathname","hash",a)),Q(!a.search||!a.search.includes("#"),be("#","search","hash",a)));let s,i=""===e||""===a.pathname,o=i?"/":a.pathname;if(null==o)s=r;else{let e=t.length-1;if(!n&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t="/"){let{pathname:r,search:n="",hash:a=""}="string"==typeof e?ae(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:_e(n),hash:Ce(a)}}(a,s),c=o&&"/"!==o&&o.endsWith("/"),u=(i||"."===o)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var Ne=e=>e.join("/").replace(/\/\/+/g,"/"),ke=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_e=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ce=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var Se=["POST","PUT","PATCH","DELETE"];new Set(Se);var Ee=["GET",...Se];new Set(Ee);var Pe=e.createContext(null);Pe.displayName="DataRouter";var Re=e.createContext(null);Re.displayName="DataRouterState",e.createContext(!1);var Me=e.createContext({isTransitioning:!1});Me.displayName="ViewTransition",e.createContext(new Map).displayName="Fetchers",e.createContext(null).displayName="Await";var Te=e.createContext(null);Te.displayName="Navigation";var Ae=e.createContext(null);Ae.displayName="Location";var De=e.createContext({outlet:null,matches:[],isDataRoute:!1});De.displayName="Route";var Oe=e.createContext(null);function Le(){return null!=e.useContext(Ae)}function Ie(){return Q(Le(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(Ae).location}Oe.displayName="RouteError";var Fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Be(t){e.useContext(Te).static||e.useLayoutEffect(t)}function $e(){let{isDataRoute:t}=e.useContext(De);return t?function(){let{router:t}=function(t){let r=e.useContext(Pe);return Q(r,Ye(t)),r}("useNavigate"),r=Ge("useNavigate"),n=e.useRef(!1);return Be(()=>{n.current=!0}),e.useCallback(async(e,a={})=>{ee(n.current,Fe),n.current&&("number"==typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:r,...a}))},[t,r])}():function(){Q(Le(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(Pe),{basename:r,navigator:n}=e.useContext(Te),{matches:a}=e.useContext(De),{pathname:s}=Ie(),i=JSON.stringify(je(a)),o=e.useRef(!1);return Be(()=>{o.current=!0}),e.useCallback((e,a={})=>{if(ee(o.current,Fe),!o.current)return;if("number"==typeof e)return void n.go(e);let l=we(e,JSON.parse(i),s,"path"===a.relative);null==t&&"/"!==r&&(l.pathname="/"===l.pathname?r:Ne([r,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)},[r,n,i,s,t])}()}function ze(t,{relative:r}={}){let{matches:n}=e.useContext(De),{pathname:a}=Ie(),s=JSON.stringify(je(n));return e.useMemo(()=>we(t,JSON.parse(s),a,"path"===r),[t,s,a,r])}function We(t,r,n,a){var s;Q(Le(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=e.useContext(Te),{matches:o}=e.useContext(De),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";Je(u,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let m,f=Ie();if(r){let e="string"==typeof r?ae(r):r;Q("/"===d||(null==(s=e.pathname)?void 0:s.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${e.pathname}" was given in the \`location\` prop.`),m=e}else m=f;let p=m.pathname||"/",x=p;if("/"!==d){let e=d.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=se(t,{pathname:x});ee(h||null!=g,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),ee(null==g||void 0!==g[g.length-1].route.element||void 0!==g[g.length-1].route.Component||void 0!==g[g.length-1].route.lazy,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=function(t,r=[],n=null){if(null==t){if(!n)return null;if(n.errors)t=n.matches;else{if(0!==r.length||n.initialized||!(n.matches.length>0))return null;t=n.matches}}let a=t,s=null==n?void 0:n.errors;if(null!=s){let e=a.findIndex(e=>e.route.id&&void 0!==(null==s?void 0:s[e.route.id]));Q(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let i=!1,o=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(o=e),t.route.id){let{loaderData:e,errors:r}=n,s=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||void 0===r[t.route.id]);if(t.route.lazy||s){i=!0,a=o>=0?a.slice(0,o+1):[a[0]];break}}}return a.reduceRight((t,l,c)=>{let u,d=!1,h=null,m=null;n&&(u=s&&l.route.id?s[l.route.id]:void 0,h=l.route.errorElement||He,i&&(o<0&&0===c?(Je("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,m=null):o===c&&(d=!0,m=l.route.hydrateFallbackElement||null)));let f=r.concat(a.slice(0,c+1)),p=()=>{let r;return r=u?h:d?m:l.route.Component?e.createElement(l.route.Component,null):l.route.element?l.route.element:t,e.createElement(Ve,{match:l,routeContext:{outlet:t,matches:f,isDataRoute:null!=n},children:r})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?e.createElement(qe,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Ne([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:Ne([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,a);return r&&v?e.createElement(Ae.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},v):v}function Ue(){let t=function(){var t;let r=e.useContext(Oe),n=function(t){let r=e.useContext(Re);return Q(r,Ye(t)),r}("useRouteError"),a=Ge("useRouteError");if(void 0!==r)return r;return null==(t=n.errors)?void 0:t[a]}(),r=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:i},"ErrorBoundary")," or"," ",e.createElement("code",{style:i},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},r),n?e.createElement("pre",{style:s},n):null,o)}e.createContext(null);var He=e.createElement(Ue,null),qe=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(De.Provider,{value:this.props.routeContext},e.createElement(Oe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ve({routeContext:t,match:r,children:n}){let a=e.useContext(Pe);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(De.Provider,{value:t},n)}function Ye(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ge(t){let r=function(t){let r=e.useContext(De);return Q(r,Ye(t)),r}(t),n=r.matches[r.matches.length-1];return Q(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}var Ke={};function Je(e,t,r){t||Ke[e]||(Ke[e]=!0,ee(!1,r))}function Xe(e){Q(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ze({basename:t="/",children:r=null,location:n,navigationType:a="POP",navigator:s,static:i=!1}){Q(!Le(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=e.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);"string"==typeof n&&(n=ae(n));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:m="default"}=n,f=e.useMemo(()=>{let e=ye(c,o);return null==e?null:{location:{pathname:e,search:u,hash:d,state:h,key:m},navigationType:a}},[o,c,u,d,h,m,a]);return ee(null!=f,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),null==f?null:e.createElement(Te.Provider,{value:l},e.createElement(Ae.Provider,{children:r,value:f}))}function Qe({children:e,location:t}){return We(et(e),t)}function et(t,r=[]){let n=[];return e.Children.forEach(t,(t,a)=>{if(!e.isValidElement(t))return;let s=[...r,a];if(t.type===e.Fragment)return void n.push.apply(n,et(t.props.children,s));Q(t.type===Xe,`[${"string"==typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Q(!t.props.index||!t.props.children,"An index route cannot have child routes.");let i={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(i.children=et(t.props.children,s)),n.push(i)}),n}e.memo(function({routes:e,future:t,state:r}){return We(e,void 0,r,t)});var tt="get",rt="application/x-www-form-urlencoded";function nt(e){return null!=e&&"string"==typeof e.tagName}var at=null;var st=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function it(e){return null==e||st.has(e)?e:(ee(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rt}"`),null)}function ot(e,t){let r,n,a,s,i;if(nt(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");n=i?ye(i,t):null,r=e.getAttribute("method")||tt,a=it(e.getAttribute("enctype"))||rt,s=new FormData(e)}else if(function(e){return nt(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return nt(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(n=o?ye(o,t):null,r=e.getAttribute("formmethod")||i.getAttribute("method")||tt,a=it(e.getAttribute("formenctype"))||it(i.getAttribute("enctype"))||rt,s=new FormData(i,e),!function(){if(null===at)try{new FormData(document.createElement("form"),0),at=!1}catch(e){at=!0}return at}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,n)}}else{if(nt(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=tt,n=null,a=rt,i=e}var o;return s&&"text/plain"===a&&(i=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:i}}function lt(e,t){if(!1===e||null==e)throw new Error(t)}function ct(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function ut(e,t,r){return function(e,t){let r=new Set;return new Set(t),e.reduce((e,t)=>{let n=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(t));return r.has(n)||(r.add(n),e.push({key:n,link:t})),e},[])}((await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(n,r);return e.links?e.links():[]}return[]}))).flat(1).filter(ct).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}function dt(e,t,r,n,a,s){let i=(e,t)=>!r[t]||e.route.id!==r[t].route.id,o=(e,t)=>{var n;return r[t].pathname!==e.pathname||(null==(n=r[t].route.path)?void 0:n.endsWith("*"))&&r[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{var l;let c=n.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(i(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null==(l=r[0])?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof n)return n}return!0}):[]}function ht(e,t,{includeHydrateFallback:r}={}){return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a}).flat(1),[...new Set(n)];var n}function mt(){let t=e.useContext(Pe);return lt(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ft=e.createContext(void 0);function pt(){let t=e.useContext(ft);return lt(t,"You must render this element inside a <HydratedRouter> element"),t}function xt(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function gt({page:t,...r}){let{router:n}=mt(),a=e.useMemo(()=>se(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?e.createElement(vt,{page:t,matches:a,...r}):null}function vt({page:t,matches:r,...n}){let a=Ie(),{manifest:s,routeModules:i}=pt(),{basename:o}=mt(),{loaderData:l,matches:c}=function(){let t=e.useContext(Re);return lt(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}(),u=e.useMemo(()=>dt(t,r,c,s,a,"data"),[t,r,c,s,a]),d=e.useMemo(()=>dt(t,r,c,s,a,"assets"),[t,r,c,s,a]),h=e.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,n=!1;if(r.forEach(t=>{var r;let a=s.routes[t.route.id];a&&a.hasLoader&&(!u.some(e=>e.route.id===t.route.id)&&t.route.id in l&&(null==(r=i[t.route.id])?void 0:r.shouldRevalidate)||a.hasClientLoader?n=!0:e.add(t.route.id))}),0===e.size)return[];let c=function(e,t,r){let n="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname=`_root.${r}`:t&&"/"===ye(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}(t,o,"data");return n&&e.size>0&&c.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[c.pathname+c.search]},[o,l,a,s,u,r,t,i]),m=e.useMemo(()=>ht(d,s),[d,s]),f=function(t){let{manifest:r,routeModules:n}=pt(),[a,s]=e.useState([]);return e.useEffect(()=>{let e=!1;return ut(t,r,n).then(t=>{e||s(t)}),()=>{e=!0}},[t,r,n]),a}(d);return e.createElement(e.Fragment,null,h.map(t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...n})),m.map(t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...n})),f.map(({key:t,link:r})=>e.createElement("link",{key:t,nonce:n.nonce,...r})))}function yt(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}ft.displayName="FrameworkContext";var bt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{bt&&(window.__reactRouterVersion="7.8.0")}catch(vc){}function jt({basename:t,children:r,window:n}){let a=e.useRef();null==a.current&&(a.current=Z({window:n,v5Compat:!0}));let s=a.current,[i,o]=e.useState({action:s.action,location:s.location}),l=e.useCallback(t=>{e.startTransition(()=>o(t))},[o]);return e.useLayoutEffect(()=>s.listen(l),[s,l]),e.createElement(Ze,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:s})}var wt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nt=e.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:i,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d,...h},m){let f,{basename:p}=e.useContext(Te),x="string"==typeof c&&wt.test(c),g=!1;if("string"==typeof c&&x&&(f=c,bt))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),r=ye(t.pathname,p);t.origin===e.origin&&null!=r?c=r+t.search+t.hash:g=!0}catch(vc){ee(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=function(t,{relative:r}={}){Q(Le(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=e.useContext(Te),{hash:s,pathname:i,search:o}=ze(t,{relative:r}),l=i;return"/"!==n&&(l="/"===i?n:Ne([n,i])),a.createHref({pathname:l,search:o,hash:s})}(c,{relative:a}),[y,b,j]=function(t,r){let n=e.useContext(ft),[a,s]=e.useState(!1),[i,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=r,m=e.useRef(null);e.useEffect(()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return m.current&&e.observe(m.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let f=()=>{s(!0)},p=()=>{s(!1),o(!1)};return n?"intent"!==t?[i,m,{}]:[i,m,{onFocus:xt(l,f),onBlur:xt(c,p),onMouseEnter:xt(u,f),onMouseLeave:xt(d,p),onTouchStart:xt(h,f)}]:[!1,m,{}]}(n,h),w=function(t,{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=$e(),c=Ie(),u=ze(t,{relative:i});return e.useCallback(e=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(e,r)){e.preventDefault();let r=void 0!==n?n:ne(c)===ne(u);l(t,{replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,n,a,r,t,s,i,o])}(c,{replace:i,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:d});let N=e.createElement("a",{...h,...j,href:f||v,onClick:g||s?t:function(e){t&&t(e),e.defaultPrevented||w(e)},ref:yt(m,b),target:l,"data-discover":x||"render"!==r?void 0:"true"});return y&&!x?e.createElement(e.Fragment,null,N,e.createElement(gt,{page:v})):N});function kt(t){let r=e.useContext(Pe);return Q(r,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(t)),r}Nt.displayName="Link",e.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:i,viewTransition:o,children:l,...c},u){let d=ze(i,{relative:c.relative}),h=Ie(),m=e.useContext(Re),{navigator:f,basename:p}=e.useContext(Te),x=null!=m&&function(t,{relative:r}={}){let n=e.useContext(Me);Q(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=kt("useViewTransitionState"),s=ze(t,{relative:r});if(!n.isTransitioning)return!1;let i=ye(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=ye(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=ge(s.pathname,o)||null!=ge(s.pathname,i)}(d)&&!0===o,g=f.encodeLocation?f.encodeLocation(d).pathname:d.pathname,v=h.pathname,y=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(v=v.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&p&&(y=ye(y,p)||y);const b="/"!==g&&g.endsWith("/")?g.length-1:g.length;let j,w=v===g||!a&&v.startsWith(g)&&"/"===v.charAt(b),N=null!=y&&(y===g||!a&&y.startsWith(g)&&"/"===y.charAt(g.length)),k={isActive:w,isPending:N,isTransitioning:x},_=w?t:void 0;j="function"==typeof n?n(k):[n,w?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let C="function"==typeof s?s(k):s;return e.createElement(Nt,{...c,"aria-current":_,className:j,ref:u,style:C,to:i,viewTransition:o},"function"==typeof l?l(k):l)}).displayName="NavLink",e.forwardRef(({discover:t="render",fetcherKey:r,navigate:n,reloadDocument:a,replace:s,state:i,method:o=tt,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...m},f)=>{let p=function(){let{router:t}=kt("useSubmit"),{basename:r}=e.useContext(Te),n=Ge("useRouteId");return e.useCallback(async(e,a={})=>{let{action:s,method:i,encType:o,formData:l,body:c}=ot(e,r);if(!1===a.navigate){let e=a.fetcherKey||Ct();await t.fetch(e,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,r,n])}(),x=function(t,{relative:r}={}){let{basename:n}=e.useContext(Te),a=e.useContext(De);Q(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i={...ze(t||".",{relative:r})},o=Ie();if(null==t){i.search=o.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();i.search=r?`?${r}`:""}}t&&"."!==t||!s.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:Ne([n,i.pathname]));return ne(i)}(l,{relative:u}),g="get"===o.toLowerCase()?"get":"post",v="string"==typeof l&&wt.test(l);return e.createElement("form",{ref:f,method:g,action:x,onSubmit:a?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,a=(null==t?void 0:t.getAttribute("formmethod"))||o;p(t||e.currentTarget,{fetcherKey:r,method:a,navigate:n,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h})},...m,"data-discover":v||"render"!==t?void 0:"true"})}).displayName="Form";var _t=0,Ct=()=>`__${String(++_t)}__`;function St(e){return{Home:"/",AddBake:"/AddBake",Recipes:"/Recipes",Profile:"/Profile",BakeDetail:"/BakeDetail",RecipeDetail:"/RecipeDetail",AddRecipe:"/AddRecipe",Contact:"/Contact",EditProfile:"/EditProfile",Circles:"/Circles",CreateCircle:"/CreateCircle",CircleDetail:"/CircleDetail",Inbox:"/Inbox"}[e]||"/"}
/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(...e)=>e.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();
/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var Pt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=e.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:o,...l},c)=>e.createElement("svg",{ref:c,...Pt,width:r,height:r,stroke:t,strokeWidth:a?24*Number(n)/Number(r):n,className:Et("lucide",s),...l},[...o.map(([t,r])=>e.createElement(t,r)),...Array.isArray(i)?i:[i]])),Mt=(t,r)=>{const n=e.forwardRef(({className:n,...a},s)=>{return e.createElement(Rt,{ref:s,iconNode:r,className:Et(`lucide-${i=t,i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...a});var i});return n.displayName=`${t}`,n},Tt=Mt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),At=Mt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Dt=Mt("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Ot=Mt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Lt=Mt("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]),It=Mt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Ft=Mt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Bt=Mt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),$t=Mt("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]),zt=Mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Wt=Mt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ut=Mt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ht=Mt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),qt=Mt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Vt=Mt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Yt=Mt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Gt=Mt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),Kt=Mt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Jt=Mt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Xt=Mt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Zt=Mt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Qt=Mt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),er=Mt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),tr=Mt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),rr=Mt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),nr=Mt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ar=Mt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),sr=Mt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),ir=Mt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),or=Mt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),lr=Mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),cr=Mt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),ur=Mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),dr=Mt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),hr=Mt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),mr=Mt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),fr=Mt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),pr=Mt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),xr=Mt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),gr=Mt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),vr=Mt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),yr=Mt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),br=Mt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),jr=Mt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),wr=Mt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Nr=Mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),kr=Mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),_r=Mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cr={CLIENT_ID:"8267685974-teihierdooj760vmuvghdhf4upuqsj5t.apps.googleusercontent.com"},Sr={BASE_URL:"http://localhost:8001"},Er=e.createContext(),Pr=()=>{const t=e.useContext(Er);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Rr=({children:r})=>{const[n,a]=e.useState(null),[s,i]=e.useState(!0);e.useEffect(()=>{o()},[]);const o=async()=>{try{const e=localStorage.getItem("authToken");if(e){const t=await fetch(`${Sr.BASE_URL}/api/v1/auth/me`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){const e=await t.json();a(e)}else localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken")}}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken")}finally{i(!1)}},l={user:n,loading:s,login:async e=>{try{i(!0);let t=`${Sr.BASE_URL}/api/v1/auth/google`,r=JSON.stringify({id_token:e});"demo_token"===e&&(t=`${Sr.BASE_URL}/api/v1/auth/demo`,r="{}");const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:r});if(n.ok){const e=await n.json();return localStorage.setItem("authToken",e.access_token),localStorage.setItem("refreshToken",e.refresh_token),await o(),{success:!0}}return{success:!1,error:(await n.json()).detail||"Login failed"}}catch(t){return console.error("Login error:",t),{success:!1,error:"Network error occurred"}}finally{i(!1)}},logout:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),a(null)},isAuthenticated:!!n};return t.jsx(Er.Provider,{value:l,children:r})};
/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function Mr(...e){return q(V(e))}const Tr=Y("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ar=e.forwardRef(({className:e,variant:n,size:a,asChild:s=!1,...i},o)=>{const l=s?r:"button";return t.jsx(l,{className:Mr(Tr({variant:n,size:a,className:e})),ref:o,...i})});Ar.displayName="Button";const Dr=Sr.BASE_URL;const Or=new class{constructor(){this.baseURL=Dr,this.apiPrefix="/api/v1"}getAuthHeaders(){const e=localStorage.getItem("authToken");return{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}}async request(e,t={}){const r=e.startsWith("/api/")?e:`${this.apiPrefix}${e}`,n=`${this.baseURL}${r}`,a={headers:this.getAuthHeaders(),...t};try{const e=await fetch(n,a);if(!e.ok){const t=await e.json().catch(()=>({detail:"Request failed"}));throw new Error(t.detail||`HTTP ${e.status}`)}return await e.json()}catch(s){throw console.error(`API request failed: ${e}`,s),s}}async get(e){return this.request(e,{method:"GET"})}async post(e,t){return this.request(e,{method:"POST",body:JSON.stringify(t)})}async put(e,t){return this.request(e,{method:"PUT",body:JSON.stringify(t)})}async delete(e){return this.request(e,{method:"DELETE"})}async patch(e,t){return this.request(e,{method:"PATCH",body:JSON.stringify(t)})}},Lr={me:async()=>Or.get("/auth/me"),update:async e=>Or.put("/auth/me",e),delete:async()=>Or.delete("/auth/me")},Ir=async(e={})=>{const t=new URLSearchParams(e).toString();return Or.get(`/recipes?${t}`)},Fr=async e=>Or.post("/recipes",e),Br=async(e={})=>{const t=new URLSearchParams(e).toString();return Or.get(`/bakes?${t}`)},$r=async(e={},t=null)=>{const r={...e};t&&(r.order_by=t);const n=new URLSearchParams(r).toString();return Or.get(`/bakes?${n}`)},zr=async e=>Or.post("/bakes",e),Wr=async(e={})=>{const t=new URLSearchParams(e).toString();return Or.get(`/circles?${t}`)},Ur=async e=>Or.post("/circles",e),Hr=async(e={},t=null)=>{const r={...e};t&&(r.order_by=t);const n=new URLSearchParams(r).toString();return Or.get(`/comments?${n}`)},qr=async e=>Or.post("/comments",e),Vr=async(e={},t=null)=>{const r={...e};t&&(r.order_by=t);const n=new URLSearchParams(r).toString();return Or.get(`/likes?${n}`)},Yr=async e=>Or.post("/likes",e),Gr=async e=>Or.delete(`/likes/${e}`),Kr=async(e={})=>{const t=new URLSearchParams(e).toString();return Or.get(`/messages?${t}`)},Jr=async(e={},t=null)=>{const r={...e};t&&(r.order_by=t);const n=new URLSearchParams(r).toString();return Or.get(`/messages?${n}`)},Xr=async e=>Or.post("/messages",e),Zr=async(e,t)=>Or.put(`/messages/${e}`,t),Qr={list:async(e={})=>{const t=new URLSearchParams(e).toString();return Or.get(`/notifications?${t}`)},markAsRead:async e=>Or.patch(`/notifications/${e}/read`),markAllAsRead:async()=>Or.post("/notifications/mark-all-read")},en=Y("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function tn({className:e,variant:r,...n}){return t.jsx("div",{className:Mr(en({variant:r}),e),...n})}var rn="Popover",[nn,an]=n(rn,[d]),sn=d(),[on,ln]=nn(rn),cn=r=>{const{__scopePopover:n,children:a,open:s,defaultOpen:i,onOpenChange:o,modal:l=!1}=r,c=sn(n),u=e.useRef(null),[d,h]=e.useState(!1),[m,f]=x({prop:s,defaultProp:i??!1,onChange:o,caller:rn});return t.jsx(g,{...c,children:t.jsx(on,{scope:n,contentId:v(),triggerRef:u,open:m,onOpenChange:f,onOpenToggle:e.useCallback(()=>f(e=>!e),[f]),hasCustomAnchor:d,onCustomAnchorAdd:e.useCallback(()=>h(!0),[]),onCustomAnchorRemove:e.useCallback(()=>h(!1),[]),modal:l,children:a})})};cn.displayName=rn;var un="PopoverAnchor";e.forwardRef((r,n)=>{const{__scopePopover:a,...s}=r,i=ln(un,a),o=sn(a),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=i;return e.useEffect(()=>(l(),()=>c()),[l,c]),t.jsx(b,{...o,...s,ref:n})}).displayName=un;var dn="PopoverTrigger",hn=e.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=ln(dn,n),o=sn(n),l=i(r,s.triggerRef),c=t.jsx(y.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kn(s.open),...a,ref:l,onClick:u(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:t.jsx(b,{asChild:!0,...o,children:c})});hn.displayName=dn;var mn="PopoverPortal",[fn,pn]=nn(mn,{forceMount:void 0}),xn=e=>{const{__scopePopover:r,forceMount:n,children:i,container:o}=e,l=ln(mn,r);return t.jsx(fn,{scope:r,forceMount:n,children:t.jsx(a,{present:n||l.open,children:t.jsx(s,{asChild:!0,container:o,children:i})})})};xn.displayName=mn;var gn="PopoverContent",vn=e.forwardRef((e,r)=>{const n=pn(gn,e.__scopePopover),{forceMount:s=n.forceMount,...i}=e,o=ln(gn,e.__scopePopover);return t.jsx(a,{present:s||o.open,children:o.modal?t.jsx(bn,{...i,ref:r}):t.jsx(jn,{...i,ref:r})})});vn.displayName=gn;var yn=c("PopoverContent.RemoveScroll"),bn=e.forwardRef((r,n)=>{const a=ln(gn,r.__scopePopover),s=e.useRef(null),c=i(n,s),d=e.useRef(!1);return e.useEffect(()=>{const e=s.current;if(e)return o(e)},[]),t.jsx(l,{as:yn,allowPinchZoom:!0,children:t.jsx(wn,{...r,ref:c,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:u(r.onCloseAutoFocus,e=>{var t;e.preventDefault(),d.current||null==(t=a.triggerRef.current)||t.focus()}),onPointerDownOutside:u(r.onPointerDownOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;d.current=n},{checkForDefaultPrevented:!1}),onFocusOutside:u(r.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),jn=e.forwardRef((r,n)=>{const a=ln(gn,r.__scopePopover),s=e.useRef(!1),i=e.useRef(!1);return t.jsx(wn,{...r,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:e=>{var t,n;null==(t=r.onCloseAutoFocus)||t.call(r,e),e.defaultPrevented||(s.current||null==(n=a.triggerRef.current)||n.focus(),e.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:e=>{var t,n;null==(t=r.onInteractOutside)||t.call(r,e),e.defaultPrevented||(s.current=!0,"pointerdown"===e.detail.originalEvent.type&&(i.current=!0));const o=e.target;(null==(n=a.triggerRef.current)?void 0:n.contains(o))&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&i.current&&e.preventDefault()}})}),wn=e.forwardRef((e,r)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...x}=e,g=ln(gn,n),v=sn(n);return h(),t.jsx(m,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:t.jsx(f,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:t.jsx(p,{"data-state":kn(g.open),role:"dialog",id:g.contentId,...v,...x,ref:r,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Nn="PopoverClose";e.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=ln(Nn,n);return t.jsx(y.button,{type:"button",...a,ref:r,onClick:u(e.onClick,()=>s.onOpenChange(!1))})}).displayName=Nn;function kn(e){return e?"open":"closed"}e.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=sn(n);return t.jsx(j,{...s,...a,ref:r})}).displayName="PopoverArrow";var _n=xn,Cn=vn;const Sn=cn,En=hn,Pn=e.forwardRef(({className:e,align:r="center",sideOffset:n=4,...a},s)=>t.jsx(_n,{children:t.jsx(Cn,{ref:s,align:r,sideOffset:n,className:Mr("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));function Rn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function Mn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}Pn.displayName=Cn.displayName;const Tn=6048e5,An=43200;let Dn={};function On(){return Dn}function Ln(e,t){var r,n,a,s;const i=On(),o=(null==t?void 0:t.weekStartsOn)??(null==(n=null==(r=null==t?void 0:t.locale)?void 0:r.options)?void 0:n.weekStartsOn)??i.weekStartsOn??(null==(s=null==(a=i.locale)?void 0:a.options)?void 0:s.weekStartsOn)??0,l=Rn(e),c=l.getDay(),u=(c<o?7:0)+c-o;return l.setDate(l.getDate()-u),l.setHours(0,0,0,0),l}function In(e){return Ln(e,{weekStartsOn:1})}function Fn(e){const t=Rn(e),r=t.getFullYear(),n=Mn(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=In(n),s=Mn(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const i=In(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Bn(e){const t=Rn(e);return t.setHours(0,0,0,0),t}function $n(e){const t=Rn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function zn(e,t){const r=Rn(e),n=Rn(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Wn(e){if(!(t=e,t instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)||"number"==typeof e))return!1;var t;const r=Rn(e);return!isNaN(Number(r))}function Un(e){const t=Rn(e);return+function(e){const t=Rn(e);return t.setHours(23,59,59,999),t}(t)===+function(e){const t=Rn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}(t)}function Hn(e,t){const r=Rn(e),n=Rn(t),a=zn(r,n),s=Math.abs(function(e,t){const r=Rn(e),n=Rn(t);return 12*(r.getFullYear()-n.getFullYear())+(r.getMonth()-n.getMonth())}(r,n));let i;if(s<1)i=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let t=zn(r,n)===-a;Un(Rn(e))&&1===s&&1===zn(e,n)&&(t=!1),i=a*(s-Number(t))}return 0===i?0:i}function qn(e,t,r){const n=function(e,t){return+Rn(e)-+Rn(t)}(e,t)/1e3;return(a=null==r?void 0:r.roundingMethod,e=>{const t=(a?Math[a]:Math.trunc)(e);return 0===t?0:t})(n);var a}const Vn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Yn(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Gn={date:Yn({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Yn({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Yn({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Kn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Jn(e){return(t,r)=>{let n;if("formatting"===((null==r?void 0:r.context)?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=(null==r?void 0:r.width)?String(r.width):t;n=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=(null==r?void 0:r.width)?String(r.width):e.defaultWidth;n=e.values[a]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function Xn(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return}(o,e=>e.test(i)):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r;return}(o,e=>e.test(i));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;return{value:c,rest:t.slice(i.length)}}}var Zn;const Qn={code:"en-US",formatDistance:(e,t,r)=>{let n;const a=Vn[e];return n="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),(null==r?void 0:r.addSuffix)?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:Gn,formatRelative:(e,t,r,n)=>Kn[e],localize:{ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:Jn({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Jn({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Jn({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Jn({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Jn({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Zn={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const r=e.match(Zn.matchPattern);if(!r)return null;const n=r[0],a=e.match(Zn.parsePattern);if(!a)return null;let s=Zn.valueCallback?Zn.valueCallback(a[0]):a[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(n.length)}}),era:Xn({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Xn({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xn({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Xn({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Xn({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function ea(e){const t=Rn(e),r=function(e,t){const r=Bn(e),n=Bn(t),a=+r-$n(r),s=+n-$n(n);return Math.round((a-s)/864e5)}(t,function(e){const t=Rn(e),r=Mn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}(t));return r+1}function ta(e){const t=Rn(e),r=+In(t)-+function(e){const t=Fn(e),r=Mn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),In(r)}(t);return Math.round(r/Tn)+1}function ra(e,t){var r,n,a,s;const i=Rn(e),o=i.getFullYear(),l=On(),c=(null==t?void 0:t.firstWeekContainsDate)??(null==(n=null==(r=null==t?void 0:t.locale)?void 0:r.options)?void 0:n.firstWeekContainsDate)??l.firstWeekContainsDate??(null==(s=null==(a=l.locale)?void 0:a.options)?void 0:s.firstWeekContainsDate)??1,u=Mn(e,0);u.setFullYear(o+1,0,c),u.setHours(0,0,0,0);const d=Ln(u,t),h=Mn(e,0);h.setFullYear(o,0,c),h.setHours(0,0,0,0);const m=Ln(h,t);return i.getTime()>=d.getTime()?o+1:i.getTime()>=m.getTime()?o:o-1}function na(e,t){const r=Rn(e),n=+Ln(r,t)-+function(e,t){var r,n,a,s;const i=On(),o=(null==t?void 0:t.firstWeekContainsDate)??(null==(n=null==(r=null==t?void 0:t.locale)?void 0:r.options)?void 0:n.firstWeekContainsDate)??i.firstWeekContainsDate??(null==(s=null==(a=i.locale)?void 0:a.options)?void 0:s.firstWeekContainsDate)??1,l=ra(e,t),c=Mn(e,0);return c.setFullYear(l,0,o),c.setHours(0,0,0,0),Ln(c,t)}(r,t);return Math.round(n/Tn)+1}function aa(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const sa={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return aa("yy"===t?n%100:n,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):aa(r+1,2)},d:(e,t)=>aa(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>aa(e.getHours()%12||12,t.length),H:(e,t)=>aa(e.getHours(),t.length),m:(e,t)=>aa(e.getMinutes(),t.length),s:(e,t)=>aa(e.getSeconds(),t.length),S(e,t){const r=t.length,n=e.getMilliseconds();return aa(Math.trunc(n*Math.pow(10,r-3)),t.length)}},ia="midnight",oa="noon",la="morning",ca="afternoon",ua="evening",da="night",ha={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){const t=e.getFullYear(),n=t>0?t:1-t;return r.ordinalNumber(n,{unit:"year"})}return sa.y(e,t)},Y:function(e,t,r,n){const a=ra(e,n),s=a>0?a:1-a;if("YY"===t){return aa(s%100,2)}return"Yo"===t?r.ordinalNumber(s,{unit:"year"}):aa(s,t.length)},R:function(e,t){return aa(Fn(e),t.length)},u:function(e,t){return aa(e.getFullYear(),t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return aa(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return aa(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return sa.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return aa(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=na(e,n);return"wo"===t?r.ordinalNumber(a,{unit:"week"}):aa(a,t.length)},I:function(e,t,r){const n=ta(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):aa(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):sa.d(e,t)},D:function(e,t,r){const n=ea(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):aa(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return aa(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return aa(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=0===n?7:n;switch(t){case"i":return String(a);case"ii":return aa(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(a=12===n?oa:0===n?ia:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(a=n>=17?ua:n>=12?ca:n>=4?la:da,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return sa.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):sa.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):aa(n,t.length)},k:function(e,t,r){let n=e.getHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):aa(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):sa.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):sa.s(e,t)},S:function(e,t){return sa.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return fa(n);case"XXXX":case"XX":return pa(n);default:return pa(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return fa(n);case"xxxx":case"xx":return pa(n);default:return pa(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ma(n,":");default:return"GMT"+pa(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ma(n,":");default:return"GMT"+pa(n,":")}},t:function(e,t,r){return aa(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,r){return aa(e.getTime(),t.length)}};function ma(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return 0===s?r+String(a):r+String(a)+t+aa(s,2)}function fa(e,t){if(e%60==0){return(e>0?"-":"+")+aa(Math.abs(e)/60,2)}return pa(e,t)}function pa(e,t=""){const r=e>0?"-":"+",n=Math.abs(e);return r+aa(Math.trunc(n/60),2)+t+aa(n%60,2)}const xa=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},ga=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},va={p:ga,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return xa(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",xa(n,t)).replace("{{time}}",ga(a,t))}},ya=/^D+$/,ba=/^Y+$/,ja=["D","DD","YY","YYYY"];const wa=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Na=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ka=/^'([^]*?)'?$/,_a=/''/g,Ca=/[a-zA-Z]/;function Sa(e,t,r){var n,a,s,i;const o=On(),l=o.locale??Qn,c=o.firstWeekContainsDate??(null==(a=null==(n=o.locale)?void 0:n.options)?void 0:a.firstWeekContainsDate)??1,u=o.weekStartsOn??(null==(i=null==(s=o.locale)?void 0:s.options)?void 0:i.weekStartsOn)??0,d=Rn(e);if(!Wn(d))throw new RangeError("Invalid time value");let h=t.match(Na).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,va[t])(e,l.formatLong)}return e}).join("").match(wa).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Ea(e)};if(ha[t])return{isToken:!0,value:e};if(t.match(Ca))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});l.localize.preprocessor&&(h=l.localize.preprocessor(d,h));const m={firstWeekContainsDate:c,weekStartsOn:u,locale:l};return h.map(r=>{if(!r.isToken)return r.value;const n=r.value;(function(e){return ba.test(e)}(n)||function(e){return ya.test(e)}(n))&&function(e,t,r){const n=function(e,t,r){const n="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,r);if(console.warn(n),ja.includes(e))throw new RangeError(n)}(n,t,String(e));return(0,ha[n[0]])(d,n,l.localize,m)}).join("")}function Ea(e){const t=e.match(ka);return t?t[1].replace(_a,"'"):e}function Pa(e,t){return function(e,t,r){const n=On(),a=(null==r?void 0:r.locale)??n.locale??Qn,s=zn(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const i=Object.assign({},r,{addSuffix:null==r?void 0:r.addSuffix,comparison:s});let o,l;s>0?(o=Rn(t),l=Rn(e)):(o=Rn(e),l=Rn(t));const c=qn(l,o),u=($n(l)-$n(o))/1e3,d=Math.round((c-u)/60);let h;if(d<2)return(null==r?void 0:r.includeSeconds)?c<5?a.formatDistance("lessThanXSeconds",5,i):c<10?a.formatDistance("lessThanXSeconds",10,i):c<20?a.formatDistance("lessThanXSeconds",20,i):c<40?a.formatDistance("halfAMinute",0,i):c<60?a.formatDistance("lessThanXMinutes",1,i):a.formatDistance("xMinutes",1,i):0===d?a.formatDistance("lessThanXMinutes",1,i):a.formatDistance("xMinutes",d,i);if(d<45)return a.formatDistance("xMinutes",d,i);if(d<90)return a.formatDistance("aboutXHours",1,i);if(d<1440){const e=Math.round(d/60);return a.formatDistance("aboutXHours",e,i)}if(d<2520)return a.formatDistance("xDays",1,i);if(d<An){const e=Math.round(d/1440);return a.formatDistance("xDays",e,i)}if(d<86400)return h=Math.round(d/An),a.formatDistance("aboutXMonths",h,i);if(h=Hn(l,o),h<12){const e=Math.round(d/An);return a.formatDistance("xMonths",e,i)}{const e=h%12,t=Math.trunc(h/12);return e<3?a.formatDistance("aboutXYears",t,i):e<9?a.formatDistance("overXYears",t,i):a.formatDistance("almostXYears",t+1,i)}}(e,function(e){return Mn(e,Date.now())}(e),t)}function Ra(){const[r,n]=e.useState([]),[a,s]=e.useState(0);e.useEffect(()=>{i();const e=setInterval(i,3e4);return()=>clearInterval(e)},[]);const i=async()=>{try{const e=await Lr.me(),t=await Qr.filter({user_email:e.email},"-created_date",20);n(t),s(t.filter(e=>!e.is_read).length)}catch(e){}},o=e=>{switch(e){case"message":return t.jsx(sr,{className:"w-4 h-4 text-purple-500"});case"like":return t.jsx(vr,{className:"w-4 h-4 text-yellow-500"});case"comment":return t.jsx(nr,{className:"w-4 h-4 text-blue-500"});default:return t.jsx(Dt,{className:"w-4 h-4 text-gray-500"})}};return t.jsxs(Sn,{children:[t.jsx(En,{asChild:!0,children:t.jsxs(Ar,{variant:"ghost",size:"icon",className:"relative",children:[t.jsx(Dt,{className:"w-5 h-5"}),a>0&&t.jsx(tn,{className:"absolute -top-1 -right-1 w-5 h-5 p-0 justify-center bg-red-500 text-white rounded-full text-xs",children:a})]})}),t.jsxs(Pn,{className:"w-80 p-0",children:[t.jsx("div",{className:"p-4 border-b",children:t.jsx("h4",{className:"font-medium text-lg",children:"Notifications"})}),t.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length>0?r.map(e=>t.jsxs(Nt,{to:e.link_to||"#",onClick:()=>(async e=>{e.is_read||(await Qr.update(e.id,{is_read:!0}),i())})(e),className:"flex items-start gap-4 p-4 hover:bg-gray-50 border-b border-gray-100 "+(e.is_read?"":"bg-orange-50"),children:[t.jsx("div",{className:"mt-1",children:o(e.type)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-gray-800",children:e.content}),t.jsx("p",{className:"text-xs text-gray-500",children:Pa(new Date(e.created_date),{addSuffix:!0})})]})]},e.id)):t.jsx("p",{className:"p-8 text-center text-sm text-gray-500",children:"No new notifications."})})]})]})}const Ma=E,Ta=N,Aa=e.forwardRef(({className:e,...r},n)=>t.jsx(w,{ref:n,className:Mr("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));Aa.displayName=w.displayName;const Da=e.forwardRef(({className:e,children:r,...n},a)=>t.jsxs(Ta,{children:[t.jsx(Aa,{}),t.jsxs(k,{ref:a,className:Mr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[r,t.jsxs(_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(_r,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Da.displayName=k.displayName;const Oa=({className:e,...r})=>t.jsx("div",{className:Mr("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});Oa.displayName="DialogHeader";const La=e.forwardRef(({className:e,...r},n)=>t.jsx(C,{ref:n,className:Mr("text-lg font-semibold leading-none tracking-tight",e),...r}));La.displayName=C.displayName;const Ia=e.forwardRef(({className:e,...r},n)=>t.jsx(S,{ref:n,className:Mr("text-sm text-muted-foreground",e),...r}));function Fa({isOpen:r,onOpenChange:n}){const{login:a}=Pr(),[s,i]=e.useState(!1),[o,l]=e.useState("");e.useEffect(()=>{if(window.google&&"YOUR_GOOGLE_CLIENT_ID"!==Cr.CLIENT_ID)try{window.google.accounts.id.initialize({client_id:Cr.CLIENT_ID,callback:c,use_fedcm_for_prompt:!1}),console.log("Google Identity Services initialized with client ID:",Cr.CLIENT_ID)}catch(e){console.error("Failed to initialize Google Identity Services:",e),l("Google OAuth initialization failed. Please refresh the page.")}else console.log("Google Identity Services not available or client ID not configured")},[]);const c=async e=>{i(!0),l("");try{const t=await a(e.credential);t.success?(n(!1),window.location.href="/Profile"):l(t.error||"Google login failed")}catch(t){console.error("Google login error:",t),l("Google login failed. Please try again.")}finally{i(!1)}};return t.jsx(Ma,{open:r,onOpenChange:n,children:t.jsxs(Da,{className:"sm:max-w-md bg-white/90 backdrop-blur-md border-purple-200 shadow-2xl rounded-2xl",children:[t.jsxs(Oa,{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx($t,{className:"w-8 h-8 text-white"})}),t.jsx(La,{className:"text-2xl font-bold text-gray-900",children:"Join the Community"}),t.jsx(Ia,{className:"text-gray-600 mt-2",children:"Please sign in to share your bakes and connect with other bakers."})]}),o&&t.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-red-600 text-sm",children:o})}),t.jsxs("div",{className:"mt-6 space-y-4",children:[t.jsxs(Ar,{onClick:async()=>{if(window.google){i(!0),l("");try{console.log("Attempting Google login with client ID:",Cr.CLIENT_ID),window.google.accounts.id.prompt(e=>{console.log("Google prompt notification:",e),(e.isNotDisplayed()||e.isSkippedMoment())&&(console.log("One Tap not available, falling back to popup"),window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large"}),i(!1))})}catch(e){console.error("Google OAuth error:",e),l(`Failed to initialize Google login: ${e.message}`),i(!1)}}else l("Google Identity Services not loaded. Please refresh the page and try again.")},disabled:s,size:"lg",variant:"outline",className:"w-full border-2 border-gray-300 text-gray-600 shadow-lg hover:shadow-xl transition-all text-lg font-semibold py-6 rounded-xl disabled:opacity-50",children:[t.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[t.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),t.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),t.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),t.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s?"Signing in...":"Continue with Google"]}),t.jsx("div",{id:"google-signin-button",className:"w-full"}),t.jsx(Ar,{onClick:async()=>{i(!0),l("");try{const e=await a("demo_token");e.success?(n(!1),window.location.href="/Profile"):l(e.error||"Demo login failed")}catch(e){console.error("Demo login error:",e),l(e.message||"Demo login failed")}finally{i(!1)}},disabled:s,size:"lg",className:"w-full bg-gradient-to-r from-orange-500 to-pink-500 text-white shadow-lg hover:shadow-xl transition-all text-lg font-semibold py-6 rounded-xl disabled:opacity-50",children:s?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Signing in..."]}):t.jsxs(t.Fragment,{children:[t.jsx($t,{className:"w-5 h-5 mr-3"}),"Try Demo Login"]})})]})]})})}Ia.displayName=S.displayName;const Ba=[{title:"Home",url:St("Home"),icon:Zt},{title:"Recipes",url:St("Recipes"),icon:Ot},{title:"Circles",url:St("Circles"),icon:kr}];function $a({children:r,currentPageName:n}){const a=Ie(),s=$e(),{user:i,isAuthenticated:o,logout:l}=Pr(),[c,u]=e.useState(!1),d=async()=>{o?s(St("AddBake")):u(!0)};let h=[...Ba];return o&&h.push({title:"Profile",url:St("Profile"),icon:Nr}),h.push({title:"Contact",url:St("Contact"),icon:Nr}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-purple-50",children:[t.jsx(Fa,{isOpen:c,onOpenChange:u}),t.jsx("style",{children:"\n          :root {\n            --primary: #f97316;\n            --primary-foreground: #ffffff;\n            --secondary: #8b5cf6;\n            --secondary-foreground: #ffffff;\n            --accent: #ec4899;\n            --accent-foreground: #ffffff;\n            --background: #fefefe;\n            --foreground: #1f2937;\n            --muted: #f3f4f6;\n            --muted-foreground: #6b7280;\n            --border: #e5e7eb;\n            --ring: #f97316;\n            --card: #ffffff;\n            --card-foreground: #1f2937;\n          }\n        "}),t.jsx("header",{className:"hidden md:block bg-white/90 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Nt,{to:St("Home"),className:"flex items-center gap-3",children:[t.jsx("img",{src:"/logo.svg",alt:"xFood Logo",className:"h-10"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"xFood"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Community Baking"})]})]}),t.jsxs("nav",{className:"flex items-center gap-2",children:[h.map(e=>t.jsxs(Nt,{to:e.url,className:"flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-200 font-medium "+(a.pathname===e.url?"bg-gradient-to-r from-orange-500 to-pink-500 text-white shadow-lg":"text-gray-700 hover:text-orange-600 hover:bg-orange-50"),children:[t.jsx(e.icon,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden lg:block",children:e.title})]},e.title)),t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o&&i&&t.jsx(Ra,{}),o?t.jsxs(t.Fragment,{children:[t.jsxs(Ar,{onClick:d,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg",children:[t.jsx(lr,{className:"w-4 h-4 mr-2"}),"Share Bake"]}),t.jsx(Ar,{onClick:l,variant:"outline",className:"text-gray-600 border-gray-300 hover:bg-gray-50",children:"Sign Out"})]}):t.jsx(Ar,{onClick:()=>u(!0),className:"bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white shadow-lg",children:"Sign In"})]})]})]})})}),t.jsx("main",{className:"pb-24 md:pb-8",children:r}),t.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t border-gray-200 z-50 shadow-2xl",children:t.jsxs("div",{className:"flex items-center justify-around h-20 px-2",children:[h.slice(0,2).map(e=>t.jsxs(Nt,{to:e.url,className:"flex flex-col items-center gap-1 p-3 rounded-xl transition-all duration-200 w-1/5 "+(a.pathname===e.url?"text-orange-600 bg-orange-50":"text-gray-500"),children:[t.jsx(e.icon,{className:"w-5 h-5 "+(a.pathname===e.url?"scale-110":"")}),t.jsx("span",{className:"text-xs font-medium",children:e.title})]},e.title)),t.jsx("div",{className:"w-1/5 flex justify-center",children:t.jsx("button",{onClick:d,className:"-mt-8 w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full shadow-2xl flex items-center justify-center",children:t.jsx(lr,{className:"w-8 h-8 text-white"})})}),h.slice(2).map(e=>t.jsxs(Nt,{to:e.url,className:"flex flex-col items-center gap-1 p-3 rounded-xl transition-all duration-200 w-1/5 "+(a.pathname===e.url?"text-orange-600 bg-orange-50":"text-gray-500"),children:[t.jsx(e.icon,{className:"w-5 h-5 "+(a.pathname===e.url?"scale-110":"")}),t.jsx("span",{className:"text-xs font-medium",children:e.title})]},e.title))]})})]})}const za=e.forwardRef(({className:e,type:r,...n},a)=>t.jsx("input",{type:r,className:Mr("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...n}));za.displayName="Input";var Wa="Tabs",[Ua,Ha]=n(Wa,[P]),qa=P(),[Va,Ya]=Ua(Wa),Ga=e.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=T(l),[h,m]=x({prop:a,onChange:s,defaultProp:i??"",caller:Wa});return t.jsx(Va,{scope:n,baseId:v(),value:h,onValueChange:m,orientation:o,dir:d,activationMode:c,children:t.jsx(y.div,{dir:d,"data-orientation":o,...u,ref:r})})});Ga.displayName=Wa;var Ka="TabsList",Ja=e.forwardRef((e,r)=>{const{__scopeTabs:n,loop:a=!0,...s}=e,i=Ya(Ka,n),o=qa(n);return t.jsx(R,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:t.jsx(y.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:r})})});Ja.displayName=Ka;var Xa="TabsTrigger",Za=e.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,disabled:s=!1,...i}=e,o=Ya(Xa,n),l=qa(n),c=ts(o.baseId,a),d=rs(o.baseId,a),h=a===o.value;return t.jsx(M,{asChild:!0,...l,focusable:!s,active:h,children:t.jsx(y.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:r,onMouseDown:u(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(a)}),onKeyDown:u(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(a)}),onFocus:u(e.onFocus,()=>{const e="manual"!==o.activationMode;h||s||!e||o.onValueChange(a)})})})});Za.displayName=Xa;var Qa="TabsContent",es=e.forwardRef((r,n)=>{const{__scopeTabs:s,value:i,forceMount:o,children:l,...c}=r,u=Ya(Qa,s),d=ts(u.baseId,i),h=rs(u.baseId,i),m=i===u.value,f=e.useRef(m);return e.useEffect(()=>{const e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),t.jsx(a,{present:o||m,children:({present:e})=>t.jsx(y.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!e,id:h,tabIndex:0,...c,ref:n,style:{...r.style,animationDuration:f.current?"0s":void 0},children:e&&l})})});function ts(e,t){return`${e}-trigger-${t}`}function rs(e,t){return`${e}-content-${t}`}es.displayName=Qa;var ns=Ja,as=Za,ss=es;const is=Ga,os=e.forwardRef(({className:e,...r},n)=>t.jsx(ns,{ref:n,className:Mr("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...r}));os.displayName=ns.displayName;const ls=e.forwardRef(({className:e,...r},n)=>t.jsx(as,{ref:n,className:Mr("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...r}));ls.displayName=as.displayName;const cs=e.forwardRef(({className:e,...r},n)=>t.jsx(ss,{ref:n,className:Mr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));cs.displayName=ss.displayName;const us=e.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:Mr("rounded-xl border bg-card text-card-foreground shadow",e),...r}));us.displayName="Card";const ds=e.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:Mr("flex flex-col space-y-1.5 p-6",e),...r}));ds.displayName="CardHeader";const hs=e.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:Mr("font-semibold leading-none tracking-tight",e),...r}));hs.displayName="CardTitle";const ms=e.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:Mr("text-sm text-muted-foreground",e),...r}));ms.displayName="CardDescription";const fs=e.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:Mr("p-6 pt-0",e),...r}));fs.displayName="CardContent";e.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:Mr("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter";const ps=e.forwardRef(({className:e,...r},n)=>t.jsx("textarea",{className:Mr("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));function xs({bakeId:r}){const[n,a]=e.useState([]),[s,i]=e.useState(""),[o,l]=e.useState(5),[c,u]=e.useState(null),[d,h]=e.useState(!0);e.useEffect(()=>{f(),m()},[r]);const m=async()=>{try{const e=await Lr.me();u(e)}catch(e){}},f=async()=>{try{const e=await Hr({bake_id:r},"-created_date");a(e)}catch(e){console.error("Error loading comments:",e)}h(!1)};return d?t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mb-4"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"h-16 bg-gray-200 rounded"}),t.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})}):t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Comments (",n.length,")"]}),c?t.jsx(us,{className:"bg-white/70 backdrop-blur-sm border border-purple-100 shadow-sm mb-6",children:t.jsx(fs,{className:"p-4",children:t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),c)if(s.trim())try{await qr({bake_id:r,content:s.trim(),rating:o,author_name:c.full_name}),i(""),l(5),f()}catch(t){console.error("Error submitting comment:",t),alert("Failed to submit comment. Please try again.")}else alert("Please enter a comment");else alert("Please sign in to leave a comment")},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Rating"}),t.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(e=>t.jsx("button",{type:"button",onClick:()=>l(e),className:"focus:outline-none",children:t.jsx(vr,{className:"w-6 h-6 "+(e<=o?"fill-yellow-400 text-yellow-400":"text-gray-300")})},e))})]}),t.jsx(ps,{placeholder:"Share your thoughts about this bake...",value:s,onChange:e=>i(e.target.value),rows:3,className:"resize-none border-purple-200 focus:border-orange-400"}),t.jsxs(Ar,{type:"submit",className:"bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white",children:[t.jsx(dr,{className:"w-4 h-4 mr-2"}),"Post Comment"]})]})})}):t.jsx(us,{className:"bg-white/70 backdrop-blur-sm border border-purple-100 shadow-sm mb-6",children:t.jsxs(fs,{className:"p-4 text-center",children:[t.jsx("p",{className:"text-gray-600 mb-3",children:"Sign in to leave a comment and rating"}),t.jsx(Ar,{onClick:()=>Lr.login(),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white",children:"Sign In"})]})}),t.jsx("div",{className:"space-y-4",children:n.length>0?n.map(e=>{var r,n;return t.jsx(us,{className:"bg-white/70 backdrop-blur-sm border border-purple-100 shadow-sm",children:t.jsxs(fs,{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-400 to-pink-400 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-semibold",children:null==(n=null==(r=e.author_name)?void 0:r.charAt(0))?void 0:n.toUpperCase()})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:e.author_name}),t.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.created_date).toLocaleDateString()})]})]}),e.rating&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(vr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),t.jsx("span",{className:"text-sm font-medium",children:e.rating})]})]}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.content})]})},e.id)}):t.jsx(us,{className:"bg-white/70 backdrop-blur-sm border border-purple-100 shadow-sm",children:t.jsx(fs,{className:"p-8 text-center",children:t.jsx("p",{className:"text-gray-500",children:"No comments yet. Be the first to share your thoughts!"})})})})]})})}function gs({bake:r,showActions:n=!0}){const[a,s]=e.useState(!1),[i,o]=e.useState(0),[l,c]=e.useState(null),[u,d]=e.useState(!1);e.useEffect(()=>{h(),m()},[]);const h=async()=>{try{const e=await Lr.me();c(e)}catch(e){}},m=async()=>{try{const e=await Vr({bake_id:r.id});if(o(e.length),l){const t=e.find(e=>e.user_email===l.email);s(!!t)}}catch(e){console.error("Error loading likes:",e)}},f=(null==l?void 0:l.email)===r.created_by;return t.jsxs(us,{className:"group overflow-hidden bg-white border-0 shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-1 rounded-2xl",children:[t.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[t.jsx("img",{src:r.image_url||"https://images.unsplash.com/photo-1549961784-88021481fc37?w=400",alt:r.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),t.jsx("div",{className:"absolute top-3 left-3",children:t.jsx(tn,{className:"bg-white/95 text-orange-700 border-0 shadow-lg rounded-xl px-3 py-1 font-semibold",children:r.category})}),r.available_for_order&&t.jsx("div",{className:"absolute top-3 right-3",children:t.jsxs(tn,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0 shadow-lg rounded-xl px-3 py-1 font-medium",children:[t.jsx(pr,{className:"w-3 h-3 mr-1"}),"Available"]})}),t.jsx("div",{className:"absolute bottom-3 right-3 flex items-center gap-2",children:r.views>0&&t.jsxs("div",{className:"bg-black/60 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[t.jsx(Kt,{className:"w-3 h-3"}),r.views]})})]}),t.jsx(fs,{className:"p-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-900 line-clamp-1 text-lg",children:r.title}),t.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-2 leading-relaxed",children:r.description})]}),t.jsxs("div",{className:"space-y-2 text-xs text-gray-700",children:[r.phone_number&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(or,{className:"w-3 h-3 text-orange-600"}),t.jsx("span",{className:"font-medium",children:r.phone_number})]}),r.pickup_location&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ar,{className:"w-3 h-3 text-purple-600"}),t.jsx("span",{children:r.pickup_location})]})]}),r.tags&&r.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.slice(0,3).map((e,r)=>t.jsxs(tn,{variant:"outline",className:"text-xs bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 border-purple-200 rounded-full px-2 py-1",children:["#",e]},r))}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[r.rating>0&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(vr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),t.jsx("span",{className:"text-sm font-semibold",children:r.rating.toFixed(1)})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Xt,{className:"w-4 h-4 "+(a?"fill-red-500 text-red-500":"text-gray-400")}),t.jsx("span",{className:"text-sm text-gray-600",children:i})]})]}),r.price&&t.jsxs("span",{className:"text-xl font-bold bg-gradient-to-r from-orange-600 to-pink-600 bg-clip-text text-transparent",children:["$",r.price]})]}),n&&t.jsxs("div",{className:"space-y-2 pt-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Ar,{variant:"outline",size:"sm",onClick:async()=>{if(l)try{if(a){const e=await Vr({bake_id:r.id,user_email:l.email});e.length>0&&(await Gr(e[0].id),o(e=>e-1),s(!1))}else await Yr({bake_id:r.id,user_email:l.email}),o(e=>e+1),s(!0)}catch(e){console.error("Error handling like:",e)}else alert("Please sign in to like bakes")},className:"flex-1 rounded-xl transition-all "+(a?"bg-gradient-to-r from-red-50 to-pink-50 border-red-200 text-red-600":"bg-gradient-to-r from-purple-50 to-pink-50 border-purple-200 text-purple-700"),children:[t.jsx(Xt,{className:"w-4 h-4 mr-1 "+(a?"fill-red-500":"")}),a?"Liked":"Like"]}),!f&&l&&t.jsx(Nt,{to:St(`Inbox?with=${r.created_by}&bakeId=${r.id}`),className:"flex-1",children:t.jsxs(Ar,{variant:"outline",className:"w-full bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200 text-blue-700 rounded-xl font-medium",size:"sm",children:[t.jsx(sr,{className:"w-4 h-4 mr-1"}),"Message"]})}),t.jsx(Nt,{to:St(`BakeDetail?id=${r.id}`),className:"flex-1",children:t.jsx(Ar,{className:"w-full bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white shadow-lg rounded-xl font-medium",size:"sm",children:"View Details"})})]}),t.jsxs(Ar,{variant:"outline",size:"sm",onClick:()=>d(!u),className:"w-full bg-gradient-to-r from-gray-50 to-slate-50 border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gradient-to-r hover:from-gray-100 hover:to-slate-100",children:[t.jsx(sr,{className:"w-4 h-4 mr-2"}),u?"Hide Comments":"Show Comments",u?t.jsx(Wt,{className:"w-4 h-4 ml-2"}):t.jsx(zt,{className:"w-4 h-4 ml-2"})]})]})]})}),u&&t.jsx("div",{className:"border-t border-gray-100 px-6 pb-6",children:t.jsx(xs,{bakeId:r.id})})]})}function vs({circle:e}){return t.jsxs(us,{className:"group overflow-hidden bg-white border-0 shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-1 rounded-2xl",children:[t.jsxs("div",{className:"relative h-40 overflow-hidden",children:[t.jsx("img",{src:e.image_url||"https://images.unsplash.com/photo-1556909114-6a5fda03037c?w=400",alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[t.jsx("h3",{className:"font-bold text-xl",children:e.name}),t.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[t.jsx(kr,{className:"w-4 h-4"}),t.jsxs("span",{children:[e.member_count," members"]})]})]})]}),t.jsx(fs,{className:"p-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 leading-relaxed",children:e.description}),e.location&&t.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[t.jsx(ar,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:e.location})]}),e.tags&&e.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.slice(0,3).map((e,r)=>t.jsxs(tn,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200 rounded-full px-2 py-1",children:[t.jsx(yr,{className:"w-3 h-3 mr-1"}),e.replace(/-/g," ")]},r))}),t.jsx(Nt,{to:St(`CircleDetail?id=${e.id}`),children:t.jsx(Ar,{className:"w-full bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white shadow-lg rounded-xl font-medium py-2.5",children:"View Circle"})})]})})]})}function ys({recipe:e}){const r=(e.prep_time||0)+(e.cook_time||0);return t.jsxs(us,{className:"group overflow-hidden bg-white border-0 shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-1 rounded-2xl",children:[t.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[t.jsx("img",{src:e.image_url||"https://images.unsplash.com/photo-1571115764595-644a1f56a55c?w=400",alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),t.jsx("div",{className:"absolute top-3 left-3 flex gap-2",children:t.jsx(tn,{className:"bg-white/95 text-orange-700 border-0 shadow-lg rounded-xl px-3 py-1 font-semibold",children:e.category})}),t.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2",children:[e.is_for_sale&&t.jsxs(tn,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white border-0 shadow-lg rounded-xl px-3 py-1 font-medium",children:["$",e.price]}),t.jsx(tn,{className:`${{easy:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",hard:"bg-red-100 text-red-800"}[e.difficulty]} border-0 shadow-lg rounded-xl px-3 py-1 font-medium`,children:e.difficulty})]}),t.jsx("div",{className:"absolute bottom-3 right-3 flex items-center gap-2",children:e.views>0&&t.jsxs("div",{className:"bg-black/60 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[t.jsx(Kt,{className:"w-3 h-3"}),e.views]})})]}),t.jsx(fs,{className:"p-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-900 line-clamp-1 text-lg",children:e.title}),t.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-2 leading-relaxed",children:e.description})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[r>0&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Vt,{className:"w-4 h-4"}),t.jsxs("span",{children:[r,"m"]})]}),e.servings&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(kr,{className:"w-4 h-4"}),t.jsx("span",{children:e.servings})]})]}),e.rating>0&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(vr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),t.jsx("span",{className:"font-medium",children:e.rating.toFixed(1)}),t.jsxs("span",{className:"text-xs",children:["(",e.review_count,")"]})]})]}),e.tags&&e.tags.length>0&&t.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map((e,r)=>t.jsxs(tn,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200 rounded-full px-2 py-1",children:["#",e]},r)),e.tags.length>3&&t.jsxs(tn,{variant:"outline",className:"text-xs bg-gray-50 text-gray-500 border-gray-200 rounded-full px-2 py-1",children:["+",e.tags.length-3]})]}),t.jsx(Nt,{to:St(`RecipeDetail?id=${e.id}`),children:t.jsx(Ar,{className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg rounded-xl font-medium",children:e.is_for_sale?`Buy Recipe - $${e.price}`:"View Recipe"})})]})})]})}function bs(){const[r,n]=e.useState([]),[a,s]=e.useState([]),[i,o]=e.useState([]),[l,c]=e.useState([]),[u,d]=e.useState(""),[h,m]=e.useState(""),[f,p]=e.useState([]),[x,g]=e.useState("bakes"),[v,y]=e.useState(!0),[b,j]=e.useState(!1);e.useEffect(()=>{w()},[]);const w=async()=>{y(!0);try{const e=await Br({limit:50});n(e||[]),s([]),o([]),c([])}catch(e){console.error("Error loading home data:",e),n([]),s([]),o([]),c([])}y(!1)},N=e=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},k=(()=>{let e=[];return"bakes"===x?e=r:"recipes"===x?e=i:"circles"===x&&(e=a),e.filter(e=>{var t,r,n,a,s;const i=(null==(t=e.title)?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null==(r=e.name)?void 0:r.toLowerCase().includes(u.toLowerCase()))||(null==(n=e.description)?void 0:n.toLowerCase().includes(u.toLowerCase())),o=!h||(null==(a=e.pickup_location)?void 0:a.toLowerCase().includes(h.toLowerCase()))||(null==(s=e.location)?void 0:s.toLowerCase().includes(h.toLowerCase())),l=0===f.length||f.some(t=>{var r;return null==(r=e.tags)?void 0:r.includes(t)});return i&&o&&l})})();return t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-orange-400 via-pink-500 to-purple-600 text-white overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-black/20"}),t.jsx("div",{className:"relative max-w-7xl mx-auto px-6 py-16 md:py-24",children:t.jsxs("div",{className:"text-center space-y-8",children:[t.jsxs("h1",{className:"text-4xl md:text-6xl font-bold leading-tight",children:["Share Your",t.jsx("span",{className:"block bg-white text-gray-800 mt-4 px-8 py-4 font-black rounded-3xl inline-block shadow-2xl",children:"Homemade Magic"})]}),t.jsx("p",{className:"text-xl md:text-2xl text-white/90 max-w-2xl mx-auto leading-relaxed font-medium",children:"Connect with local bakers, share recipes, and discover amazing homemade treats in your community"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(Nt,{to:St("AddBake"),children:t.jsxs(Ar,{size:"lg",className:"bg-white/95 text-orange-600 hover:bg-white shadow-xl rounded-2xl px-8 py-4 font-semibold",children:[t.jsx($t,{className:"w-5 h-5 mr-2"}),"Share a Bake"]})}),t.jsx(Nt,{to:St("Circles"),children:t.jsxs(Ar,{size:"lg",variant:"outline",className:"border-white/50 text-white hover:bg-white/10 rounded-2xl px-8 py-4 font-semibold",children:[t.jsx(kr,{className:"w-5 h-5 mr-2"}),"Join a Circle"]})})]})]})})]}),t.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[t.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-6 shadow-xl mb-8 border border-gray-100",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(ur,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx(za,{placeholder:"Search bakes, recipes, circles, bakers...",value:u,onChange:e=>d(e.target.value),className:"pl-12 py-4 text-lg bg-white border-gray-200 focus:border-orange-400 rounded-xl shadow-sm"}),t.jsx(Ar,{variant:"outline",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-orange-600 border-orange-300 hover:bg-orange-50",onClick:()=>j(!b),children:t.jsx(Jt,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"relative",children:[t.jsx(ar,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx(za,{placeholder:"Filter by location...",value:h,onChange:e=>m(e.target.value),className:"pl-12 py-3 bg-white border-gray-200 focus:border-orange-400 rounded-xl shadow-sm"})]}),b&&t.jsx(us,{className:"bg-white/70 backdrop-blur-sm border border-gray-100",children:t.jsxs(fs,{className:"p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Filter by Tags"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["vegan","gluten-free","dairy-free","sugar-free","keto","organic","chocolate","vanilla","strawberry","lemon","cinnamon","nuts"].map(e=>t.jsxs(tn,{variant:f.includes(e)?"default":"outline",className:`cursor-pointer transition-all ${f.includes(e)?"bg-gradient-to-r from-orange-500 to-pink-500 text-white":"text-gray-700 border-gray-300 hover:border-orange-400 hover:text-orange-600"} rounded-full px-4 py-2`,onClick:()=>N(e),children:["#",e]},e))}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(Ar,{variant:"outline",size:"sm",onClick:()=>{p([]),m("")},children:"Clear All"}),t.jsx(Ar,{size:"sm",className:"bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white",onClick:()=>j(!1),children:"Apply Filters"})]})]})})]})}),(f.length>0||h)&&t.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[t.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Active filters:"}),f.map(e=>t.jsxs(tn,{className:"bg-gradient-to-r from-orange-500 to-pink-500 text-white rounded-full cursor-pointer",onClick:()=>N(e),children:["#",e," Ã—"]},e)),h&&t.jsxs(tn,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full cursor-pointer",onClick:()=>m(""),children:["ðŸ“ ",h," Ã—"]})]}),t.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[t.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-pink-500 text-white text-center p-6 rounded-3xl shadow-xl",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx($t,{className:"w-6 h-6 text-white"})}),t.jsx("h3",{className:"text-2xl font-bold",children:r.length}),t.jsx("p",{className:"text-orange-100 font-medium text-sm",children:"Fresh Bakes"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 text-white rounded-3xl p-6 text-center shadow-xl",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(kr,{className:"w-6 h-6 text-white"})}),t.jsx("h3",{className:"text-2xl font-bold",children:a.length}),t.jsx("p",{className:"text-purple-100 font-medium text-sm",children:"Active Circles"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-pink-500 to-red-500 text-white rounded-3xl p-6 text-center shadow-xl",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(br,{className:"w-6 h-6 text-white"})}),t.jsx("h3",{className:"text-2xl font-bold",children:i.length}),t.jsx("p",{className:"text-pink-100 font-medium text-sm",children:"Shared Recipes"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-500 text-white rounded-3xl p-6 text-center shadow-xl",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(vr,{className:"w-6 h-6 text-white"})}),t.jsx("h3",{className:"text-2xl font-bold",children:l.length}),t.jsx("p",{className:"text-indigo-100 font-medium text-sm",children:"Top Bakers"})]})]}),t.jsxs(is,{value:x,onValueChange:g,className:"w-full",children:[t.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:t.jsxs(os,{className:"bg-white/90 backdrop-blur-sm border border-gray-100 p-1.5 shadow-lg rounded-2xl",children:[t.jsxs(ls,{value:"bakes",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-pink-500 data-[state=active]:text-white data-[state=active]:shadow-lg rounded-xl px-6 py-2 font-semibold text-gray-700",children:["Fresh Bakes (",r.length,")"]}),t.jsxs(ls,{value:"recipes",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white data-[state=active]:shadow-lg rounded-xl px-6 py-2 font-semibold text-gray-700",children:["Recipes (",i.length,")"]}),t.jsxs(ls,{value:"circles",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-pink-500 data-[state=active]:to-red-500 data-[state=active]:text-white data-[state=active]:shadow-lg rounded-xl px-6 py-2 font-semibold text-gray-700",children:["Circles (",a.length,")"]})]})}),t.jsx(cs,{value:"bakes",className:"space-y-8",children:v?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array(8).fill(0).map((e,r)=>t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"bg-gray-200 aspect-square rounded-2xl mb-4"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},r))}):k.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:k.map(e=>t.jsx(gs,{bake:e},e.id))}):t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-100 to-pink-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx($t,{className:"w-12 h-12 text-orange-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No bakes found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:u||f.length>0||h?"Try adjusting your search criteria":"Be the first to share a bake with the community!"}),t.jsx(Nt,{to:St("AddBake"),children:t.jsx(Ar,{className:"bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white shadow-lg",children:"Share Your First Bake"})})]})}),t.jsx(cs,{value:"recipes",className:"space-y-8",children:k.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(e=>t.jsx(ys,{recipe:e},e.id))}):t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-100 to-pink-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx($t,{className:"w-12 h-12 text-purple-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No recipes found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search or be the first to share!"})]})}),t.jsx(cs,{value:"circles",className:"space-y-8",children:k.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(e=>t.jsx(vs,{circle:e},e.id))}):t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-pink-100 to-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(kr,{className:"w-12 h-12 text-pink-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No circles found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search or create a new circle!"})]})})]})]})]})}ps.displayName="Textarea";var js=e.forwardRef((e,r)=>t.jsx(y.label,{...e,ref:r,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));js.displayName="Label";var ws=js;const Ns=Y("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ks=e.forwardRef(({className:e,...r},n)=>t.jsx(ws,{ref:n,className:Mr(Ns(),e),...r}));function _s(e,[t,r]){return Math.min(r,Math.max(t,e))}function Cs(t){const r=e.useRef({value:t,previous:t});return e.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}ks.displayName=ws.displayName;var Ss=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});e.forwardRef((e,r)=>t.jsx(y.span,{...e,ref:r,style:{...Ss,...e.style}})).displayName="VisuallyHidden";var Es=[" ","Enter","ArrowUp","ArrowDown"],Ps=[" ","Enter"],Rs="Select",[Ms,Ts,As]=A(Rs),[Ds,Os]=n(Rs,[As,d]),Ls=d(),[Is,Fs]=Ds(Rs),[Bs,$s]=Ds(Rs),zs=r=>{const{__scopeSelect:n,children:a,open:s,defaultOpen:i,onOpenChange:o,value:l,defaultValue:c,onValueChange:u,dir:d,name:h,autoComplete:m,disabled:f,required:p,form:y}=r,b=Ls(n),[j,w]=e.useState(null),[N,k]=e.useState(null),[_,C]=e.useState(!1),S=T(d),[E,P]=x({prop:s,defaultProp:i??!1,onChange:o,caller:Rs}),[R,M]=x({prop:l,defaultProp:c,onChange:u,caller:Rs}),A=e.useRef(null),D=!j||(y||!!j.closest("form")),[O,L]=e.useState(new Set),I=Array.from(O).map(e=>e.props.value).join(";");return t.jsx(g,{...b,children:t.jsxs(Is,{required:p,scope:n,trigger:j,onTriggerChange:w,valueNode:N,onValueNodeChange:k,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:v(),value:R,onValueChange:M,open:E,onOpenChange:P,dir:S,triggerPointerDownPosRef:A,disabled:f,children:[t.jsx(Ms.Provider,{scope:n,children:t.jsx(Bs,{scope:r.__scopeSelect,onNativeOptionAdd:e.useCallback(e=>{L(t=>new Set(t).add(e))},[]),onNativeOptionRemove:e.useCallback(e=>{L(t=>{const r=new Set(t);return r.delete(e),r})},[]),children:a})}),D?t.jsxs(Si,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:m,value:R,onChange:e=>M(e.target.value),disabled:f,form:y,children:[void 0===R?t.jsx("option",{value:""}):null,Array.from(O)]},I):null]})})};zs.displayName=Rs;var Ws="SelectTrigger",Us=e.forwardRef((r,n)=>{const{__scopeSelect:a,disabled:s=!1,...o}=r,l=Ls(a),c=Fs(Ws,a),d=c.disabled||s,h=i(n,c.onTriggerChange),m=Ts(a),f=e.useRef("touch"),[p,x,g]=Pi(e=>{const t=m().filter(e=>!e.disabled),r=t.find(e=>e.value===c.value),n=Ri(t,e,r);void 0!==n&&c.onValueChange(n.value)}),v=e=>{d||(c.onOpenChange(!0),g()),e&&(c.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return t.jsx(b,{asChild:!0,...l,children:t.jsx(y.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":Ei(c.value)?"":void 0,...o,ref:h,onClick:u(o.onClick,e=>{e.currentTarget.focus(),"mouse"!==f.current&&v(e)}),onPointerDown:u(o.onPointerDown,e=>{f.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(v(e),e.preventDefault())}),onKeyDown:u(o.onKeyDown,e=>{const t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||x(e.key),t&&" "===e.key||Es.includes(e.key)&&(v(),e.preventDefault())})})})});Us.displayName=Ws;var Hs="SelectValue",qs=e.forwardRef((e,r)=>{const{__scopeSelect:n,className:a,style:s,children:o,placeholder:l="",...c}=e,u=Fs(Hs,n),{onValueNodeHasChildrenChange:d}=u,h=void 0!==o,m=i(r,u.onValueNodeChange);return D(()=>{d(h)},[d,h]),t.jsx(y.span,{...c,ref:m,style:{pointerEvents:"none"},children:Ei(u.value)?t.jsx(t.Fragment,{children:l}):o})});qs.displayName=Hs;var Vs=e.forwardRef((e,r)=>{const{__scopeSelect:n,children:a,...s}=e;return t.jsx(y.span,{"aria-hidden":!0,...s,ref:r,children:a||"â–¼"})});Vs.displayName="SelectIcon";var Ys=e=>t.jsx(s,{asChild:!0,...e});Ys.displayName="SelectPortal";var Gs="SelectContent",Ks=e.forwardRef((r,n)=>{const a=Fs(Gs,r.__scopeSelect),[s,i]=e.useState();if(D(()=>{i(new DocumentFragment)},[]),!a.open){const e=s;return e?O.createPortal(t.jsx(Xs,{scope:r.__scopeSelect,children:t.jsx(Ms.Slot,{scope:r.__scopeSelect,children:t.jsx("div",{children:r.children})})}),e):null}return t.jsx(ei,{...r,ref:n})});Ks.displayName=Gs;var Js=10,[Xs,Zs]=Ds(Gs),Qs=c("SelectContent.RemoveScroll"),ei=e.forwardRef((r,n)=>{const{__scopeSelect:a,position:s="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:d,onPointerDownOutside:p,side:x,sideOffset:g,align:v,alignOffset:y,arrowPadding:b,collisionBoundary:j,collisionPadding:w,sticky:N,hideWhenDetached:k,avoidCollisions:_,...C}=r,S=Fs(Gs,a),[E,P]=e.useState(null),[R,M]=e.useState(null),T=i(n,e=>P(e)),[A,D]=e.useState(null),[O,L]=e.useState(null),I=Ts(a),[F,B]=e.useState(!1),$=e.useRef(!1);e.useEffect(()=>{if(E)return o(E)},[E]),h();const z=e.useCallback(e=>{const[t,...r]=I().map(e=>e.ref.current),[n]=r.slice(-1),a=document.activeElement;for(const s of e){if(s===a)return;if(null==s||s.scrollIntoView({block:"nearest"}),s===t&&R&&(R.scrollTop=0),s===n&&R&&(R.scrollTop=R.scrollHeight),null==s||s.focus(),document.activeElement!==a)return}},[I,R]),W=e.useCallback(()=>z([A,E]),[z,A,E]);e.useEffect(()=>{F&&W()},[F,W]);const{onOpenChange:U,triggerPointerDownPosRef:H}=S;e.useEffect(()=>{if(E){let e={x:0,y:0};const t=t=>{var r,n;e={x:Math.abs(Math.round(t.pageX)-((null==(r=H.current)?void 0:r.x)??0)),y:Math.abs(Math.round(t.pageY)-((null==(n=H.current)?void 0:n.y)??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():E.contains(r.target)||U(!1),document.removeEventListener("pointermove",t),H.current=null};return null!==H.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[E,U,H]),e.useEffect(()=>{const e=()=>U(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[U]);const[q,V]=Pi(e=>{const t=I().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=Ri(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),Y=e.useCallback((e,t,r)=>{const n=!$.current&&!r;(void 0!==S.value&&S.value===t||n)&&(D(e),n&&($.current=!0))},[S.value]),G=e.useCallback(()=>null==E?void 0:E.focus(),[E]),K=e.useCallback((e,t,r)=>{const n=!$.current&&!r;(void 0!==S.value&&S.value===t||n)&&L(e)},[S.value]),J="popper"===s?ri:ti,X=J===ri?{side:x,sideOffset:g,align:v,alignOffset:y,arrowPadding:b,collisionBoundary:j,collisionPadding:w,sticky:N,hideWhenDetached:k,avoidCollisions:_}:{};return t.jsx(Xs,{scope:a,content:E,viewport:R,onViewportChange:M,itemRefCallback:Y,selectedItem:A,onItemLeave:G,itemTextRefCallback:K,focusSelectedItem:W,selectedItemText:O,position:s,isPositioned:F,searchRef:q,children:t.jsx(l,{as:Qs,allowPinchZoom:!0,children:t.jsx(m,{asChild:!0,trapped:S.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:u(c,e=>{var t;null==(t=S.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:t.jsx(f,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:t.jsx(J,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:e=>e.preventDefault(),...C,...X,onPlaced:()=>B(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:u(C.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||V(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=I().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>z(t)),e.preventDefault()}})})})})})})});ei.displayName="SelectContentImpl";var ti=e.forwardRef((r,n)=>{const{__scopeSelect:a,onPlaced:s,...o}=r,l=Fs(Gs,a),c=Zs(Gs,a),[u,d]=e.useState(null),[h,m]=e.useState(null),f=i(n,e=>m(e)),p=Ts(a),x=e.useRef(!1),g=e.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:j,focusSelectedItem:w}=c,N=e.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&h&&v&&b&&j){const e=l.trigger.getBoundingClientRect(),t=h.getBoundingClientRect(),r=l.valueNode.getBoundingClientRect(),n=j.getBoundingClientRect();if("rtl"!==l.dir){const a=n.left-t.left,s=r.left-a,i=e.left-s,o=e.width+i,l=Math.max(o,t.width),c=window.innerWidth-Js,d=_s(s,[Js,Math.max(Js,c-l)]);u.style.minWidth=o+"px",u.style.left=d+"px"}else{const a=t.right-n.right,s=window.innerWidth-r.right-a,i=window.innerWidth-e.right-s,o=e.width+i,l=Math.max(o,t.width),c=window.innerWidth-Js,d=_s(s,[Js,Math.max(Js,c-l)]);u.style.minWidth=o+"px",u.style.right=d+"px"}const a=p(),i=window.innerHeight-2*Js,o=v.scrollHeight,c=window.getComputedStyle(h),d=parseInt(c.borderTopWidth,10),m=parseInt(c.paddingTop,10),f=parseInt(c.borderBottomWidth,10),g=d+m+o+parseInt(c.paddingBottom,10)+f,y=Math.min(5*b.offsetHeight,g),w=window.getComputedStyle(v),N=parseInt(w.paddingTop,10),k=parseInt(w.paddingBottom,10),_=e.top+e.height/2-Js,C=i-_,S=b.offsetHeight/2,E=d+m+(b.offsetTop+S),P=g-E;if(E<=_){const e=a.length>0&&b===a[a.length-1].ref.current;u.style.bottom="0px";const t=h.clientHeight-v.offsetTop-v.offsetHeight,r=E+Math.max(C,S+(e?k:0)+t+f);u.style.height=r+"px"}else{const e=a.length>0&&b===a[0].ref.current;u.style.top="0px";const t=Math.max(_,d+v.offsetTop+(e?N:0)+S)+P;u.style.height=t+"px",v.scrollTop=E-_+v.offsetTop}u.style.margin=`${Js}px 0`,u.style.minHeight=y+"px",u.style.maxHeight=i+"px",null==s||s(),requestAnimationFrame(()=>x.current=!0)}},[p,l.trigger,l.valueNode,u,h,v,b,j,l.dir,s]);D(()=>N(),[N]);const[k,_]=e.useState();D(()=>{h&&_(window.getComputedStyle(h).zIndex)},[h]);const C=e.useCallback(e=>{e&&!0===g.current&&(N(),null==w||w(),g.current=!1)},[N,w]);return t.jsx(ni,{scope:a,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:C,children:t.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:t.jsx(y.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});ti.displayName="SelectItemAlignedPosition";var ri=e.forwardRef((e,r)=>{const{__scopeSelect:n,align:a="start",collisionPadding:s=Js,...i}=e,o=Ls(n);return t.jsx(p,{...o,...i,ref:r,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ri.displayName="SelectPopperPosition";var[ni,ai]=Ds(Gs,{}),si="SelectViewport",ii=e.forwardRef((r,n)=>{const{__scopeSelect:a,nonce:s,...o}=r,l=Zs(si,a),c=ai(si,a),d=i(n,l.onViewportChange),h=e.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),t.jsx(Ms.Slot,{scope:a,children:t.jsx(y.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:u(o.onScroll,e=>{const t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=c;if((null==n?void 0:n.current)&&r){const e=Math.abs(h.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*Js,a=parseFloat(r.style.minHeight),s=parseFloat(r.style.height),i=Math.max(a,s);if(i<n){const a=i+e,s=Math.min(n,a),o=a-s;r.style.height=s+"px","0px"===r.style.bottom&&(t.scrollTop=o>0?o:0,r.style.justifyContent="flex-end")}}}h.current=t.scrollTop})})})]})});ii.displayName=si;var oi="SelectGroup",[li,ci]=Ds(oi);e.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e,s=v();return t.jsx(li,{scope:n,id:s,children:t.jsx(y.div,{role:"group","aria-labelledby":s,...a,ref:r})})}).displayName=oi;var ui="SelectLabel",di=e.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e,s=ci(ui,n);return t.jsx(y.div,{id:s.id,...a,ref:r})});di.displayName=ui;var hi="SelectItem",[mi,fi]=Ds(hi),pi=e.forwardRef((r,n)=>{const{__scopeSelect:a,value:s,disabled:o=!1,textValue:l,...c}=r,d=Fs(hi,a),h=Zs(hi,a),m=d.value===s,[f,p]=e.useState(l??""),[x,g]=e.useState(!1),b=i(n,e=>{var t;return null==(t=h.itemRefCallback)?void 0:t.call(h,e,s,o)}),j=v(),w=e.useRef("touch"),N=()=>{o||(d.onValueChange(s),d.onOpenChange(!1))};if(""===s)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(mi,{scope:a,value:s,disabled:o,textId:j,isSelected:m,onItemTextChange:e.useCallback(e=>{p(t=>t||((null==e?void 0:e.textContent)??"").trim())},[]),children:t.jsx(Ms.ItemSlot,{scope:a,value:s,disabled:o,textValue:f,children:t.jsx(y.div,{role:"option","aria-labelledby":j,"data-highlighted":x?"":void 0,"aria-selected":m&&x,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:b,onFocus:u(c.onFocus,()=>g(!0)),onBlur:u(c.onBlur,()=>g(!1)),onClick:u(c.onClick,()=>{"mouse"!==w.current&&N()}),onPointerUp:u(c.onPointerUp,()=>{"mouse"===w.current&&N()}),onPointerDown:u(c.onPointerDown,e=>{w.current=e.pointerType}),onPointerMove:u(c.onPointerMove,e=>{var t;w.current=e.pointerType,o?null==(t=h.onItemLeave)||t.call(h):"mouse"===w.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:u(c.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=h.onItemLeave)||t.call(h))}),onKeyDown:u(c.onKeyDown,e=>{var t;""!==(null==(t=h.searchRef)?void 0:t.current)&&" "===e.key||(Ps.includes(e.key)&&N()," "===e.key&&e.preventDefault())})})})})});pi.displayName=hi;var xi="SelectItemText",gi=e.forwardRef((r,n)=>{const{__scopeSelect:a,className:s,style:o,...l}=r,c=Fs(xi,a),u=Zs(xi,a),d=fi(xi,a),h=$s(xi,a),[m,f]=e.useState(null),p=i(n,e=>f(e),d.onItemTextChange,e=>{var t;return null==(t=u.itemTextRefCallback)?void 0:t.call(u,e,d.value,d.disabled)}),x=null==m?void 0:m.textContent,g=e.useMemo(()=>t.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=h;return D(()=>(v(g),()=>b(g)),[v,b,g]),t.jsxs(t.Fragment,{children:[t.jsx(y.span,{id:d.textId,...l,ref:p}),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?O.createPortal(l.children,c.valueNode):null]})});gi.displayName=xi;var vi="SelectItemIndicator",yi=e.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e;return fi(vi,n).isSelected?t.jsx(y.span,{"aria-hidden":!0,...a,ref:r}):null});yi.displayName=vi;var bi="SelectScrollUpButton",ji=e.forwardRef((r,n)=>{const a=Zs(bi,r.__scopeSelect),s=ai(bi,r.__scopeSelect),[o,l]=e.useState(!1),c=i(n,s.onScrollButtonChange);return D(()=>{if(a.viewport&&a.isPositioned){let e=function(){const e=t.scrollTop>0;l(e)};const t=a.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[a.viewport,a.isPositioned]),o?t.jsx(ki,{...r,ref:c,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=a;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});ji.displayName=bi;var wi="SelectScrollDownButton",Ni=e.forwardRef((r,n)=>{const a=Zs(wi,r.__scopeSelect),s=ai(wi,r.__scopeSelect),[o,l]=e.useState(!1),c=i(n,s.onScrollButtonChange);return D(()=>{if(a.viewport&&a.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,r=Math.ceil(t.scrollTop)<e;l(r)};const t=a.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[a.viewport,a.isPositioned]),o?t.jsx(ki,{...r,ref:c,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=a;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});Ni.displayName=wi;var ki=e.forwardRef((r,n)=>{const{__scopeSelect:a,onAutoScroll:s,...i}=r,o=Zs("SelectScrollButton",a),l=e.useRef(null),c=Ts(a),d=e.useCallback(()=>{null!==l.current&&(window.clearInterval(l.current),l.current=null)},[]);return e.useEffect(()=>()=>d(),[d]),D(()=>{var e;const t=c().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[c]),t.jsx(y.div,{"aria-hidden":!0,...i,ref:n,style:{flexShrink:0,...i.style},onPointerDown:u(i.onPointerDown,()=>{null===l.current&&(l.current=window.setInterval(s,50))}),onPointerMove:u(i.onPointerMove,()=>{var e;null==(e=o.onItemLeave)||e.call(o),null===l.current&&(l.current=window.setInterval(s,50))}),onPointerLeave:u(i.onPointerLeave,()=>{d()})})}),_i=e.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e;return t.jsx(y.div,{"aria-hidden":!0,...a,ref:r})});_i.displayName="SelectSeparator";var Ci="SelectArrow";e.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e,s=Ls(n),i=Fs(Ci,n),o=Zs(Ci,n);return i.open&&"popper"===o.position?t.jsx(j,{...s,...a,ref:r}):null}).displayName=Ci;var Si=e.forwardRef(({__scopeSelect:r,value:n,...a},s)=>{const o=e.useRef(null),l=i(s,o),c=Cs(n);return e.useEffect(()=>{const e=o.current;if(!e)return;const t=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(c!==n&&r){const t=new Event("change",{bubbles:!0});r.call(e,n),e.dispatchEvent(t)}},[c,n]),t.jsx(y.select,{...a,style:{...Ss,...a.style},ref:l,defaultValue:n})});function Ei(e){return""===e||void 0===e}function Pi(t){const r=L(t),n=e.useRef(""),a=e.useRef(0),s=e.useCallback(e=>{const t=n.current+e;r(t),function e(t){n.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(t)},[r]),i=e.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return e.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,s,i]}function Ri(e,t,r){const n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let s=(i=e,o=Math.max(a,0),i.map((e,t)=>i[(o+t)%i.length]));var i,o;1===n.length&&(s=s.filter(e=>e!==r));const l=s.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return l!==r?l:void 0}Si.displayName="SelectBubbleInput";var Mi=Us,Ti=Vs,Ai=Ys,Di=Ks,Oi=ii,Li=di,Ii=pi,Fi=gi,Bi=yi,$i=ji,zi=Ni,Wi=_i;const Ui=zs,Hi=qs,qi=e.forwardRef(({className:e,children:r,...n},a)=>t.jsxs(Mi,{ref:a,className:Mr("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[r,t.jsx(Ti,{asChild:!0,children:t.jsx(zt,{className:"h-4 w-4 opacity-50"})})]}));qi.displayName=Mi.displayName;const Vi=e.forwardRef(({className:e,...r},n)=>t.jsx($i,{ref:n,className:Mr("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(Wt,{className:"h-4 w-4"})}));Vi.displayName=$i.displayName;const Yi=e.forwardRef(({className:e,...r},n)=>t.jsx(zi,{ref:n,className:Mr("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(zt,{className:"h-4 w-4"})}));Yi.displayName=zi.displayName;const Gi=e.forwardRef(({className:e,children:r,position:n="popper",...a},s)=>t.jsx(Ai,{children:t.jsxs(Di,{ref:s,className:Mr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[t.jsx(Vi,{}),t.jsx(Oi,{className:Mr("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),t.jsx(Yi,{})]})}));Gi.displayName=Di.displayName;e.forwardRef(({className:e,...r},n)=>t.jsx(Li,{ref:n,className:Mr("px-2 py-1.5 text-sm font-semibold",e),...r})).displayName=Li.displayName;const Ki=e.forwardRef(({className:e,children:r,...n},a)=>t.jsxs(Ii,{ref:a,className:Mr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[t.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Bi,{children:t.jsx(Bt,{className:"h-4 w-4"})})}),t.jsx(Fi,{children:r})]}));Ki.displayName=Ii.displayName;e.forwardRef(({className:e,...r},n)=>t.jsx(Wi,{ref:n,className:Mr("-mx-1 my-1 h-px bg-muted",e),...r})).displayName=Wi.displayName;var Ji="Switch",[Xi,Zi]=n(Ji),[Qi,eo]=Xi(Ji),to=e.forwardRef((r,n)=>{const{__scopeSwitch:a,name:s,checked:o,defaultChecked:l,required:c,disabled:d,value:h="on",onCheckedChange:m,form:f,...p}=r,[g,v]=e.useState(null),b=i(n,e=>v(e)),j=e.useRef(!1),w=!g||(f||!!g.closest("form")),[N,k]=x({prop:o,defaultProp:l??!1,onChange:m,caller:Ji});return t.jsxs(Qi,{scope:a,checked:N,disabled:d,children:[t.jsx(y.button,{type:"button",role:"switch","aria-checked":N,"aria-required":c,"data-state":so(N),"data-disabled":d?"":void 0,disabled:d,value:h,...p,ref:b,onClick:u(r.onClick,e=>{k(e=>!e),w&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),w&&t.jsx(ao,{control:g,bubbles:!j.current,name:s,value:h,checked:N,required:c,disabled:d,form:f,style:{transform:"translateX(-100%)"}})]})});to.displayName=Ji;var ro="SwitchThumb",no=e.forwardRef((e,r)=>{const{__scopeSwitch:n,...a}=e,s=eo(ro,n);return t.jsx(y.span,{"data-state":so(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:r})});no.displayName=ro;var ao=e.forwardRef(({__scopeSwitch:r,control:n,checked:a,bubbles:s=!0,...o},l)=>{const c=e.useRef(null),u=i(c,l),d=Cs(a),h=I(n);return e.useEffect(()=>{const e=c.current;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(d!==a&&r){const t=new Event("click",{bubbles:s});r.call(e,a),e.dispatchEvent(t)}},[d,a,s]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...o,tabIndex:-1,ref:u,style:{...o.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function so(e){return e?"checked":"unchecked"}ao.displayName="SwitchBubbleInput";var io=to,oo=no;const lo=e.forwardRef(({className:e,...r},n)=>t.jsx(io,{className:Mr("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:n,children:t.jsx(oo,{className:Mr("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));function co(){const r=$e(),{user:n}=Pr(),[a,s]=e.useState({title:"",description:"",category:"desserts",difficulty:"medium",prepTime:"",cookTime:"",servings:"",ingredients:"",instructions:"",tags:"",price:"",available_for_order:!0,pickup_location:"",full_address:"",phone_number:"",image:null}),[i,o]=e.useState(null),[l,c]=e.useState(!1);e.useEffect(()=>{},[]);return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-purple-50 py-8",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsxs(Ar,{variant:"ghost",onClick:()=>r(St("Home")),className:"hover:bg-orange-100",children:[t.jsx(Tt,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-pink-500 rounded-full flex items-center justify-center",children:t.jsx($t,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Share Your Bake"}),t.jsx("p",{className:"text-gray-600",children:"Inspire others with your delicious creation"})]})]})]}),t.jsxs(us,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[t.jsxs(ds,{className:"text-center pb-6",children:[t.jsx(hs,{className:"text-2xl font-bold text-gray-900",children:"Bake Details"}),t.jsx(ms,{className:"text-gray-600",children:"Tell us about your amazing bake and share it with the community"})]}),t.jsx(fs,{children:t.jsxs("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{const e={title:a.title,description:a.description,category:a.category,tags:a.tags.split(",").map(e=>e.trim()).filter(e=>e),price:parseFloat(a.price)||0,available_for_order:a.available_for_order,pickup_location:a.pickup_location||null,full_address:a.full_address||null,phone_number:a.phone_number||null},t=await zr(e);console.log("Bake created successfully:",t),r(St("Home"))}catch(t){console.error("Error submitting form:",t),alert("Failed to create bake. Please try again.")}finally{c(!1)}},className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"title",children:"Bake Title *"}),t.jsx(za,{id:"title",value:a.title,onChange:e=>s(t=>({...t,title:e.target.value})),placeholder:"e.g., Classic Chocolate Chip Cookies",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"category",children:"Category *"}),t.jsxs(Ui,{value:a.category,onValueChange:e=>s(t=>({...t,category:e})),children:[t.jsx(qi,{children:t.jsx(Hi,{})}),t.jsxs(Gi,{children:[t.jsx(Ki,{value:"desserts",children:"Desserts"}),t.jsx(Ki,{value:"breads",children:"Breads"}),t.jsx(Ki,{value:"cakes",children:"Cakes"}),t.jsx(Ki,{value:"cookies",children:"Cookies"}),t.jsx(Ki,{value:"pastries",children:"Pastries"}),t.jsx(Ki,{value:"savory",children:"Savory Bakes"}),t.jsx(Ki,{value:"other",children:"Other"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"description",children:"Description *"}),t.jsx(ps,{id:"description",value:a.description,onChange:e=>s(t=>({...t,description:e.target.value})),placeholder:"Describe your bake, what makes it special...",rows:3,required:!0})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"price",children:"Price ($) *"}),t.jsx(za,{id:"price",type:"number",step:"0.01",min:"0",value:a.price,onChange:e=>s(t=>({...t,price:e.target.value})),placeholder:"15.99",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"difficulty",children:"Difficulty Level"}),t.jsxs(Ui,{value:a.difficulty,onValueChange:e=>s(t=>({...t,difficulty:e})),children:[t.jsx(qi,{children:t.jsx(Hi,{})}),t.jsxs(Gi,{children:[t.jsx(Ki,{value:"easy",children:"Easy"}),t.jsx(Ki,{value:"medium",children:"Medium"}),t.jsx(Ki,{value:"hard",children:"Hard"})]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(lo,{id:"available_for_order",checked:a.available_for_order,onCheckedChange:e=>s(t=>({...t,available_for_order:e}))}),t.jsx(ks,{htmlFor:"available_for_order",children:"Available for Order"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"prepTime",children:"Prep Time (mins)"}),t.jsx(za,{id:"prepTime",type:"number",value:a.prepTime,onChange:e=>s(t=>({...t,prepTime:e.target.value})),placeholder:"30"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"cookTime",children:"Cook Time (mins)"}),t.jsx(za,{id:"cookTime",type:"number",value:a.cookTime,onChange:e=>s(t=>({...t,cookTime:e.target.value})),placeholder:"25"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"servings",children:"Servings"}),t.jsx(za,{id:"servings",type:"number",value:a.servings,onChange:e=>s(t=>({...t,servings:e.target.value})),placeholder:"12"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"ingredients",children:"Ingredients *"}),t.jsx(ps,{id:"ingredients",value:a.ingredients,onChange:e=>s(t=>({...t,ingredients:e.target.value})),placeholder:"List your ingredients, one per line...",rows:6,required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"instructions",children:"Instructions *"}),t.jsx(ps,{id:"instructions",value:a.instructions,onChange:e=>s(t=>({...t,instructions:e.target.value})),placeholder:"Step-by-step instructions...",rows:8,required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"tags",children:"Tags"}),t.jsx(za,{id:"tags",value:a.tags,onChange:e=>s(t=>({...t,tags:e.target.value})),placeholder:"cookies, chocolate, dessert (separate with commas)"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"pickup_location",children:"Pickup Location"}),t.jsx(za,{id:"pickup_location",value:a.pickup_location,onChange:e=>s(t=>({...t,pickup_location:e.target.value})),placeholder:"e.g., Downtown Bakery"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"phone_number",children:"Phone Number"}),t.jsx(za,{id:"phone_number",value:a.phone_number,onChange:e=>s(t=>({...t,phone_number:e.target.value})),placeholder:"(555) 123-4567"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"full_address",children:"Full Address"}),t.jsx(ps,{id:"full_address",value:a.full_address,onChange:e=>s(t=>({...t,full_address:e.target.value})),placeholder:"123 Main St, City, State 12345",rows:2})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{children:"Bake Photo"}),t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-orange-400 transition-colors",children:i?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:i,alt:"Preview",className:"max-w-full h-64 object-cover rounded-lg mx-auto"}),t.jsx(Ar,{type:"button",variant:"destructive",size:"sm",onClick:()=>{s(e=>({...e,image:null})),o(null)},className:"absolute top-2 right-2",children:t.jsx(_r,{className:"w-4 h-4"})})]}):t.jsxs("div",{children:[t.jsx(wr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 mb-2",children:"Click to upload or drag and drop"}),t.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF up to 10MB"}),t.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){s(e=>({...e,image:t}));const e=new FileReader;e.onloadend=()=>o(e.result),e.readAsDataURL(t)}},className:"hidden",id:"image-upload"}),t.jsx(Ar,{type:"button",variant:"outline",onClick:()=>document.getElementById("image-upload").click(),className:"mt-4",children:"Choose File"})]})})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx(Ar,{type:"button",variant:"outline",onClick:()=>r(St("Home")),className:"flex-1",children:"Cancel"}),t.jsx(Ar,{type:"submit",disabled:l,className:"flex-1 bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white",children:l?"Sharing...":"Share Bake"})]})]})})]})]})})}lo.displayName=io.displayName;const uo=["all","pastries","cakes","breads","cookies","cupcakes","pies"],ho=["all","easy","medium","hard"];function mo(){const[r,n]=e.useState([]),[a,s]=e.useState(""),[i,o]=e.useState("all"),[l,c]=e.useState("all"),[u,d]=e.useState("all"),[h,m]=e.useState(!0);e.useEffect(()=>{f()},[]);const f=async()=>{m(!0);try{const e=await Ir("-created_date",50);n(e)}catch(e){console.error("Error loading recipes:",e)}m(!1)},p=r.filter(e=>{const t=e.title.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase()),r="all"===i||e.category===i,n="all"===l||e.difficulty===l,s="all"===u||"free"===u&&!e.is_for_sale||"premium"===u&&e.is_for_sale;return t&&r&&n&&s});return t.jsxs("div",{className:"min-h-screen",children:[t.jsx("section",{className:"bg-gradient-to-br from-orange-500 via-amber-500 to-yellow-500 text-white py-16",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6",children:t.jsxs("div",{className:"text-center space-y-6",children:[t.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Recipe Collection"}),t.jsx("p",{className:"text-xl text-orange-100 max-w-2xl mx-auto",children:"Discover amazing recipes from our baking community, from beginner-friendly to masterclass level"}),t.jsx(Nt,{to:St("AddRecipe"),children:t.jsxs(Ar,{size:"lg",className:"bg-white/95 text-orange-600 hover:bg-white shadow-2xl rounded-2xl px-8 py-4 font-semibold",children:[t.jsx(lr,{className:"w-5 h-5 mr-2"}),"Share Recipe"]})})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[t.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-xl mb-8",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(ur,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx(za,{placeholder:"Search recipes by name or ingredient...",value:a,onChange:e=>s(e.target.value),className:"pl-12 py-4 bg-white border-gray-200 focus:border-orange-300 rounded-2xl shadow-sm"})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Jt,{className:"w-4 h-4 text-gray-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Category:"}),uo.map(e=>t.jsx(Ar,{variant:i===e?"default":"outline",size:"sm",onClick:()=>o(e),className:i===e?"bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 shadow-lg rounded-xl":"rounded-xl",children:"all"===e?"All":e.charAt(0).toUpperCase()+e.slice(1)},e))]})}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Difficulty:"}),ho.map(e=>t.jsx(Ar,{variant:l===e?"default":"outline",size:"sm",onClick:()=>c(e),className:l===e?"bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 shadow-lg rounded-xl":"rounded-xl",children:"all"===e?"All Levels":e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})}),t.jsxs(is,{value:u,onValueChange:d,className:"w-full",children:[t.jsxs(os,{className:"bg-white/80 backdrop-blur-sm border-0 p-1.5 mb-8 shadow-lg rounded-2xl",children:[t.jsx(ls,{value:"all",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-amber-500 data-[state=active]:text-white data-[state=active]:shadow-lg rounded-xl px-6 py-2 font-medium",children:"All Recipes"}),t.jsx(ls,{value:"free",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-amber-500 data-[state=active]:text-white data-[state=active]:shadow-lg rounded-xl px-6 py-2 font-medium",children:"Free Recipes"}),t.jsx(ls,{value:"premium",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-amber-500 data-[state=active]:text-white data-[state=active]:shadow-lg rounded-xl px-6 py-2 font-medium",children:"Premium Recipes"})]}),t.jsx(cs,{value:u,children:h?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((e,r)=>t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"bg-gray-200 aspect-square rounded-2xl mb-4"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},r))}):p.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(e=>t.jsxs(us,{className:"group overflow-hidden bg-white/70 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[t.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[t.jsx("img",{src:e.image_url||"https://images.unsplash.com/photo-1571115764595-644a1f56a55c?w=400",alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),t.jsx("div",{className:"absolute top-3 left-3",children:t.jsx(tn,{className:"bg-white/90 text-orange-700 border-0 shadow-sm",children:e.category})}),e.is_for_sale&&t.jsx("div",{className:"absolute top-3 right-3",children:t.jsxs(tn,{className:"bg-yellow-500 text-white border-0 shadow-sm",children:["$",e.price]})}),t.jsx("div",{className:"absolute bottom-3 left-3",children:t.jsx(tn,{variant:"outline",className:"bg-white/90 border-0 shadow-sm "+("easy"===e.difficulty?"text-green-700":"medium"===e.difficulty?"text-yellow-700":"text-red-700"),children:e.difficulty})})]}),t.jsx(fs,{className:"p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-1",children:e.title}),t.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:e.description})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[e.prep_time&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Vt,{className:"w-4 h-4"}),t.jsxs("span",{children:[e.prep_time+(e.cook_time||0),"m"]})]}),e.servings&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(kr,{className:"w-4 h-4"}),t.jsx("span",{children:e.servings})]})]}),e.rating>0&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(vr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),t.jsx("span",{className:"font-medium",children:e.rating.toFixed(1)})]})]}),e.tags&&e.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.slice(0,3).map((e,r)=>t.jsx(tn,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:e},r))}),t.jsx(Nt,{to:St(`RecipeDetail?id=${e.id}`),children:t.jsx(Ar,{className:"w-full bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white shadow-lg",children:e.is_for_sale?`Buy Recipe - $${e.price}`:"View Recipe"})})]})})]},e.id))}):t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx($t,{className:"w-12 h-12 text-gray-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No recipes found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:a||"all"!==i||"all"!==l?"Try adjusting your search criteria":"Be the first to share a recipe with the community!"}),t.jsx(Nt,{to:St("AddRecipe"),children:t.jsxs(Ar,{className:"bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white shadow-lg",children:[t.jsx(lr,{className:"w-4 h-4 mr-2"}),"Share First Recipe"]})})]})})]})]})]})}function fo(){var r,n;const a=$e(),{user:s,logout:i,isAuthenticated:o}=Pr(),[l,c]=e.useState(null),[u,d]=e.useState([]),[h,m]=e.useState([]),[f,p]=e.useState(!0),[x,g]=e.useState(0);e.useEffect(()=>{o?v():a(St("Home"))},[o,a]);const v=async()=>{p(!0);try{let t=s;t||(t=await Lr.me()),c(t),console.log("Fetching content for user:",t.id);const[r,n]=await Promise.all([Br({creator_id:t.id,limit:50}).catch(e=>(console.error("Error fetching bakes:",e),[])),Ir({creator_id:t.id,limit:50}).catch(e=>(console.error("Error fetching recipes:",e),[]))]);console.log("Fetched bakes:",r),console.log("Fetched recipes:",n),d(r||[]),m(n||[]);try{const e=await Kr({receiver_id:t.id,is_read:!1});g((null==e?void 0:e.length)||0)}catch(e){console.log("Messages not available:",e),g(0)}}catch(e){console.error("Error loading user data:",e),a(St("Home"))}p(!1)};return f||!l?t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})}):t.jsx("div",{className:"min-h-screen py-8",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[t.jsxs(us,{className:"bg-white border-0 shadow-xl mb-8 rounded-3xl overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-orange-500 via-pink-500 to-purple-600 h-32"}),t.jsx(fs,{className:"p-8 -mt-16 relative",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:l.avatar_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${l.email}`,alt:l.full_name,className:"w-32 h-32 rounded-full object-cover shadow-2xl ring-4 ring-white bg-white"}),l.is_verified&&t.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-green-500 rounded-full border-4 border-white flex items-center justify-center",children:t.jsx(At,{className:"w-5 h-5 text-white"})})]}),t.jsxs("div",{className:"flex-1 space-y-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:l.full_name}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(nr,{className:"w-4 h-4"}),t.jsx("span",{children:l.email})]}),l.location&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ar,{className:"w-4 h-4"}),t.jsx("span",{children:l.location})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(It,{className:"w-4 h-4"}),t.jsxs("span",{children:["Joined ",new Date(l.created_at||l.join_date||Date.now()).toLocaleDateString()]})]})]}),l.rating>0&&t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(vr,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),t.jsx("span",{className:"text-lg font-semibold",children:l.rating.toFixed(1)})]}),t.jsxs("span",{className:"text-gray-500",children:["(",l.review_count||0," reviews)"]})]})]}),l.bio&&t.jsx("p",{className:"text-gray-700 max-w-2xl leading-relaxed",children:l.bio}),l.badges&&l.badges.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:l.badges.map((e,r)=>t.jsxs(tn,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full px-3 py-1",children:[t.jsx(jr,{className:"w-3 h-3 mr-1"}),e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())]},r))}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(Nt,{to:St("Inbox"),children:t.jsxs(Ar,{variant:"outline",className:"relative",children:[" ",t.jsx(ir,{className:"w-4 h-4 mr-2"}),"Inbox",x>0&&t.jsx(tn,{className:"absolute -top-2 -right-2 bg-red-500 text-white p-1 rounded-full text-xs font-bold \n                                     min-w-[20px] h-[20px] flex items-center justify-center animate-bounce-once",children:x})]})}),t.jsx(Nt,{to:St("EditProfile"),children:t.jsxs(Ar,{variant:"outline",children:[t.jsx(gr,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})}),t.jsxs(Ar,{variant:"outline",children:[t.jsx(hr,{className:"w-4 h-4 mr-2"}),"Settings"]}),t.jsxs(Ar,{variant:"outline",onClick:()=>{i(),window.location.reload()},children:[t.jsx(kr,{className:"w-4 h-4 mr-2"}),"Switch Account"]}),t.jsxs(Ar,{variant:"destructive",onClick:()=>{i(),a(St("Home"))},children:[t.jsx(rr,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsx(us,{className:"bg-gradient-to-br from-orange-500 to-pink-500 text-white border-0 rounded-3xl shadow-xl",children:t.jsxs(fs,{className:"p-6 text-center",children:[t.jsx($t,{className:"w-10 h-10 mx-auto mb-3"}),t.jsx("h3",{className:"text-3xl font-bold",children:u.length}),t.jsx("p",{className:"text-orange-100 font-medium",children:"Bakes Shared"})]})}),t.jsx(us,{className:"bg-gradient-to-br from-purple-500 to-pink-500 text-white border-0 rounded-3xl shadow-xl",children:t.jsxs(fs,{className:"p-6 text-center",children:[t.jsx(Ot,{className:"w-10 h-10 mx-auto mb-3"}),t.jsx("h3",{className:"text-3xl font-bold",children:h.length}),t.jsx("p",{className:"text-purple-100 font-medium",children:"Recipes Shared"})]})}),t.jsx(us,{className:"bg-gradient-to-br from-pink-500 to-red-500 text-white border-0 rounded-3xl shadow-xl",children:t.jsxs(fs,{className:"p-6 text-center",children:[t.jsx(jr,{className:"w-10 h-10 mx-auto mb-3"}),t.jsx("h3",{className:"text-3xl font-bold",children:(null==(r=l.badges)?void 0:r.length)||0}),t.jsx("p",{className:"text-pink-100 font-medium",children:"Badges Earned"})]})}),t.jsx(us,{className:"bg-gradient-to-br from-indigo-500 to-purple-500 text-white border-0 rounded-3xl shadow-xl",children:t.jsxs(fs,{className:"p-6 text-center",children:[t.jsx(vr,{className:"w-10 h-10 mx-auto mb-3"}),t.jsx("h3",{className:"text-3xl font-bold",children:(null==(n=l.rating)?void 0:n.toFixed(1))||"0.0"}),t.jsx("p",{className:"text-indigo-100 font-medium",children:"Average Rating"})]})})]}),t.jsxs(is,{defaultValue:"bakes",className:"w-full",children:[t.jsxs(os,{className:"bg-white border-0 p-1 mb-8 rounded-2xl shadow-lg",children:[t.jsxs(ls,{value:"bakes",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-pink-500 data-[state=active]:text-white rounded-xl px-6 py-3",children:["My Bakes (",u.length,")"]}),t.jsxs(ls,{value:"recipes",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white rounded-xl px-6 py-3",children:["My Recipes (",h.length,")"]})]}),t.jsx(cs,{value:"bakes",children:u.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map(e=>t.jsx(gs,{bake:e},e.id))}):t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-24 h-24 bg-orange-50 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx($t,{className:"w-12 h-12 text-orange-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No bakes shared yet"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Share your first homemade creation with the community!"}),t.jsx(Nt,{to:St("AddBake"),children:t.jsx(Ar,{className:"bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white",children:"Share Your First Bake"})})]})}),t.jsx(cs,{value:"recipes",children:h.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(e=>t.jsx(ys,{recipe:e},e.id))}):t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-24 h-24 bg-purple-50 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Ot,{className:"w-12 h-12 text-purple-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No recipes shared yet"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Share your favorite baking recipes with the community!"}),t.jsx(Nt,{to:St("AddRecipe"),children:t.jsx(Ar,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white",children:"Share Your First Recipe"})})]})})]})]})})}const po=e.forwardRef(({className:e,...r},n)=>t.jsx(F,{ref:n,className:Mr("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));po.displayName=F.displayName;const xo=e.forwardRef(({className:e,...r},n)=>t.jsx(B,{ref:n,className:Mr("aspect-square h-full w-full",e),...r}));xo.displayName=B.displayName;const go=e.forwardRef(({className:e,...r},n)=>t.jsx($,{ref:n,className:Mr("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));function vo(){var r;const n=$e(),[a,s]=e.useState(null),[i,o]=e.useState(null),[l,c]=e.useState(!0),[u,d]=e.useState(!1),[h,m]=e.useState(0),[f,p]=e.useState(0),[x,g]=e.useState(null);e.useEffect(()=>{y(),v()},[]);const v=async()=>{try{const e=await Lr.me();g(e)}catch(vc){console.error("User not logged in")}},y=async()=>{const e=new URLSearchParams(window.location.search).get("id");if(e){try{const t=(await Br()).find(t=>t.id===e);if(!t)return void n(St("Home"));s(t);const r=(await Lr.list()).find(e=>e.email===t.created_by);o(r);const a=await Vr({bake_id:e});m(a.length);const i=(await Hr({bake_id:e})).filter(e=>e.rating).map(e=>e.rating);if(i.length>0){const e=i.reduce((e,t)=>e+t,0)/i.length;p(e)}if(x){const e=a.find(e=>e.user_email===x.email);d(!!e)}}catch(t){console.error("Error loading bake details:",t)}c(!1)}else n(St("Home"))};if(l)return t.jsx("div",{className:"min-h-screen py-8",children:t.jsx("div",{className:"max-w-4xl mx-auto px-6",children:t.jsxs("div",{className:"animate-pulse space-y-6",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-48"}),t.jsx("div",{className:"h-64 bg-gray-200 rounded-2xl"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]})})});if(!a)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Bake not found"}),t.jsx(Ar,{onClick:()=>n(St("Home")),children:"Back to Home"})]})});const b=(null==x?void 0:x.email)===a.created_by;return t.jsxs("div",{className:"min-h-screen",children:[" ",t.jsx("div",{className:"max-w-4xl mx-auto px-6",children:t.jsxs(Ar,{variant:"outline",onClick:()=>n(-1),className:"mb-6 bg-white/70 backdrop-blur-sm",children:[t.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Back"]})}),t.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[" ",t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[" ",t.jsxs("div",{className:"lg:col-span-2",children:[t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-2xl shadow-xl",children:[t.jsx("img",{src:a.image_url,alt:a.title,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute top-4 left-4",children:t.jsx(tn,{className:"bg-white/90 text-orange-700 border-0 shadow-sm",children:a.category})}),a.available_for_order&&t.jsx("div",{className:"absolute top-4 right-4",children:t.jsxs(tn,{className:"bg-green-500 text-white border-0 shadow-sm",children:[t.jsx(pr,{className:"w-3 h-3 mr-1"}),"Available"]})})]})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.title}),t.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:a.description})]}),t.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[a.available_for_order&&t.jsxs(Ar,{size:"lg",className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-500 text-white",onClick:()=>{a.phone_number?window.open(`tel:${a.phone_number}`):alert("Contact information not available")},children:[t.jsx(pr,{className:"w-5 h-5 mr-2"}),"Request to Order ",a.price&&`- $${a.price}`]}),t.jsxs(Ar,{size:"lg",variant:"outline",onClick:async()=>{if(x)try{if(u){const e=await Vr({bake_id:a.id,user_email:x.email});e.length>0&&(await Gr(e[0].id),m(e=>e-1),d(!1))}else await Yr({bake_id:a.id,user_email:x.email}),m(e=>e+1),d(!0)}catch(e){console.error("Error handling like:",e)}else alert("Please sign in to like bakes")},className:"flex-1 transition-all "+(u?"bg-gradient-to-r from-red-50 to-pink-50 border-red-200 text-red-600":"bg-white border-gray-300 text-gray-700"),children:[t.jsx(Xt,{className:"w-5 h-5 mr-2 "+(u?"fill-red-600":"")}),u?"Liked":"Like"," (",h,") "]}),!b&&x&&t.jsxs(Ar,{size:"lg",variant:"outline",className:"flex-1",onClick:()=>{a&&x&&(a.created_by!==x.email?n(St(`Inbox?with=${a.created_by}&bakeId=${a.id}`)):alert("You cannot message yourself."))},children:[t.jsx(dr,{className:"w-5 h-5 mr-2"}),"Message Owner"]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx(us,{className:"bg-white/80 backdrop-blur-sm border border-purple-100 shadow-lg",children:t.jsxs(fs,{className:"p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Contact & Pickup"}),t.jsxs("div",{className:"space-y-4",children:[a.phone_number&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(or,{className:"w-5 h-5 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),t.jsx("p",{className:"font-semibold text-gray-900",children:a.phone_number})]})]}),a.pickup_location&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ar,{className:"w-5 h-5 text-orange-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Pickup Location"}),t.jsx("p",{className:"font-semibold text-gray-900",children:a.pickup_location})]})]}),a.full_address&&t.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-3 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Full Address"}),t.jsx("p",{className:"text-gray-900",children:a.full_address})]}),a.price&&t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("span",{className:"text-2xl font-bold bg-gradient-to-r from-orange-600 to-pink-600 bg-clip-text text-transparent",children:["$",a.price]})})]})]})}),t.jsxs("div",{className:"flex items-center gap-4",children:[f>0&&t.jsxs("div",{className:"flex items-center gap-1",children:[Array(5).fill(0).map((e,r)=>t.jsx(vr,{className:"w-5 h-5 "+(r<Math.floor(f)?"fill-yellow-400 text-yellow-400":"text-gray-300")},r)),t.jsx("span",{className:"text-lg font-semibold ml-2",children:f.toFixed(1)})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xt,{className:"w-5 h-5 "+(u?"fill-red-500 text-red-500":"text-gray-400")}),t.jsxs("span",{className:"font-medium",children:[h," likes"]})]})]}),a.tags&&a.tags.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Dietary Info"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map((e,r)=>t.jsx(tn,{variant:"outline",className:"bg-gradient-to-r from-green-50 to-emerald-50 text-green-700 border-green-200",children:e},r))})]}),a.allergens&&a.allergens.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Contains"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:a.allergens.map((e,r)=>t.jsx(tn,{className:"bg-gradient-to-r from-red-50 to-pink-50 text-red-700 border-red-200",children:e},r))})]}),i&&t.jsx(us,{className:"bg-white/80 backdrop-blur-sm border border-purple-100 shadow-lg",children:t.jsx(fs,{className:"p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(po,{className:"w-12 h-12",children:[t.jsx(xo,{src:i.avatar_url}),t.jsx(go,{children:null==(r=i.full_name)?void 0:r[0]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:i.full_name}),t.jsx("p",{className:"text-sm text-gray-600",children:i.location}),i.rating>0&&t.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[t.jsx(vr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),t.jsx("span",{className:"text-sm font-medium",children:i.rating.toFixed(1)}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",i.total_reviews,")"]})]})]})]})})})]})]}),t.jsx("div",{className:"mt-12",children:t.jsx(xs,{bakeId:a.id})})]})]})}function yo(){var r;const n=$e(),[a,s]=e.useState(null),[i,o]=e.useState(null),[l,c]=e.useState(!0),[u,d]=e.useState(!1);e.useEffect(()=>{h()},[]);const h=async()=>{const e=new URLSearchParams(window.location.search).get("id");if(e){try{const t=(await Ir()).find(t=>t.id===e);if(!t)return void n(St("Recipes"));s(t);const r=(await Lr.list()).find(e=>e.email===t.created_by);o(r)}catch(t){console.error("Error loading recipe details:",t)}c(!1)}else n(St("Recipes"))};return l?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 py-8",children:t.jsx("div",{className:"max-w-4xl mx-auto px-6",children:t.jsxs("div",{className:"animate-pulse space-y-6",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-48"}),t.jsx("div",{className:"h-64 bg-gray-200 rounded-2xl"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]})})}):a?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 py-8",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[t.jsxs(Ar,{variant:"outline",onClick:()=>n(-1),className:"mb-6 bg-white/70 backdrop-blur-sm",children:[t.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Back"]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-2xl shadow-xl",children:[t.jsx("img",{src:a.image_url||"https://images.unsplash.com/photo-1571115764595-644a1f56a55c?w=400",alt:a.title,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute top-4 left-4",children:t.jsx(tn,{className:"bg-white/90 text-purple-700 border-0 shadow-sm",children:a.category})}),a.is_for_sale&&t.jsx("div",{className:"absolute top-4 right-4",children:t.jsxs(tn,{className:"bg-yellow-500 text-white border-0 shadow-sm",children:["$",a.price]})}),t.jsx("div",{className:"absolute bottom-4 left-4",children:t.jsx(tn,{variant:"outline",className:"bg-white/90 border-0 shadow-sm "+("easy"===a.difficulty?"text-green-700":"medium"===a.difficulty?"text-yellow-700":"text-red-700"),children:a.difficulty})})]}),t.jsx(us,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-lg",children:t.jsx(fs,{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.prep_time&&t.jsxs("div",{children:[t.jsx(Vt,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Prep Time"}),t.jsxs("p",{className:"font-semibold",children:[a.prep_time,"m"]})]}),a.cook_time&&t.jsxs("div",{children:[t.jsx($t,{className:"w-6 h-6 text-orange-600 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Cook Time"}),t.jsxs("p",{className:"font-semibold",children:[a.cook_time,"m"]})]}),a.servings&&t.jsxs("div",{children:[t.jsx(kr,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Servings"}),t.jsx("p",{className:"font-semibold",children:a.servings})]})]})})}),i&&t.jsx(us,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-lg",children:t.jsx(fs,{className:"p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(po,{className:"w-12 h-12",children:[t.jsx(xo,{src:i.avatar_url}),t.jsx(go,{children:null==(r=i.full_name)?void 0:r[0]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:i.full_name}),t.jsx("p",{className:"text-sm text-gray-600",children:i.location}),i.rating>0&&t.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[t.jsx(vr,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),t.jsx("span",{className:"text-sm font-medium",children:i.rating.toFixed(1)}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",i.total_reviews,")"]})]})]})]})})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.title}),t.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:a.description})]}),a.rating>0&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex items-center gap-1",children:Array(5).fill(0).map((e,r)=>t.jsx(vr,{className:"w-5 h-5 "+(r<Math.floor(a.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300")},r))}),t.jsx("span",{className:"text-lg font-semibold",children:a.rating.toFixed(1)}),t.jsxs("span",{className:"text-gray-500",children:["(",a.review_count," reviews)"]})]}),a.tags&&a.tags.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Tags"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map((e,r)=>t.jsx(tn,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:e},r))})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(Ar,{variant:"outline",onClick:()=>{d(!u)},className:"flex-1 "+(u?"bg-red-50 text-red-600 border-red-200":"bg-white/50"),children:[t.jsx(Xt,{className:"w-4 h-4 mr-2 "+(u?"fill-red-600":"")}),u?"Liked":"Like"]}),t.jsxs(Ar,{variant:"outline",className:"bg-white/50",children:[t.jsx(mr,{className:"w-4 h-4 mr-2"}),"Share"]})]}),a.is_for_sale?t.jsxs(Ar,{onClick:()=>{alert(`Purchase ${a.title} for $${a.price}! Payment integration would go here.`)},className:"w-full bg-purple-500 hover:bg-purple-600 text-white py-3 text-lg",children:[t.jsx(xr,{className:"w-5 h-5 mr-2"}),"Buy Recipe - $",a.price]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs(us,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-lg",children:[t.jsx(ds,{children:t.jsx(hs,{children:"Ingredients"})}),t.jsx(fs,{children:t.jsx("ul",{className:"space-y-2",children:a.ingredients.map((e,r)=>t.jsxs("li",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),t.jsx("span",{children:e})]},r))})})]}),t.jsxs(us,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-lg",children:[t.jsx(ds,{children:t.jsx(hs,{children:"Instructions"})}),t.jsx(fs,{children:t.jsx("ol",{className:"space-y-4",children:a.instructions.map((e,r)=>t.jsxs("li",{className:"flex gap-4",children:[t.jsx("div",{className:"w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center font-semibold text-sm flex-shrink-0",children:r+1}),t.jsx("p",{className:"text-gray-700 leading-relaxed pt-1",children:e})]},r))})})]})]})]})]})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Recipe not found"}),t.jsx(Ar,{onClick:()=>n(St("Recipes")),children:"Back to Recipes"})]})})}function bo(){const r=$e(),{user:n}=Pr(),[a,s]=e.useState(!1),[i,o]=e.useState({title:"",description:"",category:"desserts",difficulty:"medium",prepTime:"",cookTime:"",servings:"",ingredients:"",instructions:"",tags:"",image:null}),[l,c]=e.useState(null),[u,d]=e.useState(!1);e.useEffect(()=>{n||s(!0)},[n]);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-purple-50 py-8",children:[t.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsxs(Ar,{variant:"ghost",onClick:()=>r(St("Home")),className:"hover:bg-orange-100",children:[t.jsx(Tt,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-pink-500 rounded-full flex items-center justify-center",children:t.jsx($t,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Share Your Recipe"}),t.jsx("p",{className:"text-gray-600",children:"Inspire others with your delicious recipe"})]})]})]}),t.jsxs(us,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[t.jsxs(ds,{className:"text-center pb-6",children:[t.jsx(hs,{className:"text-2xl font-bold text-gray-900",children:"Recipe Details"}),t.jsx(ms,{className:"text-gray-600",children:"Tell us about your amazing recipe and share it with the community"})]}),t.jsx(fs,{children:t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),n){d(!0);try{const e={title:i.title,description:i.description||"Delicious recipe",difficulty:i.difficulty,prep_time:parseInt(i.prepTime)||0,cook_time:parseInt(i.cookTime)||0,servings:parseInt(i.servings)||1,ingredients:i.ingredients.split("\n").map(e=>e.trim()).filter(e=>e),instructions:i.instructions.split("\n").map(e=>e.trim()).filter(e=>e),category:i.category,tags:i.tags?i.tags.split(",").map(e=>e.trim()).filter(e=>e):[]};console.log("Creating recipe:",e);const t=await Fr(e);console.log("Recipe created successfully:",t),r(St("Recipes"))}catch(t){console.error("Error creating recipe:",t),alert("Failed to create recipe. Please try again.")}finally{d(!1)}}else s(!0)},className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"title",children:"Recipe Title *"}),t.jsx(za,{id:"title",value:i.title,onChange:e=>o(t=>({...t,title:e.target.value})),placeholder:"e.g., Classic Chocolate Chip Cookies",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"category",children:"Category *"}),t.jsxs(Ui,{value:i.category,onValueChange:e=>o(t=>({...t,category:e})),children:[t.jsx(qi,{children:t.jsx(Hi,{})}),t.jsxs(Gi,{children:[t.jsx(Ki,{value:"desserts",children:"Desserts"}),t.jsx(Ki,{value:"breads",children:"Breads"}),t.jsx(Ki,{value:"cakes",children:"Cakes"}),t.jsx(Ki,{value:"cookies",children:"Cookies"}),t.jsx(Ki,{value:"pastries",children:"Pastries"}),t.jsx(Ki,{value:"savory",children:"Savory"}),t.jsx(Ki,{value:"other",children:"Other"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"difficulty",children:"Difficulty Level"}),t.jsxs(Ui,{value:i.difficulty,onValueChange:e=>o(t=>({...t,difficulty:e})),children:[t.jsx(qi,{children:t.jsx(Hi,{})}),t.jsxs(Gi,{children:[t.jsx(Ki,{value:"easy",children:"Easy"}),t.jsx(Ki,{value:"medium",children:"Medium"}),t.jsx(Ki,{value:"hard",children:"Hard"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"description",children:"Description"}),t.jsx(ps,{id:"description",value:i.description,onChange:e=>o(t=>({...t,description:e.target.value})),placeholder:"Describe your recipe, what makes it special...",rows:3})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"prepTime",children:"Prep Time (mins)"}),t.jsx(za,{id:"prepTime",type:"number",value:i.prepTime,onChange:e=>o(t=>({...t,prepTime:e.target.value})),placeholder:"30"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"cookTime",children:"Cook Time (mins)"}),t.jsx(za,{id:"cookTime",type:"number",value:i.cookTime,onChange:e=>o(t=>({...t,cookTime:e.target.value})),placeholder:"25"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"servings",children:"Servings"}),t.jsx(za,{id:"servings",type:"number",value:i.servings,onChange:e=>o(t=>({...t,servings:e.target.value})),placeholder:"12"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"ingredients",children:"Ingredients *"}),t.jsx(ps,{id:"ingredients",value:i.ingredients,onChange:e=>o(t=>({...t,ingredients:e.target.value})),placeholder:"List your ingredients, one per line...",rows:6,required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"instructions",children:"Instructions *"}),t.jsx(ps,{id:"instructions",value:i.instructions,onChange:e=>o(t=>({...t,instructions:e.target.value})),placeholder:"Step-by-step instructions...",rows:8,required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"tags",children:"Tags"}),t.jsx(za,{id:"tags",value:i.tags,onChange:e=>o(t=>({...t,tags:e.target.value})),placeholder:"cookies, chocolate, dessert (separate with commas)"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{children:"Recipe Photo"}),t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-orange-400 transition-colors",children:l?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:l,alt:"Preview",className:"max-w-full h-64 object-cover rounded-lg mx-auto"}),t.jsx(Ar,{type:"button",variant:"destructive",size:"sm",onClick:()=>{o(e=>({...e,image:null})),c(null)},className:"absolute top-2 right-2",children:t.jsx(_r,{className:"w-4 h-4"})})]}):t.jsxs("div",{children:[t.jsx(wr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 mb-2",children:"Click to upload or drag and drop"}),t.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF up to 10MB"}),t.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){o(e=>({...e,image:t}));const e=new FileReader;e.onloadend=()=>c(e.result),e.readAsDataURL(t)}},className:"hidden",id:"image-upload"}),t.jsx(Ar,{type:"button",variant:"outline",onClick:()=>document.getElementById("image-upload").click(),className:"mt-4",children:"Choose File"})]})})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx(Ar,{type:"button",variant:"outline",onClick:()=>r(St("Home")),className:"flex-1",children:"Cancel"}),t.jsx(Ar,{type:"submit",disabled:u,className:"flex-1 bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white",children:u?"Sharing...":"Share Recipe"})]})]})})]})]}),t.jsx(Fa,{isOpen:a,onOpenChange:s})]})}go.displayName=$.displayName;const jo={upload:async(e,t="image")=>{try{const r=new FormData;r.append("file",e),r.append("type",t);const n=await fetch(`${Sr.BASE_URL}/upload`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:r});if(!n.ok)throw new Error("Upload failed");return(await n.json()).url}catch(r){throw console.error("File upload error:",r),r}}},wo={send:async e=>{try{return await Or.post("/send-email",e)}catch(t){throw console.error("Email send error:",t),t}}};function No(){const[r,n]=e.useState(!1),[a,s]=e.useState({name:"",email:"",subject:"",message:"",type:"general"}),i=[{id:"general",label:"General Inquiry",icon:sr,color:"bg-blue-500"},{id:"support",label:"Technical Support",icon:Ht,color:"bg-green-500"},{id:"bug",label:"Bug Report",icon:Lt,color:"bg-red-500"},{id:"feature",label:"Feature Request",icon:er,color:"bg-yellow-500"}];return t.jsx("div",{className:"min-h-screen py-8",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-orange-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"Get in Touch"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Have questions about xFood? Want to join our community, report a bug, or share feedback? We'd love to hear from you!"})]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsx(us,{className:"bg-gradient-to-br from-orange-500 to-pink-500 text-white border-0 shadow-2xl",children:t.jsxs(fs,{className:"p-8",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center",children:t.jsx(Nr,{className:"w-10 h-10 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold",children:"Garry Yuan"}),t.jsx("p",{className:"text-orange-100",children:"UNSW Electrical Engineering"}),t.jsx("p",{className:"text-sm text-orange-200",children:"Founder & Developer"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(nr,{className:"w-5 h-5"}),t.jsx("a",{href:"mailto:xfoodteam@gmail.com",className:"hover:text-orange-100 transition-colors",children:"xfoodteam@gmail.com"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(or,{className:"w-5 h-5"}),t.jsx("a",{href:"tel:0451961015",className:"hover:text-orange-100 transition-colors",children:"0451 961 015"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Vt,{className:"w-5 h-5"}),t.jsx("span",{children:"Response time: Within 24 hours"})]})]})]})}),t.jsxs(us,{className:"bg-white border-0 shadow-xl",children:[t.jsx(ds,{children:t.jsx(hs,{className:"text-2xl",children:"About xFood"})}),t.jsxs(fs,{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-pink-50 p-6 rounded-2xl",children:[t.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-3",children:'"Share what you bake. Join your local kitchen circle."'}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:"xFood is a community-driven platform that connects passionate home bakers in local communities. We make it easy to share your creations, discover amazing treats nearby, learn from others, and build meaningful connections through the love of baking."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-xl",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"1000+"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Bakes Shared"})]}),t.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"500+"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Community Members"})]}),t.jsxs("div",{className:"text-center p-4 bg-pink-50 rounded-xl",children:[t.jsx("div",{className:"text-2xl font-bold text-pink-600",children:"200+"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Local Circles"})]}),t.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-xl",children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:"300+"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Recipes Shared"})]})]})]})]})]}),t.jsxs(us,{className:"bg-white border-0 shadow-xl",children:[t.jsx(ds,{children:t.jsxs(hs,{className:"text-2xl flex items-center gap-2",children:[t.jsx(dr,{className:"w-6 h-6 text-orange-600"}),"Send us a Message"]})}),t.jsxs(fs,{children:[t.jsxs("form",{onSubmit:async e=>{e.preventDefault(),n(!0);try{await wo({to:"xfoodteam@gmail.com",subject:`xFood ${a.type}: ${a.subject}`,body:`\n          Contact Type: ${a.type}\n          Name: ${a.name}\n          Email: ${a.email}\n          Subject: ${a.subject}\n          \n          Message:\n          ${a.message}\n        `,from_name:a.name}),alert("Message sent successfully! We'll get back to you within 24 hours."),s({name:"",email:"",subject:"",message:"",type:"general"})}catch(t){console.error("Error sending message:",t),alert("Failed to send message. Please try again.")}finally{n(!1)}},className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(ks,{className:"text-base font-medium",children:"What can we help you with?"}),t.jsx("div",{className:"grid grid-cols-2 gap-3 mt-3",children:i.map(e=>{const r=e.icon;return t.jsxs("button",{type:"button",onClick:()=>s(t=>({...t,type:e.id})),className:"p-4 rounded-xl border-2 transition-all "+(a.type===e.id?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"),children:[t.jsx(r,{className:"w-6 h-6 mx-auto mb-2 "+(a.type===e.id?"text-orange-600":"text-gray-400")}),t.jsx("span",{className:"text-sm font-medium "+(a.type===e.id?"text-orange-900":"text-gray-600"),children:e.label})]},e.id)})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(ks,{htmlFor:"name",children:"Name *"}),t.jsx(za,{id:"name",value:a.name,onChange:e=>s(t=>({...t,name:e.target.value})),placeholder:"Your full name",className:"mt-2",required:!0})]}),t.jsxs("div",{children:[t.jsx(ks,{htmlFor:"email",children:"Email *"}),t.jsx(za,{id:"email",type:"email",value:a.email,onChange:e=>s(t=>({...t,email:e.target.value})),placeholder:"your@email.com",className:"mt-2",required:!0})]})]}),t.jsxs("div",{children:[t.jsx(ks,{htmlFor:"subject",children:"Subject *"}),t.jsx(za,{id:"subject",value:a.subject,onChange:e=>s(t=>({...t,subject:e.target.value})),placeholder:"Brief description of your inquiry",className:"mt-2",required:!0})]}),t.jsxs("div",{children:[t.jsx(ks,{htmlFor:"message",children:"Message *"}),t.jsx(ps,{id:"message",value:a.message,onChange:e=>s(t=>({...t,message:e.target.value})),placeholder:"Please provide as much detail as possible...",rows:6,className:"mt-2",required:!0})]}),t.jsx(Ar,{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white py-3 text-lg font-semibold rounded-xl shadow-lg",children:r?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(dr,{className:"w-5 h-5 mr-2"}),"Send Message"]})})]}),t.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"Pro tip:"})," Include screenshots or detailed steps if you're reporting a bug or technical issue!"]})})]})]})]})]})})}const ko=["chocolate","vanilla","strawberry","lemon","caramel","matcha","coconut","berry","nutty","spicy","citrus","floral"],_o=["vegan","vegetarian","gluten-free","dairy-free","nut-free","sugar-free","keto","paleo","halal","kosher"];function Co(){const r=$e(),[n,a]=e.useState(null),[s,i]=e.useState(!0),[o,l]=e.useState(!1),[c,u]=e.useState(null),[d,h]=e.useState({avatar_url:"",bio:"",location:"",taste_preferences:[],dietary_restrictions:[]});e.useEffect(()=>{m()},[]);const m=async()=>{try{const e=await Lr.me();a(e),h({avatar_url:e.avatar_url||"",bio:e.bio||"",location:e.location||"",taste_preferences:e.taste_preferences||[],dietary_restrictions:e.dietary_restrictions||[]}),u(e.avatar_url)}catch(e){console.error("Error loading user profile:",e)}i(!1)};return s?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 py-8",children:t.jsx("div",{className:"max-w-4xl mx-auto px-6",children:t.jsxs("div",{className:"animate-pulse space-y-6",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-64"}),t.jsxs("div",{className:"bg-white rounded-2xl p-6 space-y-4",children:[t.jsx("div",{className:"h-32 w-32 bg-gray-200 rounded-full mx-auto"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]})]})})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 py-8",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Edit Profile"}),t.jsx("p",{className:"text-gray-600",children:"Customize your baking profile and preferences"})]}),t.jsxs("form",{onSubmit:async e=>{e.preventDefault(),l(!0);try{await Lr.updateMyUserData(d),alert("Profile updated successfully!"),r(St("Profile"))}catch(t){console.error("Error updating profile:",t),alert("Failed to update profile. Please try again.")}finally{l(!1)}},className:"space-y-8",children:[t.jsxs(us,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-lg",children:[t.jsx(ds,{children:t.jsxs(hs,{className:"flex items-center gap-2",children:[t.jsx(Ft,{className:"w-5 h-5"}),"Profile Picture"]})}),t.jsxs(fs,{className:"text-center",children:[t.jsxs("div",{className:"relative inline-block mb-4",children:[t.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-100",children:c?t.jsx("img",{src:c,alt:"Profile preview",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Nr,{className:"w-16 h-16 text-gray-400"})})}),c&&t.jsx(Ar,{type:"button",variant:"outline",size:"icon",className:"absolute -top-2 -right-2 bg-white hover:bg-gray-50 rounded-full",onClick:()=>{u(null),h(e=>({...e,avatar_url:""}))},children:t.jsx(_r,{className:"w-4 h-4"})})]}),t.jsx("input",{type:"file",accept:"image/*",onChange:e=>(async e=>{if(e)try{l(!0);const{file_url:t}=await jo({file:e});h(e=>({...e,avatar_url:t})),u(URL.createObjectURL(e))}catch(t){console.error("Error uploading image:",t),alert("Failed to upload image. Please try again.")}finally{l(!1)}})(e.target.files[0]),className:"hidden",id:"avatar-upload"}),t.jsx("label",{htmlFor:"avatar-upload",children:t.jsx(Ar,{type:"button",variant:"outline",className:"cursor-pointer",asChild:!0,children:t.jsxs("span",{children:[t.jsx(wr,{className:"w-4 h-4 mr-2"}),c?"Change Photo":"Upload Photo"]})})})]})]}),t.jsxs(us,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-lg",children:[t.jsx(ds,{children:t.jsx(hs,{children:"Basic Information"})}),t.jsxs(fs,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(ks,{htmlFor:"bio",children:"Bio"}),t.jsx(ps,{id:"bio",value:d.bio,onChange:e=>h(t=>({...t,bio:e.target.value})),placeholder:"Tell us about your baking journey...",rows:4,className:"mt-2"})]}),t.jsxs("div",{children:[t.jsx(ks,{htmlFor:"location",children:"Location"}),t.jsx(za,{id:"location",value:d.location,onChange:e=>h(t=>({...t,location:e.target.value})),placeholder:"e.g., Sydney, NSW",className:"mt-2"})]})]})]}),t.jsxs(us,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-lg",children:[t.jsxs(ds,{children:[t.jsx(hs,{children:"Taste Preferences"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Help us recommend bakes you'll love"})]}),t.jsx(fs,{children:t.jsx("div",{className:"flex flex-wrap gap-2",children:ko.map(e=>t.jsx(tn,{variant:d.taste_preferences.includes(e)?"default":"outline",className:"cursor-pointer transition-colors "+(d.taste_preferences.includes(e)?"bg-purple-500 hover:bg-purple-600 text-white":"hover:bg-purple-50 hover:border-purple-300"),onClick:()=>(e=>{h(t=>({...t,taste_preferences:t.taste_preferences.includes(e)?t.taste_preferences.filter(t=>t!==e):[...t.taste_preferences,e]}))})(e),children:e},e))})})]}),t.jsxs(us,{className:"bg-white/70 backdrop-blur-sm border-0 shadow-lg",children:[t.jsxs(ds,{children:[t.jsx(hs,{children:"Dietary Restrictions"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Let bakers know about any dietary needs"})]}),t.jsx(fs,{children:t.jsx("div",{className:"flex flex-wrap gap-2",children:_o.map(e=>t.jsx(tn,{variant:d.dietary_restrictions.includes(e)?"default":"outline",className:"cursor-pointer transition-colors "+(d.dietary_restrictions.includes(e)?"bg-green-500 hover:bg-green-600 text-white":"hover:bg-green-50 hover:border-green-300"),onClick:()=>(e=>{h(t=>({...t,dietary_restrictions:t.dietary_restrictions.includes(e)?t.dietary_restrictions.filter(t=>t!==e):[...t.dietary_restrictions,e]}))})(e),children:e},e))})})]}),t.jsxs("div",{className:"flex justify-end gap-4",children:[t.jsx(Ar,{type:"button",variant:"outline",onClick:()=>r(St("Profile")),disabled:o,children:"Cancel"}),t.jsx(Ar,{type:"submit",disabled:o,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-8",children:o?"Saving...":t.jsxs(t.Fragment,{children:[t.jsx(cr,{className:"w-4 h-4 mr-2"}),"Save Profile"]})})]})]})]})})}function So(){const[r,n]=e.useState([]),[a,s]=e.useState(""),[i,o]=e.useState("all"),[l,c]=e.useState(!0);e.useEffect(()=>{u()},[]);const u=async()=>{c(!0);try{const e=await Wr("-member_count",50);n(e)}catch(e){console.error("Error loading circles:",e)}c(!1)},d=r.filter(e=>{const t=e.name.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase()),r="all"===i||e.location===i;return t&&r}),h=[...new Set(r.map(e=>e.location).filter(Boolean))];return t.jsxs("div",{className:"min-h-screen",children:[t.jsx("section",{className:"bg-gradient-to-br from-orange-500 via-amber-500 to-yellow-500 text-white py-16",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6",children:t.jsxs("div",{className:"text-center space-y-6",children:[t.jsxs("h1",{className:"text-4xl md:text-5xl font-bold",children:["Join Local Baking",t.jsx("span",{className:"block",children:"Communities"})]}),t.jsx("p",{className:"text-xl text-orange-100 max-w-2xl mx-auto",children:"Connect with passionate bakers in your area, share recipes, and learn new techniques"}),t.jsx(Nt,{to:St("CreateCircle"),children:t.jsxs(Ar,{size:"lg",className:"bg-white/95 text-orange-600 hover:bg-white shadow-2xl rounded-2xl px-8 py-4 font-semibold",children:[t.jsx(lr,{className:"w-5 h-5 mr-2"}),"Create New Circle"]})})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[t.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-xl mb-8",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(ur,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx(za,{placeholder:"Search circles by name or description...",value:a,onChange:e=>s(e.target.value),className:"pl-12 py-4 bg-white border-gray-200 focus:border-orange-300 rounded-2xl shadow-sm"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ar,{variant:"all"===i?"default":"outline",onClick:()=>o("all"),className:"all"===i?"bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 shadow-lg":"",children:"All Locations"}),h.slice(0,3).map(e=>t.jsxs(Ar,{variant:i===e?"default":"outline",onClick:()=>o(e),className:i===e?"bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 shadow-lg":"",children:[t.jsx(ar,{className:"w-4 h-4 mr-1"}),e]},e))]})]})}),l?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((e,r)=>t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"bg-gray-200 h-32 rounded-t-2xl"}),t.jsxs("div",{className:"bg-white p-4 rounded-b-2xl space-y-3",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),t.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})]},r))}):d.length>0?t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[d.length," Circles Found"]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(kr,{className:"w-4 h-4"}),t.jsxs("span",{children:[d.reduce((e,t)=>e+t.member_count,0)," total members"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(e=>t.jsx(vs,{circle:e},e.id))})]}):t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(kr,{className:"w-12 h-12 text-gray-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No circles found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:a||"all"!==i?"Try adjusting your search criteria":"Be the first to create a baking circle in your area!"}),t.jsx(Nt,{to:St("CreateCircle"),children:t.jsxs(Ar,{className:"bg-orange-500 hover:bg-orange-600",children:[t.jsx(lr,{className:"w-4 h-4 mr-2"}),"Create First Circle"]})})]})]})]})}function Eo(){const r=$e(),{user:n}=Pr(),[a,s]=e.useState(!1),[i,o]=e.useState({name:"",description:"",category:"general",isPrivate:!1,maxMembers:50,image:null}),[l,c]=e.useState(null),[u,d]=e.useState(!1);e.useEffect(()=>{n||s(!0)},[n]);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-purple-50 py-8",children:[t.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsxs(Ar,{variant:"ghost",onClick:()=>r(St("Home")),className:"hover:bg-orange-100",children:[t.jsx(Tt,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-pink-500 rounded-full flex items-center justify-center",children:t.jsx(kr,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create a Circle"}),t.jsx("p",{className:"text-gray-600",children:"Build a community around your baking passion"})]})]})]}),t.jsxs(us,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[t.jsxs(ds,{className:"text-center pb-6",children:[t.jsx(hs,{className:"text-2xl font-bold text-gray-900",children:"Circle Details"}),t.jsx(ms,{className:"text-gray-600",children:"Tell us about your new baking circle and start building your community"})]}),t.jsx(fs,{children:t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),n){d(!0);try{const e={name:i.name,description:i.description,category:i.category,is_private:i.isPrivate,max_members:i.maxMembers};console.log("Creating circle:",e);const t=await Ur(e);console.log("Circle created successfully:",t),r(St("Circles"))}catch(t){console.error("Error creating circle:",t),alert("Failed to create circle. Please try again.")}finally{d(!1)}}else s(!0)},className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"name",children:"Circle Name *"}),t.jsx(za,{id:"name",value:i.name,onChange:e=>o(t=>({...t,name:e.target.value})),placeholder:"e.g., Artisan Bread Makers",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"category",children:"Category"}),t.jsxs(Ui,{value:i.category,onValueChange:e=>o(t=>({...t,category:e})),children:[t.jsx(qi,{children:t.jsx(Hi,{})}),t.jsxs(Gi,{children:[t.jsx(Ki,{value:"general",children:"General Baking"}),t.jsx(Ki,{value:"bread",children:"Bread Making"}),t.jsx(Ki,{value:"pastry",children:"Pastry & Desserts"}),t.jsx(Ki,{value:"cakes",children:"Cakes & Cupcakes"}),t.jsx(Ki,{value:"cookies",children:"Cookies & Bars"}),t.jsx(Ki,{value:"healthy",children:"Healthy Baking"}),t.jsx(Ki,{value:"vegan",children:"Vegan Baking"}),t.jsx(Ki,{value:"gluten-free",children:"Gluten-Free"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"description",children:"Description"}),t.jsx(ps,{id:"description",value:i.description,onChange:e=>o(t=>({...t,description:e.target.value})),placeholder:"Describe your circle, what makes it special, who should join...",rows:4})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"maxMembers",children:"Maximum Members"}),t.jsxs(Ui,{value:i.maxMembers.toString(),onValueChange:e=>o(t=>({...t,maxMembers:parseInt(e)})),children:[t.jsx(qi,{children:t.jsx(Hi,{})}),t.jsxs(Gi,{children:[t.jsx(Ki,{value:"10",children:"10 members"}),t.jsx(Ki,{value:"25",children:"25 members"}),t.jsx(Ki,{value:"50",children:"50 members"}),t.jsx(Ki,{value:"100",children:"100 members"}),t.jsx(Ki,{value:"200",children:"200 members"}),t.jsx(Ki,{value:"500",children:"500 members"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{htmlFor:"isPrivate",children:"Privacy Setting"}),t.jsxs(Ui,{value:i.isPrivate?"private":"public",onValueChange:e=>o(t=>({...t,isPrivate:"private"===e})),children:[t.jsx(qi,{children:t.jsx(Hi,{})}),t.jsxs(Gi,{children:[t.jsx(Ki,{value:"public",children:"Public - Anyone can join"}),t.jsx(Ki,{value:"private",children:"Private - Approval required"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ks,{children:"Circle Photo"}),t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-orange-400 transition-colors",children:l?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:l,alt:"Preview",className:"max-w-full h-64 object-cover rounded-lg mx-auto"}),t.jsx(Ar,{type:"button",variant:"destructive",size:"sm",onClick:()=>{o(e=>({...e,image:null})),c(null)},className:"absolute top-2 right-2",children:t.jsx(_r,{className:"w-4 h-4"})})]}):t.jsxs("div",{children:[t.jsx(wr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 mb-2",children:"Click to upload or drag and drop"}),t.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF up to 10MB"}),t.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){o(e=>({...e,image:t}));const e=new FileReader;e.onloadend=()=>c(e.result),e.readAsDataURL(t)}},className:"hidden",id:"image-upload"}),t.jsx(Ar,{type:"button",variant:"outline",onClick:()=>document.getElementById("image-upload").click(),className:"mt-4",children:"Choose File"})]})})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx(Ar,{type:"button",variant:"outline",onClick:()=>r(St("Home")),className:"flex-1",children:"Cancel"}),t.jsx(Ar,{type:"submit",disabled:u,className:"flex-1 bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white",children:u?"Creating...":"Create Circle"})]})]})})]})]}),t.jsx(Fa,{isOpen:a,onOpenChange:s})]})}function Po(){const r=$e(),[n,a]=e.useState(null),[s,i]=e.useState([]),[o,l]=e.useState([]),[c,u]=e.useState(!0);e.useEffect(()=>{d()},[]);const d=async()=>{const e=new URLSearchParams(window.location.search).get("id");if(e){u(!0);try{const t=(await Wr()).find(t=>t.id===e);if(!t)return void r(St("Circles"));a(t);const n=await $r({circle_id:e},"-created_date");l(n)}catch(t){console.error("Error loading circle details:",t)}u(!1)}else r(St("Home"))};return c?t.jsx("div",{className:"min-h-screen py-8",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-6 animate-pulse",children:[t.jsx("div",{className:"h-48 bg-gray-200 rounded-2xl mb-6"}),t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})}):n?t.jsxs("div",{className:"min-h-screen",children:[t.jsx("div",{className:"max-w-6xl mx-auto px-6 pt-8",children:t.jsxs(Ar,{variant:"outline",onClick:()=>r(St("Circles")),className:"bg-white/70 backdrop-blur-sm",children:[t.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Back to all Circles"]})}),t.jsxs("div",{className:"relative h-64 md:h-80 my-6",children:[t.jsx("img",{src:n.image_url||"https://images.unsplash.com/photo-1556909114-6a5fda03037c?w=800",alt:n.name,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),t.jsxs("div",{className:"absolute bottom-0 left-0 p-8 text-white",children:[t.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:n.name}),t.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(kr,{className:"w-5 h-5"}),t.jsxs("span",{children:[n.member_count," members"]})]}),n.location&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ar,{className:"w-5 h-5"}),t.jsx("span",{children:n.location})]})]})]}),t.jsx("div",{className:"absolute top-8 right-8",children:t.jsx(Ar,{className:"bg-white/90 text-primary hover:bg-white",children:"Join Circle"})})]}),t.jsx("div",{className:"max-w-6xl mx-auto px-6 py-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsxs(us,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-xl mb-8",children:[t.jsx(ds,{children:t.jsx(hs,{children:"About this Circle"})}),t.jsxs(fs,{children:[t.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.description}),n.tags&&n.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:n.tags.map((e,r)=>t.jsxs(tn,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200",children:[t.jsx(yr,{className:"w-3 h-3 mr-1"}),e]},r))})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Circle Bakes"}),t.jsxs(Ar,{children:[t.jsx(lr,{className:"w-4 h-4 mr-2"}),"Add Your Bake"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.length>0?o.map(e=>t.jsx(gs,{bake:e},e.id)):t.jsx("div",{className:"md:col-span-2 text-center py-12 bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl",children:t.jsx("p",{className:"text-gray-600",children:"No bakes have been shared in this circle yet."})})})]})]}),t.jsx("div",{children:t.jsxs(us,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-xl",children:[t.jsx(ds,{children:t.jsxs(hs,{children:["Members (",n.member_count,")"]})}),t.jsx(fs,{children:t.jsx("p",{className:"text-gray-500 text-sm",children:"Member list coming soon."})})]})})]})})]}):t.jsxs("div",{className:"text-center py-16",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Circle not found"}),t.jsx(Ar,{onClick:()=>r(St("Circles")),className:"mt-4",children:"Back to Circles"})]})}var Ro,Mo={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var To,Ao,Do=(Ro||(Ro=1,To=Mo,Ao=Mo.exports,function(){var e,t="Expected a function",r="__lodash_hash_undefined__",n="__lodash_placeholder__",a=32,s=128,i=256,o=1/0,l=9007199254740991,c=NaN,u=4294967295,d=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",a],["partialRight",64],["rearg",i]],h="[object Arguments]",m="[object Array]",f="[object Boolean]",p="[object Date]",x="[object Error]",g="[object Function]",v="[object GeneratorFunction]",y="[object Map]",b="[object Number]",j="[object Object]",w="[object Promise]",N="[object RegExp]",k="[object Set]",_="[object String]",C="[object Symbol]",S="[object WeakMap]",E="[object ArrayBuffer]",P="[object DataView]",R="[object Float32Array]",M="[object Float64Array]",T="[object Int8Array]",A="[object Int16Array]",D="[object Int32Array]",O="[object Uint8Array]",L="[object Uint8ClampedArray]",I="[object Uint16Array]",F="[object Uint32Array]",B=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,W=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,q=RegExp(W.source),V=RegExp(U.source),Y=/<%-([\s\S]+?)%>/g,G=/<%([\s\S]+?)%>/g,K=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,Z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q=/[\\^$.*+?()[\]{}|]/g,ee=RegExp(Q.source),te=/^\s+/,re=/\s/,ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,se=/,? & /,ie=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,oe=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ue=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,fe=/^0o[0-7]+$/i,pe=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ge=/($^)/,ve=/['\n\r\u2028\u2029\\]/g,ye="\\ud800-\\udfff",be="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",je="\\u2700-\\u27bf",we="a-z\\xdf-\\xf6\\xf8-\\xff",Ne="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\ufe0e\\ufe0f",_e="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ce="['â€™]",Se="["+ye+"]",Ee="["+_e+"]",Pe="["+be+"]",Re="\\d+",Me="["+je+"]",Te="["+we+"]",Ae="[^"+ye+_e+Re+je+we+Ne+"]",De="\\ud83c[\\udffb-\\udfff]",Oe="[^"+ye+"]",Le="(?:\\ud83c[\\udde6-\\uddff]){2}",Ie="[\\ud800-\\udbff][\\udc00-\\udfff]",Fe="["+Ne+"]",Be="\\u200d",$e="(?:"+Te+"|"+Ae+")",ze="(?:"+Fe+"|"+Ae+")",We="(?:['â€™](?:d|ll|m|re|s|t|ve))?",Ue="(?:['â€™](?:D|LL|M|RE|S|T|VE))?",He="(?:"+Pe+"|"+De+")?",qe="["+ke+"]?",Ve=qe+He+"(?:"+Be+"(?:"+[Oe,Le,Ie].join("|")+")"+qe+He+")*",Ye="(?:"+[Me,Le,Ie].join("|")+")"+Ve,Ge="(?:"+[Oe+Pe+"?",Pe,Le,Ie,Se].join("|")+")",Ke=RegExp(Ce,"g"),Je=RegExp(Pe,"g"),Xe=RegExp(De+"(?="+De+")|"+Ge+Ve,"g"),Ze=RegExp([Fe+"?"+Te+"+"+We+"(?="+[Ee,Fe,"$"].join("|")+")",ze+"+"+Ue+"(?="+[Ee,Fe+$e,"$"].join("|")+")",Fe+"?"+$e+"+"+We,Fe+"+"+Ue,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Ye].join("|"),"g"),Qe=RegExp("["+Be+ye+be+ke+"]"),et=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,nt={};nt[R]=nt[M]=nt[T]=nt[A]=nt[D]=nt[O]=nt[L]=nt[I]=nt[F]=!0,nt[h]=nt[m]=nt[E]=nt[f]=nt[P]=nt[p]=nt[x]=nt[g]=nt[y]=nt[b]=nt[j]=nt[N]=nt[k]=nt[_]=nt[S]=!1;var at={};at[h]=at[m]=at[E]=at[P]=at[f]=at[p]=at[R]=at[M]=at[T]=at[A]=at[D]=at[y]=at[b]=at[j]=at[N]=at[k]=at[_]=at[C]=at[O]=at[L]=at[I]=at[F]=!0,at[x]=at[g]=at[S]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},it=parseFloat,ot=parseInt,lt="object"==typeof H&&H&&H.Object===Object&&H,ct="object"==typeof self&&self&&self.Object===Object&&self,ut=lt||ct||Function("return this")(),dt=Ao&&!Ao.nodeType&&Ao,ht=dt&&To&&!To.nodeType&&To,mt=ht&&ht.exports===dt,ft=mt&&lt.process,pt=function(){try{var e=ht&&ht.require&&ht.require("util").types;return e||ft&&ft.binding&&ft.binding("util")}catch(vc){}}(),xt=pt&&pt.isArrayBuffer,gt=pt&&pt.isDate,vt=pt&&pt.isMap,yt=pt&&pt.isRegExp,bt=pt&&pt.isSet,jt=pt&&pt.isTypedArray;function wt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Nt(e,t,r,n){for(var a=-1,s=null==e?0:e.length;++a<s;){var i=e[a];t(n,i,r(i),e)}return n}function kt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function _t(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Ct(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function St(e,t){for(var r=-1,n=null==e?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}function Et(e,t){return!(null==e||!e.length)&&Ft(e,t,0)>-1}function Pt(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}function Rt(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}function Mt(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}function Tt(e,t,r,n){var a=-1,s=null==e?0:e.length;for(n&&s&&(r=e[++a]);++a<s;)r=t(r,e[a],a,e);return r}function At(e,t,r,n){var a=null==e?0:e.length;for(n&&a&&(r=e[--a]);a--;)r=t(r,e[a],a,e);return r}function Dt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Ot=Wt("length");function Lt(e,t,r){var n;return r(e,function(e,r,a){if(t(e,r,a))return n=r,!1}),n}function It(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}function Ft(e,t,r){return t==t?function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}(e,t,r):It(e,$t,r)}function Bt(e,t,r,n){for(var a=r-1,s=e.length;++a<s;)if(n(e[a],t))return a;return-1}function $t(e){return e!=e}function zt(e,t){var r=null==e?0:e.length;return r?qt(e,t)/r:c}function Wt(t){return function(r){return null==r?e:r[t]}}function Ut(t){return function(r){return null==t?e:t[r]}}function Ht(e,t,r,n,a){return a(e,function(e,a,s){r=n?(n=!1,e):t(r,e,a,s)}),r}function qt(t,r){for(var n,a=-1,s=t.length;++a<s;){var i=r(t[a]);i!==e&&(n=n===e?i:n+i)}return n}function Vt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Yt(e){return e?e.slice(0,cr(e)+1).replace(te,""):e}function Gt(e){return function(t){return e(t)}}function Kt(e,t){return Rt(t,function(t){return e[t]})}function Jt(e,t){return e.has(t)}function Xt(e,t){for(var r=-1,n=e.length;++r<n&&Ft(t,e[r],0)>-1;);return r}function Zt(e,t){for(var r=e.length;r--&&Ft(t,e[r],0)>-1;);return r}var Qt=Ut({"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"s"}),er=Ut({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tr(e){return"\\"+st[e]}function rr(e){return Qe.test(e)}function nr(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function ar(e,t){return function(r){return e(t(r))}}function sr(e,t){for(var r=-1,a=e.length,s=0,i=[];++r<a;){var o=e[r];o!==t&&o!==n||(e[r]=n,i[s++]=r)}return i}function ir(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function or(e){return rr(e)?function(e){for(var t=Xe.lastIndex=0;Xe.test(e);)++t;return t}(e):Ot(e)}function lr(e){return rr(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.split("")}(e)}function cr(e){for(var t=e.length;t--&&re.test(e.charAt(t)););return t}var ur=Ut({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),dr=function H(re){var ye,be=(re=null==re?ut:dr.defaults(ut.Object(),re,dr.pick(ut,tt))).Array,je=re.Date,we=re.Error,Ne=re.Function,ke=re.Math,_e=re.Object,Ce=re.RegExp,Se=re.String,Ee=re.TypeError,Pe=be.prototype,Re=Ne.prototype,Me=_e.prototype,Te=re["__core-js_shared__"],Ae=Re.toString,De=Me.hasOwnProperty,Oe=0,Le=(ye=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||""))?"Symbol(src)_1."+ye:"",Ie=Me.toString,Fe=Ae.call(_e),Be=ut._,$e=Ce("^"+Ae.call(De).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=mt?re.Buffer:e,We=re.Symbol,Ue=re.Uint8Array,He=ze?ze.allocUnsafe:e,qe=ar(_e.getPrototypeOf,_e),Ve=_e.create,Ye=Me.propertyIsEnumerable,Ge=Pe.splice,Xe=We?We.isConcatSpreadable:e,Qe=We?We.iterator:e,st=We?We.toStringTag:e,lt=function(){try{var e=cs(_e,"defineProperty");return e({},"",{}),e}catch(vc){}}(),ct=re.clearTimeout!==ut.clearTimeout&&re.clearTimeout,dt=je&&je.now!==ut.Date.now&&je.now,ht=re.setTimeout!==ut.setTimeout&&re.setTimeout,ft=ke.ceil,pt=ke.floor,Ot=_e.getOwnPropertySymbols,Ut=ze?ze.isBuffer:e,hr=re.isFinite,mr=Pe.join,fr=ar(_e.keys,_e),pr=ke.max,xr=ke.min,gr=je.now,vr=re.parseInt,yr=ke.random,br=Pe.reverse,jr=cs(re,"DataView"),wr=cs(re,"Map"),Nr=cs(re,"Promise"),kr=cs(re,"Set"),_r=cs(re,"WeakMap"),Cr=cs(_e,"create"),Sr=_r&&new _r,Er={},Pr=Fs(jr),Rr=Fs(wr),Mr=Fs(Nr),Tr=Fs(kr),Ar=Fs(_r),Dr=We?We.prototype:e,Or=Dr?Dr.valueOf:e,Lr=Dr?Dr.toString:e;function Ir(e){if(to(e)&&!Hi(e)&&!(e instanceof zr)){if(e instanceof $r)return e;if(De.call(e,"__wrapped__"))return Bs(e)}return new $r(e)}var Fr=function(){function t(){}return function(r){if(!eo(r))return{};if(Ve)return Ve(r);t.prototype=r;var n=new t;return t.prototype=e,n}}();function Br(){}function $r(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=e}function zr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=u,this.__views__=[]}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ur(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function qr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Hr;++t<r;)this.add(e[t])}function Vr(e){var t=this.__data__=new Ur(e);this.size=t.size}function Yr(e,t){var r=Hi(e),n=!r&&Ui(e),a=!r&&!n&&Gi(e),s=!r&&!n&&!a&&co(e),i=r||n||a||s,o=i?Vt(e.length,Se):[],l=o.length;for(var c in e)!t&&!De.call(e,c)||i&&("length"==c||a&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xs(c,l))||o.push(c);return o}function Gr(t){var r=t.length;return r?t[Vn(0,r-1)]:e}function Kr(e,t){return Ts(Sa(e),an(t,0,e.length))}function Jr(e){return Ts(Sa(e))}function Xr(t,r,n){(n!==e&&!$i(t[r],n)||n===e&&!(r in t))&&rn(t,r,n)}function Zr(t,r,n){var a=t[r];De.call(t,r)&&$i(a,n)&&(n!==e||r in t)||rn(t,r,n)}function Qr(e,t){for(var r=e.length;r--;)if($i(e[r][0],t))return r;return-1}function en(e,t,r,n){return un(e,function(e,a,s){t(n,e,r(e),s)}),n}function tn(e,t){return e&&Ea(t,To(t),e)}function rn(e,t,r){"__proto__"==t&&lt?lt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function nn(t,r){for(var n=-1,a=r.length,s=be(a),i=null==t;++n<a;)s[n]=i?e:So(t,r[n]);return s}function an(t,r,n){return t==t&&(n!==e&&(t=t<=n?t:n),r!==e&&(t=t>=r?t:r)),t}function sn(t,r,n,a,s,i){var o,l=1&r,c=2&r,u=4&r;if(n&&(o=s?n(t,a,s,i):n(t)),o!==e)return o;if(!eo(t))return t;var d=Hi(t);if(d){if(o=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&De.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(t),!l)return Sa(t,o)}else{var m=hs(t),x=m==g||m==v;if(Gi(t))return ja(t,l);if(m==j||m==h||x&&!s){if(o=c||x?{}:fs(t),!l)return c?function(e,t){return Ea(e,ds(e),t)}(t,function(e,t){return e&&Ea(t,Ao(t),e)}(o,t)):function(e,t){return Ea(e,us(e),t)}(t,tn(o,t))}else{if(!at[m])return s?t:{};o=function(e,t,r){var n,a=e.constructor;switch(t){case E:return wa(e);case f:case p:return new a(+e);case P:return function(e,t){var r=t?wa(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case R:case M:case T:case A:case D:case O:case L:case I:case F:return Na(e,r);case y:return new a;case b:case _:return new a(e);case N:return function(e){var t=new e.constructor(e.source,ue.exec(e));return t.lastIndex=e.lastIndex,t}(e);case k:return new a;case C:return n=e,Or?_e(Or.call(n)):{}}}(t,m,l)}}i||(i=new Vr);var w=i.get(t);if(w)return w;i.set(t,o),io(t)?t.forEach(function(e){o.add(sn(e,r,n,e,t,i))}):ro(t)&&t.forEach(function(e,a){o.set(a,sn(e,r,n,a,t,i))});var S=d?e:(u?c?rs:ts:c?Ao:To)(t);return kt(S||t,function(e,a){S&&(e=t[a=e]),Zr(o,a,sn(e,r,n,a,t,i))}),o}function on(t,r,n){var a=n.length;if(null==t)return!a;for(t=_e(t);a--;){var s=n[a],i=r[s],o=t[s];if(o===e&&!(s in t)||!i(o))return!1}return!0}function ln(r,n,a){if("function"!=typeof r)throw new Ee(t);return Es(function(){r.apply(e,a)},n)}function cn(e,t,r,n){var a=-1,s=Et,i=!0,o=e.length,l=[],c=t.length;if(!o)return l;r&&(t=Rt(t,Gt(r))),n?(s=Pt,i=!1):t.length>=200&&(s=Jt,i=!1,t=new qr(t));e:for(;++a<o;){var u=e[a],d=null==r?u:r(u);if(u=n||0!==u?u:0,i&&d==d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else s(t,d,n)||l.push(u)}return l}Ir.templateSettings={escape:Y,evaluate:G,interpolate:K,variable:"",imports:{_:Ir}},Ir.prototype=Br.prototype,Ir.prototype.constructor=Ir,$r.prototype=Fr(Br.prototype),$r.prototype.constructor=$r,zr.prototype=Fr(Br.prototype),zr.prototype.constructor=zr,Wr.prototype.clear=function(){this.__data__=Cr?Cr(null):{},this.size=0},Wr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wr.prototype.get=function(t){var n=this.__data__;if(Cr){var a=n[t];return a===r?e:a}return De.call(n,t)?n[t]:e},Wr.prototype.has=function(t){var r=this.__data__;return Cr?r[t]!==e:De.call(r,t)},Wr.prototype.set=function(t,n){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=Cr&&n===e?r:n,this},Ur.prototype.clear=function(){this.__data__=[],this.size=0},Ur.prototype.delete=function(e){var t=this.__data__,r=Qr(t,e);return!(r<0||(r==t.length-1?t.pop():Ge.call(t,r,1),--this.size,0))},Ur.prototype.get=function(t){var r=this.__data__,n=Qr(r,t);return n<0?e:r[n][1]},Ur.prototype.has=function(e){return Qr(this.__data__,e)>-1},Ur.prototype.set=function(e,t){var r=this.__data__,n=Qr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Hr.prototype.clear=function(){this.size=0,this.__data__={hash:new Wr,map:new(wr||Ur),string:new Wr}},Hr.prototype.delete=function(e){var t=os(this,e).delete(e);return this.size-=t?1:0,t},Hr.prototype.get=function(e){return os(this,e).get(e)},Hr.prototype.has=function(e){return os(this,e).has(e)},Hr.prototype.set=function(e,t){var r=os(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},qr.prototype.add=qr.prototype.push=function(e){return this.__data__.set(e,r),this},qr.prototype.has=function(e){return this.__data__.has(e)},Vr.prototype.clear=function(){this.__data__=new Ur,this.size=0},Vr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Vr.prototype.get=function(e){return this.__data__.get(e)},Vr.prototype.has=function(e){return this.__data__.has(e)},Vr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ur){var n=r.__data__;if(!wr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Hr(n)}return r.set(e,t),this.size=r.size,this};var un=Ma(vn),dn=Ma(yn,!0);function hn(e,t){var r=!0;return un(e,function(e,n,a){return r=!!t(e,n,a)}),r}function mn(t,r,n){for(var a=-1,s=t.length;++a<s;){var i=t[a],o=r(i);if(null!=o&&(l===e?o==o&&!lo(o):n(o,l)))var l=o,c=i}return c}function fn(e,t){var r=[];return un(e,function(e,n,a){t(e,n,a)&&r.push(e)}),r}function pn(e,t,r,n,a){var s=-1,i=e.length;for(r||(r=ps),a||(a=[]);++s<i;){var o=e[s];t>0&&r(o)?t>1?pn(o,t-1,r,n,a):Mt(a,o):n||(a[a.length]=o)}return a}var xn=Ta(),gn=Ta(!0);function vn(e,t){return e&&xn(e,t,To)}function yn(e,t){return e&&gn(e,t,To)}function bn(e,t){return St(t,function(t){return Xi(e[t])})}function jn(t,r){for(var n=0,a=(r=ga(r,t)).length;null!=t&&n<a;)t=t[Is(r[n++])];return n&&n==a?t:e}function wn(e,t,r){var n=t(e);return Hi(e)?n:Mt(n,r(e))}function Nn(t){return null==t?t===e?"[object Undefined]":"[object Null]":st&&st in _e(t)?function(t){var r=De.call(t,st),n=t[st];try{t[st]=e;var a=!0}catch(vc){}var s=Ie.call(t);return a&&(r?t[st]=n:delete t[st]),s}(t):function(e){return Ie.call(e)}(t)}function kn(e,t){return e>t}function _n(e,t){return null!=e&&De.call(e,t)}function Cn(e,t){return null!=e&&t in _e(e)}function Sn(t,r,n){for(var a=n?Pt:Et,s=t[0].length,i=t.length,o=i,l=be(i),c=1/0,u=[];o--;){var d=t[o];o&&r&&(d=Rt(d,Gt(r))),c=xr(d.length,c),l[o]=!n&&(r||s>=120&&d.length>=120)?new qr(o&&d):e}d=t[0];var h=-1,m=l[0];e:for(;++h<s&&u.length<c;){var f=d[h],p=r?r(f):f;if(f=n||0!==f?f:0,!(m?Jt(m,p):a(u,p,n))){for(o=i;--o;){var x=l[o];if(!(x?Jt(x,p):a(t[o],p,n)))continue e}m&&m.push(p),u.push(f)}}return u}function En(t,r,n){var a=null==(t=_s(t,r=ga(r,t)))?t:t[Is(Js(r))];return null==a?e:wt(a,t,n)}function Pn(e){return to(e)&&Nn(e)==h}function Rn(t,r,n,a,s){return t===r||(null==t||null==r||!to(t)&&!to(r)?t!=t&&r!=r:function(t,r,n,a,s,i){var o=Hi(t),l=Hi(r),c=o?m:hs(t),u=l?m:hs(r),d=(c=c==h?j:c)==j,g=(u=u==h?j:u)==j,v=c==u;if(v&&Gi(t)){if(!Gi(r))return!1;o=!0,d=!1}if(v&&!d)return i||(i=new Vr),o||co(t)?Qa(t,r,n,a,s,i):function(e,t,r,n,a,s,i){switch(r){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!s(new Ue(e),new Ue(t)));case f:case p:case b:return $i(+e,+t);case x:return e.name==t.name&&e.message==t.message;case N:case _:return e==t+"";case y:var o=nr;case k:var l=1&n;if(o||(o=ir),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=2,i.set(e,t);var u=Qa(o(e),o(t),n,a,s,i);return i.delete(e),u;case C:if(Or)return Or.call(e)==Or.call(t)}return!1}(t,r,c,n,a,s,i);if(!(1&n)){var w=d&&De.call(t,"__wrapped__"),S=g&&De.call(r,"__wrapped__");if(w||S){var R=w?t.value():t,M=S?r.value():r;return i||(i=new Vr),s(R,M,n,a,i)}}return!!v&&(i||(i=new Vr),function(t,r,n,a,s,i){var o=1&n,l=ts(t),c=l.length,u=ts(r),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var m=l[h];if(!(o?m in r:De.call(r,m)))return!1}var f=i.get(t),p=i.get(r);if(f&&p)return f==r&&p==t;var x=!0;i.set(t,r),i.set(r,t);for(var g=o;++h<c;){var v=t[m=l[h]],y=r[m];if(a)var b=o?a(y,v,m,r,t,i):a(v,y,m,t,r,i);if(!(b===e?v===y||s(v,y,n,a,i):b)){x=!1;break}g||(g="constructor"==m)}if(x&&!g){var j=t.constructor,w=r.constructor;j==w||!("constructor"in t)||!("constructor"in r)||"function"==typeof j&&j instanceof j&&"function"==typeof w&&w instanceof w||(x=!1)}return i.delete(t),i.delete(r),x}(t,r,n,a,s,i))}(t,r,n,a,Rn,s))}function Mn(t,r,n,a){var s=n.length,i=s,o=!a;if(null==t)return!i;for(t=_e(t);s--;){var l=n[s];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<i;){var c=(l=n[s])[0],u=t[c],d=l[1];if(o&&l[2]){if(u===e&&!(c in t))return!1}else{var h=new Vr;if(a)var m=a(u,d,c,t,r,h);if(!(m===e?Rn(d,u,3,a,h):m))return!1}}return!0}function Tn(e){return!(!eo(e)||(t=e,Le&&Le in t))&&(Xi(e)?$e:me).test(Fs(e));var t}function An(e){return"function"==typeof e?e:null==e?al:"object"==typeof e?Hi(e)?Bn(e[0],e[1]):Fn(e):ml(e)}function Dn(e){if(!js(e))return fr(e);var t=[];for(var r in _e(e))De.call(e,r)&&"constructor"!=r&&t.push(r);return t}function On(e){if(!eo(e))return function(e){var t=[];if(null!=e)for(var r in _e(e))t.push(r);return t}(e);var t=js(e),r=[];for(var n in e)("constructor"!=n||!t&&De.call(e,n))&&r.push(n);return r}function Ln(e,t){return e<t}function In(e,t){var r=-1,n=Vi(e)?be(e.length):[];return un(e,function(e,a,s){n[++r]=t(e,a,s)}),n}function Fn(e){var t=ls(e);return 1==t.length&&t[0][2]?Ns(t[0][0],t[0][1]):function(r){return r===e||Mn(r,e,t)}}function Bn(t,r){return vs(t)&&ws(r)?Ns(Is(t),r):function(n){var a=So(n,t);return a===e&&a===r?Eo(n,t):Rn(r,a,3)}}function $n(t,r,n,a,s){t!==r&&xn(r,function(i,o){if(s||(s=new Vr),eo(i))!function(t,r,n,a,s,i,o){var l=Cs(t,n),c=Cs(r,n),u=o.get(c);if(u)Xr(t,n,u);else{var d=i?i(l,c,n+"",t,r,o):e,h=d===e;if(h){var m=Hi(c),f=!m&&Gi(c),p=!m&&!f&&co(c);d=c,m||f||p?Hi(l)?d=l:Yi(l)?d=Sa(l):f?(h=!1,d=ja(c,!0)):p?(h=!1,d=Na(c,!0)):d=[]:ao(c)||Ui(c)?(d=l,Ui(l)?d=vo(l):eo(l)&&!Xi(l)||(d=fs(c))):h=!1}h&&(o.set(c,d),s(d,c,a,i,o),o.delete(c)),Xr(t,n,d)}}(t,r,o,n,$n,a,s);else{var l=a?a(Cs(t,o),i,o+"",t,r,s):e;l===e&&(l=i),Xr(t,o,l)}},Ao)}function zn(t,r){var n=t.length;if(n)return xs(r+=r<0?n:0,n)?t[r]:e}function Wn(e,t,r){t=t.length?Rt(t,function(e){return Hi(e)?function(t){return jn(t,1===e.length?e[0]:e)}:e}):[al];var n=-1;return t=Rt(t,Gt(is())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(In(e,function(e,r,a){return{criteria:Rt(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return function(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,i=a.length,o=r.length;++n<i;){var l=ka(a[n],s[n]);if(l)return n>=o?l:l*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)})}function Un(e,t,r){for(var n=-1,a=t.length,s={};++n<a;){var i=t[n],o=jn(e,i);r(o,i)&&Xn(s,ga(i,e),o)}return s}function Hn(e,t,r,n){var a=n?Bt:Ft,s=-1,i=t.length,o=e;for(e===t&&(t=Sa(t)),r&&(o=Rt(e,Gt(r)));++s<i;)for(var l=0,c=t[s],u=r?r(c):c;(l=a(o,u,l,n))>-1;)o!==e&&Ge.call(o,l,1),Ge.call(e,l,1);return e}function qn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var a=t[r];if(r==n||a!==s){var s=a;xs(a)?Ge.call(e,a,1):ca(e,a)}}return e}function Vn(e,t){return e+pt(yr()*(t-e+1))}function Yn(e,t){var r="";if(!e||t<1||t>l)return r;do{t%2&&(r+=e),(t=pt(t/2))&&(e+=e)}while(t);return r}function Gn(e,t){return Ps(ks(e,t,al),e+"")}function Kn(e){return Gr(zo(e))}function Jn(e,t){var r=zo(e);return Ts(r,an(t,0,r.length))}function Xn(t,r,n,a){if(!eo(t))return t;for(var s=-1,i=(r=ga(r,t)).length,o=i-1,l=t;null!=l&&++s<i;){var c=Is(r[s]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(s!=o){var d=l[c];(u=a?a(d,c,l):e)===e&&(u=eo(d)?d:xs(r[s+1])?[]:{})}Zr(l,c,u),l=l[c]}return t}var Zn=Sr?function(e,t){return Sr.set(e,t),e}:al,Qn=lt?function(e,t){return lt(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:al;function ea(e){return Ts(zo(e))}function ta(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=be(a);++n<a;)s[n]=e[n+t];return s}function ra(e,t){var r;return un(e,function(e,n,a){return!(r=t(e,n,a))}),!!r}function na(e,t,r){var n=0,a=null==e?n:e.length;if("number"==typeof t&&t==t&&a<=2147483647){for(;n<a;){var s=n+a>>>1,i=e[s];null!==i&&!lo(i)&&(r?i<=t:i<t)?n=s+1:a=s}return a}return aa(e,t,al,r)}function aa(t,r,n,a){var s=0,i=null==t?0:t.length;if(0===i)return 0;for(var o=(r=n(r))!=r,l=null===r,c=lo(r),u=r===e;s<i;){var d=pt((s+i)/2),h=n(t[d]),m=h!==e,f=null===h,p=h==h,x=lo(h);if(o)var g=a||p;else g=u?p&&(a||m):l?p&&m&&(a||!f):c?p&&m&&!f&&(a||!x):!f&&!x&&(a?h<=r:h<r);g?s=d+1:i=d}return xr(i,4294967294)}function sa(e,t){for(var r=-1,n=e.length,a=0,s=[];++r<n;){var i=e[r],o=t?t(i):i;if(!r||!$i(o,l)){var l=o;s[a++]=0===i?0:i}}return s}function ia(e){return"number"==typeof e?e:lo(e)?c:+e}function oa(e){if("string"==typeof e)return e;if(Hi(e))return Rt(e,oa)+"";if(lo(e))return Lr?Lr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function la(e,t,r){var n=-1,a=Et,s=e.length,i=!0,o=[],l=o;if(r)i=!1,a=Pt;else if(s>=200){var c=t?null:Ya(e);if(c)return ir(c);i=!1,a=Jt,l=new qr}else l=t?[]:o;e:for(;++n<s;){var u=e[n],d=t?t(u):u;if(u=r||0!==u?u:0,i&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),o.push(u)}else a(l,d,r)||(l!==o&&l.push(d),o.push(u))}return o}function ca(e,t){return null==(e=_s(e,t=ga(t,e)))||delete e[Is(Js(t))]}function ua(e,t,r,n){return Xn(e,t,r(jn(e,t)),n)}function da(e,t,r,n){for(var a=e.length,s=n?a:-1;(n?s--:++s<a)&&t(e[s],s,e););return r?ta(e,n?0:s,n?s+1:a):ta(e,n?s+1:0,n?a:s)}function ha(e,t){var r=e;return r instanceof zr&&(r=r.value()),Tt(t,function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))},r)}function ma(e,t,r){var n=e.length;if(n<2)return n?la(e[0]):[];for(var a=-1,s=be(n);++a<n;)for(var i=e[a],o=-1;++o<n;)o!=a&&(s[a]=cn(s[a]||i,e[o],t,r));return la(pn(s,1),t,r)}function fa(t,r,n){for(var a=-1,s=t.length,i=r.length,o={};++a<s;){var l=a<i?r[a]:e;n(o,t[a],l)}return o}function pa(e){return Yi(e)?e:[]}function xa(e){return"function"==typeof e?e:al}function ga(e,t){return Hi(e)?e:vs(e,t)?[e]:Ls(yo(e))}var va=Gn;function ya(t,r,n){var a=t.length;return n=n===e?a:n,!r&&n>=a?t:ta(t,r,n)}var ba=ct||function(e){return ut.clearTimeout(e)};function ja(e,t){if(t)return e.slice();var r=e.length,n=He?He(r):new e.constructor(r);return e.copy(n),n}function wa(e){var t=new e.constructor(e.byteLength);return new Ue(t).set(new Ue(e)),t}function Na(e,t){var r=t?wa(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function ka(t,r){if(t!==r){var n=t!==e,a=null===t,s=t==t,i=lo(t),o=r!==e,l=null===r,c=r==r,u=lo(r);if(!l&&!u&&!i&&t>r||i&&o&&c&&!l&&!u||a&&o&&c||!n&&c||!s)return 1;if(!a&&!i&&!u&&t<r||u&&n&&s&&!a&&!i||l&&n&&s||!o&&s||!c)return-1}return 0}function _a(e,t,r,n){for(var a=-1,s=e.length,i=r.length,o=-1,l=t.length,c=pr(s-i,0),u=be(l+c),d=!n;++o<l;)u[o]=t[o];for(;++a<i;)(d||a<s)&&(u[r[a]]=e[a]);for(;c--;)u[o++]=e[a++];return u}function Ca(e,t,r,n){for(var a=-1,s=e.length,i=-1,o=r.length,l=-1,c=t.length,u=pr(s-o,0),d=be(u+c),h=!n;++a<u;)d[a]=e[a];for(var m=a;++l<c;)d[m+l]=t[l];for(;++i<o;)(h||a<s)&&(d[m+r[i]]=e[a++]);return d}function Sa(e,t){var r=-1,n=e.length;for(t||(t=be(n));++r<n;)t[r]=e[r];return t}function Ea(t,r,n,a){var s=!n;n||(n={});for(var i=-1,o=r.length;++i<o;){var l=r[i],c=a?a(n[l],t[l],l,n,t):e;c===e&&(c=t[l]),s?rn(n,l,c):Zr(n,l,c)}return n}function Pa(e,t){return function(r,n){var a=Hi(r)?Nt:en,s=t?t():{};return a(r,e,is(n,2),s)}}function Ra(t){return Gn(function(r,n){var a=-1,s=n.length,i=s>1?n[s-1]:e,o=s>2?n[2]:e;for(i=t.length>3&&"function"==typeof i?(s--,i):e,o&&gs(n[0],n[1],o)&&(i=s<3?e:i,s=1),r=_e(r);++a<s;){var l=n[a];l&&t(r,l,a,i)}return r})}function Ma(e,t){return function(r,n){if(null==r)return r;if(!Vi(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=_e(r);(t?s--:++s<a)&&!1!==n(i[s],s,i););return r}}function Ta(e){return function(t,r,n){for(var a=-1,s=_e(t),i=n(t),o=i.length;o--;){var l=i[e?o:++a];if(!1===r(s[l],l,s))break}return t}}function Aa(t){return function(r){var n=rr(r=yo(r))?lr(r):e,a=n?n[0]:r.charAt(0),s=n?ya(n,1).join(""):r.slice(1);return a[t]()+s}}function Da(e){return function(t){return Tt(Zo(Ho(t).replace(Ke,"")),e,"")}}function Oa(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Fr(e.prototype),n=e.apply(r,t);return eo(n)?n:r}}function La(t){return function(r,n,a){var s=_e(r);if(!Vi(r)){var i=is(n,3);r=To(r),n=function(e){return i(s[e],e,s)}}var o=t(r,n,a);return o>-1?s[i?r[o]:o]:e}}function Ia(r){return es(function(n){var a=n.length,s=a,i=$r.prototype.thru;for(r&&n.reverse();s--;){var o=n[s];if("function"!=typeof o)throw new Ee(t);if(i&&!l&&"wrapper"==as(o))var l=new $r([],!0)}for(s=l?s:a;++s<a;){var c=as(o=n[s]),u="wrapper"==c?ns(o):e;l=u&&ys(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[as(u[0])].apply(l,u[3]):1==o.length&&ys(o)?l[c]():l.thru(o)}return function(){var e=arguments,t=e[0];if(l&&1==e.length&&Hi(t))return l.plant(t).value();for(var r=0,s=a?n[r].apply(this,e):t;++r<a;)s=n[r].call(this,s);return s}})}function Fa(t,r,n,a,i,o,l,c,u,d){var h=r&s,m=1&r,f=2&r,p=24&r,x=512&r,g=f?e:Oa(t);return function s(){for(var v=arguments.length,y=be(v),b=v;b--;)y[b]=arguments[b];if(p)var j=ss(s),w=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(y,j);if(a&&(y=_a(y,a,i,p)),o&&(y=Ca(y,o,l,p)),v-=w,p&&v<d){var N=sr(y,j);return qa(t,r,Fa,s.placeholder,n,y,N,c,u,d-v)}var k=m?n:this,_=f?k[t]:t;return v=y.length,c?y=function(t,r){for(var n=t.length,a=xr(r.length,n),s=Sa(t);a--;){var i=r[a];t[a]=xs(i,n)?s[i]:e}return t}(y,c):x&&v>1&&y.reverse(),h&&u<v&&(y.length=u),this&&this!==ut&&this instanceof s&&(_=g||Oa(_)),_.apply(k,y)}}function Ba(e,t){return function(r,n){return function(e,t,r,n){return vn(e,function(e,a,s){t(n,r(e),a,s)}),n}(r,e,t(n),{})}}function $a(t,r){return function(n,a){var s;if(n===e&&a===e)return r;if(n!==e&&(s=n),a!==e){if(s===e)return a;"string"==typeof n||"string"==typeof a?(n=oa(n),a=oa(a)):(n=ia(n),a=ia(a)),s=t(n,a)}return s}}function za(e){return es(function(t){return t=Rt(t,Gt(is())),Gn(function(r){var n=this;return e(t,function(e){return wt(e,n,r)})})})}function Wa(t,r){var n=(r=r===e?" ":oa(r)).length;if(n<2)return n?Yn(r,t):r;var a=Yn(r,ft(t/or(r)));return rr(r)?ya(lr(a),0,t).join(""):a.slice(0,t)}function Ua(t){return function(r,n,a){return a&&"number"!=typeof a&&gs(r,n,a)&&(n=a=e),r=fo(r),n===e?(n=r,r=0):n=fo(n),function(e,t,r,n){for(var a=-1,s=pr(ft((t-e)/(r||1)),0),i=be(s);s--;)i[n?s:++a]=e,e+=r;return i}(r,n,a=a===e?r<n?1:-1:fo(a),t)}}function Ha(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=go(t),r=go(r)),e(t,r)}}function qa(t,r,n,s,i,o,l,c,u,d){var h=8&r;r|=h?a:64,4&(r&=~(h?64:a))||(r&=-4);var m=[t,r,i,h?o:e,h?l:e,h?e:o,h?e:l,c,u,d],f=n.apply(e,m);return ys(t)&&Ss(f,m),f.placeholder=s,Rs(f,t,r)}function Va(e){var t=ke[e];return function(e,r){if(e=go(e),(r=null==r?0:xr(po(r),292))&&hr(e)){var n=(yo(e)+"e").split("e");return+((n=(yo(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Ya=kr&&1/ir(new kr([,-0]))[1]==o?function(e){return new kr(e)}:cl;function Ga(e){return function(t){var r=hs(t);return r==y?nr(t):r==k?function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}(t):function(e,t){return Rt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Ka(r,o,l,c,u,d,h,m){var f=2&o;if(!f&&"function"!=typeof r)throw new Ee(t);var p=c?c.length:0;if(p||(o&=-97,c=u=e),h=h===e?h:pr(po(h),0),m=m===e?m:po(m),p-=u?u.length:0,64&o){var x=c,g=u;c=u=e}var v=f?e:ns(r),y=[r,o,l,c,u,x,g,d,h,m];if(v&&function(e,t){var r=e[1],a=t[1],o=r|a,l=o<131,c=a==s&&8==r||a==s&&r==i&&e[7].length<=t[8]||384==a&&t[7].length<=t[8]&&8==r;if(!l&&!c)return e;1&a&&(e[2]=t[2],o|=1&r?0:4);var u=t[3];if(u){var d=e[3];e[3]=d?_a(d,u,t[4]):u,e[4]=d?sr(e[3],n):t[4]}(u=t[5])&&(d=e[5],e[5]=d?Ca(d,u,t[6]):u,e[6]=d?sr(e[5],n):t[6]),(u=t[7])&&(e[7]=u),a&s&&(e[8]=null==e[8]?t[8]:xr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(y,v),r=y[0],o=y[1],l=y[2],c=y[3],u=y[4],!(m=y[9]=y[9]===e?f?0:r.length:pr(y[9]-p,0))&&24&o&&(o&=-25),o&&1!=o)b=8==o||16==o?function(t,r,n){var a=Oa(t);return function s(){for(var i=arguments.length,o=be(i),l=i,c=ss(s);l--;)o[l]=arguments[l];var u=i<3&&o[0]!==c&&o[i-1]!==c?[]:sr(o,c);return(i-=u.length)<n?qa(t,r,Fa,s.placeholder,e,o,u,e,e,n-i):wt(this&&this!==ut&&this instanceof s?a:t,this,o)}}(r,o,m):o!=a&&33!=o||u.length?Fa.apply(e,y):function(e,t,r,n){var a=1&t,s=Oa(e);return function t(){for(var i=-1,o=arguments.length,l=-1,c=n.length,u=be(c+o),d=this&&this!==ut&&this instanceof t?s:e;++l<c;)u[l]=n[l];for(;o--;)u[l++]=arguments[++i];return wt(d,a?r:this,u)}}(r,o,l,c);else var b=function(e,t,r){var n=1&t,a=Oa(e);return function t(){return(this&&this!==ut&&this instanceof t?a:e).apply(n?r:this,arguments)}}(r,o,l);return Rs((v?Zn:Ss)(b,y),r,o)}function Ja(t,r,n,a){return t===e||$i(t,Me[n])&&!De.call(a,n)?r:t}function Xa(t,r,n,a,s,i){return eo(t)&&eo(r)&&(i.set(r,t),$n(t,r,e,Xa,i),i.delete(r)),t}function Za(t){return ao(t)?e:t}function Qa(t,r,n,a,s,i){var o=1&n,l=t.length,c=r.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(t),d=i.get(r);if(u&&d)return u==r&&d==t;var h=-1,m=!0,f=2&n?new qr:e;for(i.set(t,r),i.set(r,t);++h<l;){var p=t[h],x=r[h];if(a)var g=o?a(x,p,h,r,t,i):a(p,x,h,t,r,i);if(g!==e){if(g)continue;m=!1;break}if(f){if(!Dt(r,function(e,t){if(!Jt(f,t)&&(p===e||s(p,e,n,a,i)))return f.push(t)})){m=!1;break}}else if(p!==x&&!s(p,x,n,a,i)){m=!1;break}}return i.delete(t),i.delete(r),m}function es(t){return Ps(ks(t,e,qs),t+"")}function ts(e){return wn(e,To,us)}function rs(e){return wn(e,Ao,ds)}var ns=Sr?function(e){return Sr.get(e)}:cl;function as(e){for(var t=e.name+"",r=Er[t],n=De.call(Er,t)?r.length:0;n--;){var a=r[n],s=a.func;if(null==s||s==e)return a.name}return t}function ss(e){return(De.call(Ir,"placeholder")?Ir:e).placeholder}function is(){var e=Ir.iteratee||sl;return e=e===sl?An:e,arguments.length?e(arguments[0],arguments[1]):e}function os(e,t){var r,n,a=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?a["string"==typeof t?"string":"hash"]:a.map}function ls(e){for(var t=To(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,ws(a)]}return t}function cs(t,r){var n=function(t,r){return null==t?e:t[r]}(t,r);return Tn(n)?n:e}var us=Ot?function(e){return null==e?[]:(e=_e(e),St(Ot(e),function(t){return Ye.call(e,t)}))}:xl,ds=Ot?function(e){for(var t=[];e;)Mt(t,us(e)),e=qe(e);return t}:xl,hs=Nn;function ms(e,t,r){for(var n=-1,a=(t=ga(t,e)).length,s=!1;++n<a;){var i=Is(t[n]);if(!(s=null!=e&&r(e,i)))break;e=e[i]}return s||++n!=a?s:!!(a=null==e?0:e.length)&&Qi(a)&&xs(i,a)&&(Hi(e)||Ui(e))}function fs(e){return"function"!=typeof e.constructor||js(e)?{}:Fr(qe(e))}function ps(e){return Hi(e)||Ui(e)||!!(Xe&&e&&e[Xe])}function xs(e,t){var r=typeof e;return!!(t=null==t?l:t)&&("number"==r||"symbol"!=r&&pe.test(e))&&e>-1&&e%1==0&&e<t}function gs(e,t,r){if(!eo(r))return!1;var n=typeof t;return!!("number"==n?Vi(r)&&xs(t,r.length):"string"==n&&t in r)&&$i(r[t],e)}function vs(e,t){if(Hi(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!lo(e))||X.test(e)||!J.test(e)||null!=t&&e in _e(t)}function ys(e){var t=as(e),r=Ir[t];if("function"!=typeof r||!(t in zr.prototype))return!1;if(e===r)return!0;var n=ns(r);return!!n&&e===n[0]}(jr&&hs(new jr(new ArrayBuffer(1)))!=P||wr&&hs(new wr)!=y||Nr&&hs(Nr.resolve())!=w||kr&&hs(new kr)!=k||_r&&hs(new _r)!=S)&&(hs=function(t){var r=Nn(t),n=r==j?t.constructor:e,a=n?Fs(n):"";if(a)switch(a){case Pr:return P;case Rr:return y;case Mr:return w;case Tr:return k;case Ar:return S}return r});var bs=Te?Xi:gl;function js(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function ws(e){return e==e&&!eo(e)}function Ns(t,r){return function(n){return null!=n&&n[t]===r&&(r!==e||t in _e(n))}}function ks(t,r,n){return r=pr(r===e?t.length-1:r,0),function(){for(var e=arguments,a=-1,s=pr(e.length-r,0),i=be(s);++a<s;)i[a]=e[r+a];a=-1;for(var o=be(r+1);++a<r;)o[a]=e[a];return o[r]=n(i),wt(t,this,o)}}function _s(e,t){return t.length<2?e:jn(e,ta(t,0,-1))}function Cs(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ss=Ms(Zn),Es=ht||function(e,t){return ut.setTimeout(e,t)},Ps=Ms(Qn);function Rs(e,t,r){var n=t+"";return Ps(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ne,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return kt(d,function(r){var n="_."+r[0];t&r[1]&&!Et(e,n)&&e.push(n)}),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(se):[]}(n),r)))}function Ms(t){var r=0,n=0;return function(){var a=gr(),s=16-(a-n);if(n=a,s>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(e,arguments)}}function Ts(t,r){var n=-1,a=t.length,s=a-1;for(r=r===e?a:r;++n<r;){var i=Vn(n,s),o=t[i];t[i]=t[n],t[n]=o}return t.length=r,t}var As,Ds,Os,Ls=(As=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Z,function(e,r,n,a){t.push(n?a.replace(le,"$1"):r||e)}),t},Ds=Di(As,function(e){return 500===Os.size&&Os.clear(),e}),Os=Ds.cache,Ds);function Is(e){if("string"==typeof e||lo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fs(e){if(null!=e){try{return Ae.call(e)}catch(vc){}try{return e+""}catch(vc){}}return""}function Bs(e){if(e instanceof zr)return e.clone();var t=new $r(e.__wrapped__,e.__chain__);return t.__actions__=Sa(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var $s=Gn(function(e,t){return Yi(e)?cn(e,pn(t,1,Yi,!0)):[]}),zs=Gn(function(t,r){var n=Js(r);return Yi(n)&&(n=e),Yi(t)?cn(t,pn(r,1,Yi,!0),is(n,2)):[]}),Ws=Gn(function(t,r){var n=Js(r);return Yi(n)&&(n=e),Yi(t)?cn(t,pn(r,1,Yi,!0),e,n):[]});function Us(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:po(r);return a<0&&(a=pr(n+a,0)),It(e,is(t,3),a)}function Hs(t,r,n){var a=null==t?0:t.length;if(!a)return-1;var s=a-1;return n!==e&&(s=po(n),s=n<0?pr(a+s,0):xr(s,a-1)),It(t,is(r,3),s,!0)}function qs(e){return null!=e&&e.length?pn(e,1):[]}function Vs(t){return t&&t.length?t[0]:e}var Ys=Gn(function(e){var t=Rt(e,pa);return t.length&&t[0]===e[0]?Sn(t):[]}),Gs=Gn(function(t){var r=Js(t),n=Rt(t,pa);return r===Js(n)?r=e:n.pop(),n.length&&n[0]===t[0]?Sn(n,is(r,2)):[]}),Ks=Gn(function(t){var r=Js(t),n=Rt(t,pa);return(r="function"==typeof r?r:e)&&n.pop(),n.length&&n[0]===t[0]?Sn(n,e,r):[]});function Js(t){var r=null==t?0:t.length;return r?t[r-1]:e}var Xs=Gn(Zs);function Zs(e,t){return e&&e.length&&t&&t.length?Hn(e,t):e}var Qs=es(function(e,t){var r=null==e?0:e.length,n=nn(e,t);return qn(e,Rt(t,function(e){return xs(e,r)?+e:e}).sort(ka)),n});function ei(e){return null==e?e:br.call(e)}var ti=Gn(function(e){return la(pn(e,1,Yi,!0))}),ri=Gn(function(t){var r=Js(t);return Yi(r)&&(r=e),la(pn(t,1,Yi,!0),is(r,2))}),ni=Gn(function(t){var r=Js(t);return r="function"==typeof r?r:e,la(pn(t,1,Yi,!0),e,r)});function ai(e){if(!e||!e.length)return[];var t=0;return e=St(e,function(e){if(Yi(e))return t=pr(e.length,t),!0}),Vt(t,function(t){return Rt(e,Wt(t))})}function si(t,r){if(!t||!t.length)return[];var n=ai(t);return null==r?n:Rt(n,function(t){return wt(r,e,t)})}var ii=Gn(function(e,t){return Yi(e)?cn(e,t):[]}),oi=Gn(function(e){return ma(St(e,Yi))}),li=Gn(function(t){var r=Js(t);return Yi(r)&&(r=e),ma(St(t,Yi),is(r,2))}),ci=Gn(function(t){var r=Js(t);return r="function"==typeof r?r:e,ma(St(t,Yi),e,r)}),ui=Gn(ai),di=Gn(function(t){var r=t.length,n=r>1?t[r-1]:e;return n="function"==typeof n?(t.pop(),n):e,si(t,n)});function hi(e){var t=Ir(e);return t.__chain__=!0,t}function mi(e,t){return t(e)}var fi=es(function(t){var r=t.length,n=r?t[0]:0,a=this.__wrapped__,s=function(e){return nn(e,t)};return!(r>1||this.__actions__.length)&&a instanceof zr&&xs(n)?((a=a.slice(n,+n+(r?1:0))).__actions__.push({func:mi,args:[s],thisArg:e}),new $r(a,this.__chain__).thru(function(t){return r&&!t.length&&t.push(e),t})):this.thru(s)}),pi=Pa(function(e,t,r){De.call(e,r)?++e[r]:rn(e,r,1)}),xi=La(Us),gi=La(Hs);function vi(e,t){return(Hi(e)?kt:un)(e,is(t,3))}function yi(e,t){return(Hi(e)?_t:dn)(e,is(t,3))}var bi=Pa(function(e,t,r){De.call(e,r)?e[r].push(t):rn(e,r,[t])}),ji=Gn(function(e,t,r){var n=-1,a="function"==typeof t,s=Vi(e)?be(e.length):[];return un(e,function(e){s[++n]=a?wt(t,e,r):En(e,t,r)}),s}),wi=Pa(function(e,t,r){rn(e,r,t)});function Ni(e,t){return(Hi(e)?Rt:In)(e,is(t,3))}var ki=Pa(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]}),_i=Gn(function(e,t){if(null==e)return[];var r=t.length;return r>1&&gs(e,t[0],t[1])?t=[]:r>2&&gs(t[0],t[1],t[2])&&(t=[t[0]]),Wn(e,pn(t,1),[])}),Ci=dt||function(){return ut.Date.now()};function Si(t,r,n){return r=n?e:r,r=t&&null==r?t.length:r,Ka(t,s,e,e,e,e,r)}function Ei(r,n){var a;if("function"!=typeof n)throw new Ee(t);return r=po(r),function(){return--r>0&&(a=n.apply(this,arguments)),r<=1&&(n=e),a}}var Pi=Gn(function(e,t,r){var n=1;if(r.length){var s=sr(r,ss(Pi));n|=a}return Ka(e,n,t,r,s)}),Ri=Gn(function(e,t,r){var n=3;if(r.length){var s=sr(r,ss(Ri));n|=a}return Ka(t,n,e,r,s)});function Mi(r,n,a){var s,i,o,l,c,u,d=0,h=!1,m=!1,f=!0;if("function"!=typeof r)throw new Ee(t);function p(t){var n=s,a=i;return s=i=e,d=t,l=r.apply(a,n)}function x(t){var r=t-u;return u===e||r>=n||r<0||m&&t-d>=o}function g(){var e=Ci();if(x(e))return v(e);c=Es(g,function(e){var t=n-(e-u);return m?xr(t,o-(e-d)):t}(e))}function v(t){return c=e,f&&s?p(t):(s=i=e,l)}function y(){var t=Ci(),r=x(t);if(s=arguments,i=this,u=t,r){if(c===e)return function(e){return d=e,c=Es(g,n),h?p(e):l}(u);if(m)return ba(c),c=Es(g,n),p(u)}return c===e&&(c=Es(g,n)),l}return n=go(n)||0,eo(a)&&(h=!!a.leading,o=(m="maxWait"in a)?pr(go(a.maxWait)||0,n):o,f="trailing"in a?!!a.trailing:f),y.cancel=function(){c!==e&&ba(c),d=0,s=u=i=c=e},y.flush=function(){return c===e?l:v(Ci())},y}var Ti=Gn(function(e,t){return ln(e,1,t)}),Ai=Gn(function(e,t,r){return ln(e,go(t)||0,r)});function Di(e,r){if("function"!=typeof e||null!=r&&"function"!=typeof r)throw new Ee(t);var n=function(){var t=arguments,a=r?r.apply(this,t):t[0],s=n.cache;if(s.has(a))return s.get(a);var i=e.apply(this,t);return n.cache=s.set(a,i)||s,i};return n.cache=new(Di.Cache||Hr),n}function Oi(e){if("function"!=typeof e)throw new Ee(t);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Di.Cache=Hr;var Li=va(function(e,t){var r=(t=1==t.length&&Hi(t[0])?Rt(t[0],Gt(is())):Rt(pn(t,1),Gt(is()))).length;return Gn(function(n){for(var a=-1,s=xr(n.length,r);++a<s;)n[a]=t[a].call(this,n[a]);return wt(e,this,n)})}),Ii=Gn(function(t,r){var n=sr(r,ss(Ii));return Ka(t,a,e,r,n)}),Fi=Gn(function(t,r){var n=sr(r,ss(Fi));return Ka(t,64,e,r,n)}),Bi=es(function(t,r){return Ka(t,i,e,e,e,r)});function $i(e,t){return e===t||e!=e&&t!=t}var zi=Ha(kn),Wi=Ha(function(e,t){return e>=t}),Ui=Pn(function(){return arguments}())?Pn:function(e){return to(e)&&De.call(e,"callee")&&!Ye.call(e,"callee")},Hi=be.isArray,qi=xt?Gt(xt):function(e){return to(e)&&Nn(e)==E};function Vi(e){return null!=e&&Qi(e.length)&&!Xi(e)}function Yi(e){return to(e)&&Vi(e)}var Gi=Ut||gl,Ki=gt?Gt(gt):function(e){return to(e)&&Nn(e)==p};function Ji(e){if(!to(e))return!1;var t=Nn(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ao(e)}function Xi(e){if(!eo(e))return!1;var t=Nn(e);return t==g||t==v||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zi(e){return"number"==typeof e&&e==po(e)}function Qi(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function eo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function to(e){return null!=e&&"object"==typeof e}var ro=vt?Gt(vt):function(e){return to(e)&&hs(e)==y};function no(e){return"number"==typeof e||to(e)&&Nn(e)==b}function ao(e){if(!to(e)||Nn(e)!=j)return!1;var t=qe(e);if(null===t)return!0;var r=De.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ae.call(r)==Fe}var so=yt?Gt(yt):function(e){return to(e)&&Nn(e)==N},io=bt?Gt(bt):function(e){return to(e)&&hs(e)==k};function oo(e){return"string"==typeof e||!Hi(e)&&to(e)&&Nn(e)==_}function lo(e){return"symbol"==typeof e||to(e)&&Nn(e)==C}var co=jt?Gt(jt):function(e){return to(e)&&Qi(e.length)&&!!nt[Nn(e)]},uo=Ha(Ln),ho=Ha(function(e,t){return e<=t});function mo(e){if(!e)return[];if(Vi(e))return oo(e)?lr(e):Sa(e);if(Qe&&e[Qe])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Qe]());var t=hs(e);return(t==y?nr:t==k?ir:zo)(e)}function fo(e){return e?(e=go(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function po(e){var t=fo(e),r=t%1;return t==t?r?t-r:t:0}function xo(e){return e?an(po(e),0,u):0}function go(e){if("number"==typeof e)return e;if(lo(e))return c;if(eo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=eo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var r=he.test(e);return r||fe.test(e)?ot(e.slice(2),r?2:8):de.test(e)?c:+e}function vo(e){return Ea(e,Ao(e))}function yo(e){return null==e?"":oa(e)}var bo=Ra(function(e,t){if(js(t)||Vi(t))Ea(t,To(t),e);else for(var r in t)De.call(t,r)&&Zr(e,r,t[r])}),jo=Ra(function(e,t){Ea(t,Ao(t),e)}),wo=Ra(function(e,t,r,n){Ea(t,Ao(t),e,n)}),No=Ra(function(e,t,r,n){Ea(t,To(t),e,n)}),ko=es(nn),_o=Gn(function(t,r){t=_e(t);var n=-1,a=r.length,s=a>2?r[2]:e;for(s&&gs(r[0],r[1],s)&&(a=1);++n<a;)for(var i=r[n],o=Ao(i),l=-1,c=o.length;++l<c;){var u=o[l],d=t[u];(d===e||$i(d,Me[u])&&!De.call(t,u))&&(t[u]=i[u])}return t}),Co=Gn(function(t){return t.push(e,Xa),wt(Oo,e,t)});function So(t,r,n){var a=null==t?e:jn(t,r);return a===e?n:a}function Eo(e,t){return null!=e&&ms(e,t,Cn)}var Po=Ba(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ie.call(t)),e[t]=r},tl(al)),Ro=Ba(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ie.call(t)),De.call(e,t)?e[t].push(r):e[t]=[r]},is),Mo=Gn(En);function To(e){return Vi(e)?Yr(e):Dn(e)}function Ao(e){return Vi(e)?Yr(e,!0):On(e)}var Do=Ra(function(e,t,r){$n(e,t,r)}),Oo=Ra(function(e,t,r,n){$n(e,t,r,n)}),Lo=es(function(e,t){var r={};if(null==e)return r;var n=!1;t=Rt(t,function(t){return t=ga(t,e),n||(n=t.length>1),t}),Ea(e,rs(e),r),n&&(r=sn(r,7,Za));for(var a=t.length;a--;)ca(r,t[a]);return r}),Io=es(function(e,t){return null==e?{}:function(e,t){return Un(e,t,function(t,r){return Eo(e,r)})}(e,t)});function Fo(e,t){if(null==e)return{};var r=Rt(rs(e),function(e){return[e]});return t=is(t),Un(e,r,function(e,r){return t(e,r[0])})}var Bo=Ga(To),$o=Ga(Ao);function zo(e){return null==e?[]:Kt(e,To(e))}var Wo=Da(function(e,t,r){return t=t.toLowerCase(),e+(r?Uo(t):t)});function Uo(e){return Xo(yo(e).toLowerCase())}function Ho(e){return(e=yo(e))&&e.replace(xe,Qt).replace(Je,"")}var qo=Da(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Vo=Da(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),Yo=Aa("toLowerCase"),Go=Da(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),Ko=Da(function(e,t,r){return e+(r?" ":"")+Xo(t)}),Jo=Da(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),Xo=Aa("toUpperCase");function Zo(t,r,n){return t=yo(t),(r=n?e:r)===e?function(e){return et.test(e)}(t)?function(e){return e.match(Ze)||[]}(t):function(e){return e.match(ie)||[]}(t):t.match(r)||[]}var Qo=Gn(function(t,r){try{return wt(t,e,r)}catch(vc){return Ji(vc)?vc:new we(vc)}}),el=es(function(e,t){return kt(t,function(t){t=Is(t),rn(e,t,Pi(e[t],e))}),e});function tl(e){return function(){return e}}var rl=Ia(),nl=Ia(!0);function al(e){return e}function sl(e){return An("function"==typeof e?e:sn(e,1))}var il=Gn(function(e,t){return function(r){return En(r,e,t)}}),ol=Gn(function(e,t){return function(r){return En(e,r,t)}});function ll(e,t,r){var n=To(t),a=bn(t,n);null!=r||eo(t)&&(a.length||!n.length)||(r=t,t=e,e=this,a=bn(t,To(t)));var s=!(eo(r)&&"chain"in r&&!r.chain),i=Xi(e);return kt(a,function(r){var n=t[r];e[r]=n,i&&(e.prototype[r]=function(){var t=this.__chain__;if(s||t){var r=e(this.__wrapped__);return(r.__actions__=Sa(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Mt([this.value()],arguments))})}),e}function cl(){}var ul=za(Rt),dl=za(Ct),hl=za(Dt);function ml(e){return vs(e)?Wt(Is(e)):function(e){return function(t){return jn(t,e)}}(e)}var fl=Ua(),pl=Ua(!0);function xl(){return[]}function gl(){return!1}var vl,yl=$a(function(e,t){return e+t},0),bl=Va("ceil"),jl=$a(function(e,t){return e/t},1),wl=Va("floor"),Nl=$a(function(e,t){return e*t},1),kl=Va("round"),_l=$a(function(e,t){return e-t},0);return Ir.after=function(e,r){if("function"!=typeof r)throw new Ee(t);return e=po(e),function(){if(--e<1)return r.apply(this,arguments)}},Ir.ary=Si,Ir.assign=bo,Ir.assignIn=jo,Ir.assignInWith=wo,Ir.assignWith=No,Ir.at=ko,Ir.before=Ei,Ir.bind=Pi,Ir.bindAll=el,Ir.bindKey=Ri,Ir.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Hi(e)?e:[e]},Ir.chain=hi,Ir.chunk=function(t,r,n){r=(n?gs(t,r,n):r===e)?1:pr(po(r),0);var a=null==t?0:t.length;if(!a||r<1)return[];for(var s=0,i=0,o=be(ft(a/r));s<a;)o[i++]=ta(t,s,s+=r);return o},Ir.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,a=[];++t<r;){var s=e[t];s&&(a[n++]=s)}return a},Ir.concat=function(){var e=arguments.length;if(!e)return[];for(var t=be(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return Mt(Hi(r)?Sa(r):[r],pn(t,1))},Ir.cond=function(e){var r=null==e?0:e.length,n=is();return e=r?Rt(e,function(e){if("function"!=typeof e[1])throw new Ee(t);return[n(e[0]),e[1]]}):[],Gn(function(t){for(var n=-1;++n<r;){var a=e[n];if(wt(a[0],this,t))return wt(a[1],this,t)}})},Ir.conforms=function(e){return function(e){var t=To(e);return function(r){return on(r,e,t)}}(sn(e,1))},Ir.constant=tl,Ir.countBy=pi,Ir.create=function(e,t){var r=Fr(e);return null==t?r:tn(r,t)},Ir.curry=function t(r,n,a){var s=Ka(r,8,e,e,e,e,e,n=a?e:n);return s.placeholder=t.placeholder,s},Ir.curryRight=function t(r,n,a){var s=Ka(r,16,e,e,e,e,e,n=a?e:n);return s.placeholder=t.placeholder,s},Ir.debounce=Mi,Ir.defaults=_o,Ir.defaultsDeep=Co,Ir.defer=Ti,Ir.delay=Ai,Ir.difference=$s,Ir.differenceBy=zs,Ir.differenceWith=Ws,Ir.drop=function(t,r,n){var a=null==t?0:t.length;return a?ta(t,(r=n||r===e?1:po(r))<0?0:r,a):[]},Ir.dropRight=function(t,r,n){var a=null==t?0:t.length;return a?ta(t,0,(r=a-(r=n||r===e?1:po(r)))<0?0:r):[]},Ir.dropRightWhile=function(e,t){return e&&e.length?da(e,is(t,3),!0,!0):[]},Ir.dropWhile=function(e,t){return e&&e.length?da(e,is(t,3),!0):[]},Ir.fill=function(t,r,n,a){var s=null==t?0:t.length;return s?(n&&"number"!=typeof n&&gs(t,r,n)&&(n=0,a=s),function(t,r,n,a){var s=t.length;for((n=po(n))<0&&(n=-n>s?0:s+n),(a=a===e||a>s?s:po(a))<0&&(a+=s),a=n>a?0:xo(a);n<a;)t[n++]=r;return t}(t,r,n,a)):[]},Ir.filter=function(e,t){return(Hi(e)?St:fn)(e,is(t,3))},Ir.flatMap=function(e,t){return pn(Ni(e,t),1)},Ir.flatMapDeep=function(e,t){return pn(Ni(e,t),o)},Ir.flatMapDepth=function(t,r,n){return n=n===e?1:po(n),pn(Ni(t,r),n)},Ir.flatten=qs,Ir.flattenDeep=function(e){return null!=e&&e.length?pn(e,o):[]},Ir.flattenDepth=function(t,r){return null!=t&&t.length?pn(t,r=r===e?1:po(r)):[]},Ir.flip=function(e){return Ka(e,512)},Ir.flow=rl,Ir.flowRight=nl,Ir.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var a=e[t];n[a[0]]=a[1]}return n},Ir.functions=function(e){return null==e?[]:bn(e,To(e))},Ir.functionsIn=function(e){return null==e?[]:bn(e,Ao(e))},Ir.groupBy=bi,Ir.initial=function(e){return null!=e&&e.length?ta(e,0,-1):[]},Ir.intersection=Ys,Ir.intersectionBy=Gs,Ir.intersectionWith=Ks,Ir.invert=Po,Ir.invertBy=Ro,Ir.invokeMap=ji,Ir.iteratee=sl,Ir.keyBy=wi,Ir.keys=To,Ir.keysIn=Ao,Ir.map=Ni,Ir.mapKeys=function(e,t){var r={};return t=is(t,3),vn(e,function(e,n,a){rn(r,t(e,n,a),e)}),r},Ir.mapValues=function(e,t){var r={};return t=is(t,3),vn(e,function(e,n,a){rn(r,n,t(e,n,a))}),r},Ir.matches=function(e){return Fn(sn(e,1))},Ir.matchesProperty=function(e,t){return Bn(e,sn(t,1))},Ir.memoize=Di,Ir.merge=Do,Ir.mergeWith=Oo,Ir.method=il,Ir.methodOf=ol,Ir.mixin=ll,Ir.negate=Oi,Ir.nthArg=function(e){return e=po(e),Gn(function(t){return zn(t,e)})},Ir.omit=Lo,Ir.omitBy=function(e,t){return Fo(e,Oi(is(t)))},Ir.once=function(e){return Ei(2,e)},Ir.orderBy=function(t,r,n,a){return null==t?[]:(Hi(r)||(r=null==r?[]:[r]),Hi(n=a?e:n)||(n=null==n?[]:[n]),Wn(t,r,n))},Ir.over=ul,Ir.overArgs=Li,Ir.overEvery=dl,Ir.overSome=hl,Ir.partial=Ii,Ir.partialRight=Fi,Ir.partition=ki,Ir.pick=Io,Ir.pickBy=Fo,Ir.property=ml,Ir.propertyOf=function(t){return function(r){return null==t?e:jn(t,r)}},Ir.pull=Xs,Ir.pullAll=Zs,Ir.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Hn(e,t,is(r,2)):e},Ir.pullAllWith=function(t,r,n){return t&&t.length&&r&&r.length?Hn(t,r,e,n):t},Ir.pullAt=Qs,Ir.range=fl,Ir.rangeRight=pl,Ir.rearg=Bi,Ir.reject=function(e,t){return(Hi(e)?St:fn)(e,Oi(is(t,3)))},Ir.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,a=[],s=e.length;for(t=is(t,3);++n<s;){var i=e[n];t(i,n,e)&&(r.push(i),a.push(n))}return qn(e,a),r},Ir.rest=function(r,n){if("function"!=typeof r)throw new Ee(t);return Gn(r,n=n===e?n:po(n))},Ir.reverse=ei,Ir.sampleSize=function(t,r,n){return r=(n?gs(t,r,n):r===e)?1:po(r),(Hi(t)?Kr:Jn)(t,r)},Ir.set=function(e,t,r){return null==e?e:Xn(e,t,r)},Ir.setWith=function(t,r,n,a){return a="function"==typeof a?a:e,null==t?t:Xn(t,r,n,a)},Ir.shuffle=function(e){return(Hi(e)?Jr:ea)(e)},Ir.slice=function(t,r,n){var a=null==t?0:t.length;return a?(n&&"number"!=typeof n&&gs(t,r,n)?(r=0,n=a):(r=null==r?0:po(r),n=n===e?a:po(n)),ta(t,r,n)):[]},Ir.sortBy=_i,Ir.sortedUniq=function(e){return e&&e.length?sa(e):[]},Ir.sortedUniqBy=function(e,t){return e&&e.length?sa(e,is(t,2)):[]},Ir.split=function(t,r,n){return n&&"number"!=typeof n&&gs(t,r,n)&&(r=n=e),(n=n===e?u:n>>>0)?(t=yo(t))&&("string"==typeof r||null!=r&&!so(r))&&!(r=oa(r))&&rr(t)?ya(lr(t),0,n):t.split(r,n):[]},Ir.spread=function(e,r){if("function"!=typeof e)throw new Ee(t);return r=null==r?0:pr(po(r),0),Gn(function(t){var n=t[r],a=ya(t,0,r);return n&&Mt(a,n),wt(e,this,a)})},Ir.tail=function(e){var t=null==e?0:e.length;return t?ta(e,1,t):[]},Ir.take=function(t,r,n){return t&&t.length?ta(t,0,(r=n||r===e?1:po(r))<0?0:r):[]},Ir.takeRight=function(t,r,n){var a=null==t?0:t.length;return a?ta(t,(r=a-(r=n||r===e?1:po(r)))<0?0:r,a):[]},Ir.takeRightWhile=function(e,t){return e&&e.length?da(e,is(t,3),!1,!0):[]},Ir.takeWhile=function(e,t){return e&&e.length?da(e,is(t,3)):[]},Ir.tap=function(e,t){return t(e),e},Ir.throttle=function(e,r,n){var a=!0,s=!0;if("function"!=typeof e)throw new Ee(t);return eo(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),Mi(e,r,{leading:a,maxWait:r,trailing:s})},Ir.thru=mi,Ir.toArray=mo,Ir.toPairs=Bo,Ir.toPairsIn=$o,Ir.toPath=function(e){return Hi(e)?Rt(e,Is):lo(e)?[e]:Sa(Ls(yo(e)))},Ir.toPlainObject=vo,Ir.transform=function(e,t,r){var n=Hi(e),a=n||Gi(e)||co(e);if(t=is(t,4),null==r){var s=e&&e.constructor;r=a?n?new s:[]:eo(e)&&Xi(s)?Fr(qe(e)):{}}return(a?kt:vn)(e,function(e,n,a){return t(r,e,n,a)}),r},Ir.unary=function(e){return Si(e,1)},Ir.union=ti,Ir.unionBy=ri,Ir.unionWith=ni,Ir.uniq=function(e){return e&&e.length?la(e):[]},Ir.uniqBy=function(e,t){return e&&e.length?la(e,is(t,2)):[]},Ir.uniqWith=function(t,r){return r="function"==typeof r?r:e,t&&t.length?la(t,e,r):[]},Ir.unset=function(e,t){return null==e||ca(e,t)},Ir.unzip=ai,Ir.unzipWith=si,Ir.update=function(e,t,r){return null==e?e:ua(e,t,xa(r))},Ir.updateWith=function(t,r,n,a){return a="function"==typeof a?a:e,null==t?t:ua(t,r,xa(n),a)},Ir.values=zo,Ir.valuesIn=function(e){return null==e?[]:Kt(e,Ao(e))},Ir.without=ii,Ir.words=Zo,Ir.wrap=function(e,t){return Ii(xa(t),e)},Ir.xor=oi,Ir.xorBy=li,Ir.xorWith=ci,Ir.zip=ui,Ir.zipObject=function(e,t){return fa(e||[],t||[],Zr)},Ir.zipObjectDeep=function(e,t){return fa(e||[],t||[],Xn)},Ir.zipWith=di,Ir.entries=Bo,Ir.entriesIn=$o,Ir.extend=jo,Ir.extendWith=wo,ll(Ir,Ir),Ir.add=yl,Ir.attempt=Qo,Ir.camelCase=Wo,Ir.capitalize=Uo,Ir.ceil=bl,Ir.clamp=function(t,r,n){return n===e&&(n=r,r=e),n!==e&&(n=(n=go(n))==n?n:0),r!==e&&(r=(r=go(r))==r?r:0),an(go(t),r,n)},Ir.clone=function(e){return sn(e,4)},Ir.cloneDeep=function(e){return sn(e,5)},Ir.cloneDeepWith=function(t,r){return sn(t,5,r="function"==typeof r?r:e)},Ir.cloneWith=function(t,r){return sn(t,4,r="function"==typeof r?r:e)},Ir.conformsTo=function(e,t){return null==t||on(e,t,To(t))},Ir.deburr=Ho,Ir.defaultTo=function(e,t){return null==e||e!=e?t:e},Ir.divide=jl,Ir.endsWith=function(t,r,n){t=yo(t),r=oa(r);var a=t.length,s=n=n===e?a:an(po(n),0,a);return(n-=r.length)>=0&&t.slice(n,s)==r},Ir.eq=$i,Ir.escape=function(e){return(e=yo(e))&&V.test(e)?e.replace(U,er):e},Ir.escapeRegExp=function(e){return(e=yo(e))&&ee.test(e)?e.replace(Q,"\\$&"):e},Ir.every=function(t,r,n){var a=Hi(t)?Ct:hn;return n&&gs(t,r,n)&&(r=e),a(t,is(r,3))},Ir.find=xi,Ir.findIndex=Us,Ir.findKey=function(e,t){return Lt(e,is(t,3),vn)},Ir.findLast=gi,Ir.findLastIndex=Hs,Ir.findLastKey=function(e,t){return Lt(e,is(t,3),yn)},Ir.floor=wl,Ir.forEach=vi,Ir.forEachRight=yi,Ir.forIn=function(e,t){return null==e?e:xn(e,is(t,3),Ao)},Ir.forInRight=function(e,t){return null==e?e:gn(e,is(t,3),Ao)},Ir.forOwn=function(e,t){return e&&vn(e,is(t,3))},Ir.forOwnRight=function(e,t){return e&&yn(e,is(t,3))},Ir.get=So,Ir.gt=zi,Ir.gte=Wi,Ir.has=function(e,t){return null!=e&&ms(e,t,_n)},Ir.hasIn=Eo,Ir.head=Vs,Ir.identity=al,Ir.includes=function(e,t,r,n){e=Vi(e)?e:zo(e),r=r&&!n?po(r):0;var a=e.length;return r<0&&(r=pr(a+r,0)),oo(e)?r<=a&&e.indexOf(t,r)>-1:!!a&&Ft(e,t,r)>-1},Ir.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:po(r);return a<0&&(a=pr(n+a,0)),Ft(e,t,a)},Ir.inRange=function(t,r,n){return r=fo(r),n===e?(n=r,r=0):n=fo(n),function(e,t,r){return e>=xr(t,r)&&e<pr(t,r)}(t=go(t),r,n)},Ir.invoke=Mo,Ir.isArguments=Ui,Ir.isArray=Hi,Ir.isArrayBuffer=qi,Ir.isArrayLike=Vi,Ir.isArrayLikeObject=Yi,Ir.isBoolean=function(e){return!0===e||!1===e||to(e)&&Nn(e)==f},Ir.isBuffer=Gi,Ir.isDate=Ki,Ir.isElement=function(e){return to(e)&&1===e.nodeType&&!ao(e)},Ir.isEmpty=function(e){if(null==e)return!0;if(Vi(e)&&(Hi(e)||"string"==typeof e||"function"==typeof e.splice||Gi(e)||co(e)||Ui(e)))return!e.length;var t=hs(e);if(t==y||t==k)return!e.size;if(js(e))return!Dn(e).length;for(var r in e)if(De.call(e,r))return!1;return!0},Ir.isEqual=function(e,t){return Rn(e,t)},Ir.isEqualWith=function(t,r,n){var a=(n="function"==typeof n?n:e)?n(t,r):e;return a===e?Rn(t,r,e,n):!!a},Ir.isError=Ji,Ir.isFinite=function(e){return"number"==typeof e&&hr(e)},Ir.isFunction=Xi,Ir.isInteger=Zi,Ir.isLength=Qi,Ir.isMap=ro,Ir.isMatch=function(e,t){return e===t||Mn(e,t,ls(t))},Ir.isMatchWith=function(t,r,n){return n="function"==typeof n?n:e,Mn(t,r,ls(r),n)},Ir.isNaN=function(e){return no(e)&&e!=+e},Ir.isNative=function(e){if(bs(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Tn(e)},Ir.isNil=function(e){return null==e},Ir.isNull=function(e){return null===e},Ir.isNumber=no,Ir.isObject=eo,Ir.isObjectLike=to,Ir.isPlainObject=ao,Ir.isRegExp=so,Ir.isSafeInteger=function(e){return Zi(e)&&e>=-9007199254740991&&e<=l},Ir.isSet=io,Ir.isString=oo,Ir.isSymbol=lo,Ir.isTypedArray=co,Ir.isUndefined=function(t){return t===e},Ir.isWeakMap=function(e){return to(e)&&hs(e)==S},Ir.isWeakSet=function(e){return to(e)&&"[object WeakSet]"==Nn(e)},Ir.join=function(e,t){return null==e?"":mr.call(e,t)},Ir.kebabCase=qo,Ir.last=Js,Ir.lastIndexOf=function(t,r,n){var a=null==t?0:t.length;if(!a)return-1;var s=a;return n!==e&&(s=(s=po(n))<0?pr(a+s,0):xr(s,a-1)),r==r?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(t,r,s):It(t,$t,s,!0)},Ir.lowerCase=Vo,Ir.lowerFirst=Yo,Ir.lt=uo,Ir.lte=ho,Ir.max=function(t){return t&&t.length?mn(t,al,kn):e},Ir.maxBy=function(t,r){return t&&t.length?mn(t,is(r,2),kn):e},Ir.mean=function(e){return zt(e,al)},Ir.meanBy=function(e,t){return zt(e,is(t,2))},Ir.min=function(t){return t&&t.length?mn(t,al,Ln):e},Ir.minBy=function(t,r){return t&&t.length?mn(t,is(r,2),Ln):e},Ir.stubArray=xl,Ir.stubFalse=gl,Ir.stubObject=function(){return{}},Ir.stubString=function(){return""},Ir.stubTrue=function(){return!0},Ir.multiply=Nl,Ir.nth=function(t,r){return t&&t.length?zn(t,po(r)):e},Ir.noConflict=function(){return ut._===this&&(ut._=Be),this},Ir.noop=cl,Ir.now=Ci,Ir.pad=function(e,t,r){e=yo(e);var n=(t=po(t))?or(e):0;if(!t||n>=t)return e;var a=(t-n)/2;return Wa(pt(a),r)+e+Wa(ft(a),r)},Ir.padEnd=function(e,t,r){e=yo(e);var n=(t=po(t))?or(e):0;return t&&n<t?e+Wa(t-n,r):e},Ir.padStart=function(e,t,r){e=yo(e);var n=(t=po(t))?or(e):0;return t&&n<t?Wa(t-n,r)+e:e},Ir.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),vr(yo(e).replace(te,""),t||0)},Ir.random=function(t,r,n){if(n&&"boolean"!=typeof n&&gs(t,r,n)&&(r=n=e),n===e&&("boolean"==typeof r?(n=r,r=e):"boolean"==typeof t&&(n=t,t=e)),t===e&&r===e?(t=0,r=1):(t=fo(t),r===e?(r=t,t=0):r=fo(r)),t>r){var a=t;t=r,r=a}if(n||t%1||r%1){var s=yr();return xr(t+s*(r-t+it("1e-"+((s+"").length-1))),r)}return Vn(t,r)},Ir.reduce=function(e,t,r){var n=Hi(e)?Tt:Ht,a=arguments.length<3;return n(e,is(t,4),r,a,un)},Ir.reduceRight=function(e,t,r){var n=Hi(e)?At:Ht,a=arguments.length<3;return n(e,is(t,4),r,a,dn)},Ir.repeat=function(t,r,n){return r=(n?gs(t,r,n):r===e)?1:po(r),Yn(yo(t),r)},Ir.replace=function(){var e=arguments,t=yo(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Ir.result=function(t,r,n){var a=-1,s=(r=ga(r,t)).length;for(s||(s=1,t=e);++a<s;){var i=null==t?e:t[Is(r[a])];i===e&&(a=s,i=n),t=Xi(i)?i.call(t):i}return t},Ir.round=kl,Ir.runInContext=H,Ir.sample=function(e){return(Hi(e)?Gr:Kn)(e)},Ir.size=function(e){if(null==e)return 0;if(Vi(e))return oo(e)?or(e):e.length;var t=hs(e);return t==y||t==k?e.size:Dn(e).length},Ir.snakeCase=Go,Ir.some=function(t,r,n){var a=Hi(t)?Dt:ra;return n&&gs(t,r,n)&&(r=e),a(t,is(r,3))},Ir.sortedIndex=function(e,t){return na(e,t)},Ir.sortedIndexBy=function(e,t,r){return aa(e,t,is(r,2))},Ir.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=na(e,t);if(n<r&&$i(e[n],t))return n}return-1},Ir.sortedLastIndex=function(e,t){return na(e,t,!0)},Ir.sortedLastIndexBy=function(e,t,r){return aa(e,t,is(r,2),!0)},Ir.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=na(e,t,!0)-1;if($i(e[r],t))return r}return-1},Ir.startCase=Ko,Ir.startsWith=function(e,t,r){return e=yo(e),r=null==r?0:an(po(r),0,e.length),t=oa(t),e.slice(r,r+t.length)==t},Ir.subtract=_l,Ir.sum=function(e){return e&&e.length?qt(e,al):0},Ir.sumBy=function(e,t){return e&&e.length?qt(e,is(t,2)):0},Ir.template=function(t,r,n){var a=Ir.templateSettings;n&&gs(t,r,n)&&(r=e),t=yo(t),r=wo({},r,a,Ja);var s,i,o=wo({},r.imports,a.imports,Ja),l=To(o),c=Kt(o,l),u=0,d=r.interpolate||ge,h="__p += '",m=Ce((r.escape||ge).source+"|"+d.source+"|"+(d===K?ce:ge).source+"|"+(r.evaluate||ge).source+"|$","g"),f="//# sourceURL="+(De.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";t.replace(m,function(e,r,n,a,o,l){return n||(n=a),h+=t.slice(u,l).replace(ve,tr),r&&(s=!0,h+="' +\n__e("+r+") +\n'"),o&&(i=!0,h+="';\n"+o+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=l+e.length,e}),h+="';\n";var p=De.call(r,"variable")&&r.variable;if(p){if(oe.test(p))throw new we("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(i?h.replace(B,""):h).replace($,"$1").replace(z,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var x=Qo(function(){return Ne(l,f+"return "+h).apply(e,c)});if(x.source=h,Ji(x))throw x;return x},Ir.times=function(e,t){if((e=po(e))<1||e>l)return[];var r=u,n=xr(e,u);t=is(t),e-=u;for(var a=Vt(n,t);++r<e;)t(r);return a},Ir.toFinite=fo,Ir.toInteger=po,Ir.toLength=xo,Ir.toLower=function(e){return yo(e).toLowerCase()},Ir.toNumber=go,Ir.toSafeInteger=function(e){return e?an(po(e),-9007199254740991,l):0===e?e:0},Ir.toString=yo,Ir.toUpper=function(e){return yo(e).toUpperCase()},Ir.trim=function(t,r,n){if((t=yo(t))&&(n||r===e))return Yt(t);if(!t||!(r=oa(r)))return t;var a=lr(t),s=lr(r);return ya(a,Xt(a,s),Zt(a,s)+1).join("")},Ir.trimEnd=function(t,r,n){if((t=yo(t))&&(n||r===e))return t.slice(0,cr(t)+1);if(!t||!(r=oa(r)))return t;var a=lr(t);return ya(a,0,Zt(a,lr(r))+1).join("")},Ir.trimStart=function(t,r,n){if((t=yo(t))&&(n||r===e))return t.replace(te,"");if(!t||!(r=oa(r)))return t;var a=lr(t);return ya(a,Xt(a,lr(r))).join("")},Ir.truncate=function(t,r){var n=30,a="...";if(eo(r)){var s="separator"in r?r.separator:s;n="length"in r?po(r.length):n,a="omission"in r?oa(r.omission):a}var i=(t=yo(t)).length;if(rr(t)){var o=lr(t);i=o.length}if(n>=i)return t;var l=n-or(a);if(l<1)return a;var c=o?ya(o,0,l).join(""):t.slice(0,l);if(s===e)return c+a;if(o&&(l+=c.length-l),so(s)){if(t.slice(l).search(s)){var u,d=c;for(s.global||(s=Ce(s.source,yo(ue.exec(s))+"g")),s.lastIndex=0;u=s.exec(d);)var h=u.index;c=c.slice(0,h===e?l:h)}}else if(t.indexOf(oa(s),l)!=l){var m=c.lastIndexOf(s);m>-1&&(c=c.slice(0,m))}return c+a},Ir.unescape=function(e){return(e=yo(e))&&q.test(e)?e.replace(W,ur):e},Ir.uniqueId=function(e){var t=++Oe;return yo(e)+t},Ir.upperCase=Jo,Ir.upperFirst=Xo,Ir.each=vi,Ir.eachRight=yi,Ir.first=Vs,ll(Ir,(vl={},vn(Ir,function(e,t){De.call(Ir.prototype,t)||(vl[t]=e)}),vl),{chain:!1}),Ir.VERSION="4.17.21",kt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Ir[e].placeholder=Ir}),kt(["drop","take"],function(t,r){zr.prototype[t]=function(n){n=n===e?1:pr(po(n),0);var a=this.__filtered__&&!r?new zr(this):this.clone();return a.__filtered__?a.__takeCount__=xr(n,a.__takeCount__):a.__views__.push({size:xr(n,u),type:t+(a.__dir__<0?"Right":"")}),a},zr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),kt(["filter","map","takeWhile"],function(e,t){var r=t+1,n=1==r||3==r;zr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:is(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),kt(["head","last"],function(e,t){var r="take"+(t?"Right":"");zr.prototype[e]=function(){return this[r](1).value()[0]}}),kt(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");zr.prototype[e]=function(){return this.__filtered__?new zr(this):this[r](1)}}),zr.prototype.compact=function(){return this.filter(al)},zr.prototype.find=function(e){return this.filter(e).head()},zr.prototype.findLast=function(e){return this.reverse().find(e)},zr.prototype.invokeMap=Gn(function(e,t){return"function"==typeof e?new zr(this):this.map(function(r){return En(r,e,t)})}),zr.prototype.reject=function(e){return this.filter(Oi(is(e)))},zr.prototype.slice=function(t,r){t=po(t);var n=this;return n.__filtered__&&(t>0||r<0)?new zr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),r!==e&&(n=(r=po(r))<0?n.dropRight(-r):n.take(r-t)),n)},zr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zr.prototype.toArray=function(){return this.take(u)},vn(zr.prototype,function(t,r){var n=/^(?:filter|find|map|reject)|While$/.test(r),a=/^(?:head|last)$/.test(r),s=Ir[a?"take"+("last"==r?"Right":""):r],i=a||/^find/.test(r);s&&(Ir.prototype[r]=function(){var r=this.__wrapped__,o=a?[1]:arguments,l=r instanceof zr,c=o[0],u=l||Hi(r),d=function(e){var t=s.apply(Ir,Mt([e],o));return a&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,m=!!this.__actions__.length,f=i&&!h,p=l&&!m;if(!i&&u){r=p?r:new zr(this);var x=t.apply(r,o);return x.__actions__.push({func:mi,args:[d],thisArg:e}),new $r(x,h)}return f&&p?t.apply(this,o):(x=this.thru(d),f?a?x.value()[0]:x.value():x)})}),kt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Pe[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Ir.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var a=this.value();return t.apply(Hi(a)?a:[],e)}return this[r](function(r){return t.apply(Hi(r)?r:[],e)})}}),vn(zr.prototype,function(e,t){var r=Ir[t];if(r){var n=r.name+"";De.call(Er,n)||(Er[n]=[]),Er[n].push({name:t,func:r})}}),Er[Fa(e,2).name]=[{name:"wrapper",func:e}],zr.prototype.clone=function(){var e=new zr(this.__wrapped__);return e.__actions__=Sa(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Sa(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Sa(this.__views__),e},zr.prototype.reverse=function(){if(this.__filtered__){var e=new zr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Hi(e),n=t<0,a=r?e.length:0,s=function(e,t,r){for(var n=-1,a=r.length;++n<a;){var s=r[n],i=s.size;switch(s.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=xr(t,e+i);break;case"takeRight":e=pr(e,t-i)}}return{start:e,end:t}}(0,a,this.__views__),i=s.start,o=s.end,l=o-i,c=n?o:i-1,u=this.__iteratees__,d=u.length,h=0,m=xr(l,this.__takeCount__);if(!r||!n&&a==l&&m==l)return ha(e,this.__actions__);var f=[];e:for(;l--&&h<m;){for(var p=-1,x=e[c+=t];++p<d;){var g=u[p],v=g.iteratee,y=g.type,b=v(x);if(2==y)x=b;else if(!b){if(1==y)continue e;break e}}f[h++]=x}return f},Ir.prototype.at=fi,Ir.prototype.chain=function(){return hi(this)},Ir.prototype.commit=function(){return new $r(this.value(),this.__chain__)},Ir.prototype.next=function(){this.__values__===e&&(this.__values__=mo(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},Ir.prototype.plant=function(t){for(var r,n=this;n instanceof Br;){var a=Bs(n);a.__index__=0,a.__values__=e,r?s.__wrapped__=a:r=a;var s=a;n=n.__wrapped__}return s.__wrapped__=t,r},Ir.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof zr){var r=t;return this.__actions__.length&&(r=new zr(this)),(r=r.reverse()).__actions__.push({func:mi,args:[ei],thisArg:e}),new $r(r,this.__chain__)}return this.thru(ei)},Ir.prototype.toJSON=Ir.prototype.valueOf=Ir.prototype.value=function(){return ha(this.__wrapped__,this.__actions__)},Ir.prototype.first=Ir.prototype.head,Qe&&(Ir.prototype[Qe]=function(){return this}),Ir}();ht?((ht.exports=dr)._=dr,dt._=dr):ut._=dr}.call(Mo.exports)),Mo.exports);const Oo=U(Do);function Lo(){const[r,n]=e.useState(null),[a,s]=e.useState([]),[i,o]=e.useState(null),[l,c]=e.useState([]),[u,d]=e.useState(""),[h,m]=e.useState(!0),[f,p]=e.useState(null),x=Ie();e.useEffect(()=>{(async()=>{m(!0);try{const e=await Lr.me();n(e),await v(e)}catch(vc){console.error("User not logged in")}m(!1)})()},[]),e.useEffect(()=>{const e=new URLSearchParams(x.search),t=e.get("with"),r=e.get("bakeId");if(t&&a.length>0){const e=a.find(e=>e.otherUser.email===t);e?b(e,r):g(t,r)}},[a,x.search]);const g=async(e,t)=>{try{const r=await Lr.filter({email:e});if(r.length>0){const e={otherUser:r[0],lastMessage:"Start a new conversation...",lastMessageDate:(new Date).toISOString()};if(o(e),c([]),t){const e=await $r({id:t});e.length>0&&p(e[0])}}}catch(r){console.error("Error starting new conversation:",r)}},v=async e=>{const t=await Jr({sender_email:e.email},"-created_date",100),r=await Jr({receiver_email:e.email},"-created_date",100),n=Oo.orderBy([...t,...r],["created_date"],["desc"]),a=Oo.groupBy(n,t=>t.sender_email===e.email?t.receiver_email:t.sender_email),i=Object.keys(a),o=i.length>0?await Lr.filter({email:{$in:i}}):[],l=Oo.keyBy(o,"email"),c=Object.entries(a).map(([t,r])=>({otherUser:l[t]||{email:t,full_name:"Unknown User"},lastMessage:r[0].content,lastMessageDate:r[0].created_date,isRead:r[0].is_read||r[0].sender_email===e.email,unreadCount:r.filter(t=>!t.is_read&&t.sender_email!==e.email).length})).filter(e=>e.otherUser);s(Oo.orderBy(c,["lastMessageDate"],["desc"]))},y=async(e,t=null)=>{const n=await Jr({sender_email:r.email,receiver_email:e},"-created_date"),a=await Jr({sender_email:e,receiver_email:r.email},"-created_date"),s=Oo.orderBy([...n,...a],["created_date"],["asc"]);if(c(s),a.forEach(async e=>{e.is_read||await Zr(e.id,{is_read:!0})}),t)try{const e=await $r({id:t});e.length>0&&p(e[0])}catch(i){console.error("Error loading related bake:",i)}},b=(e,t=null)=>{o(e),p(null),y(e.otherUser.email,t);const r=a.map(t=>t.otherUser.email===e.otherUser.email?{...t,isRead:!0,unreadCount:0}:t);s(r)},j=async()=>{if(u.trim()&&i)try{const e={sender_email:r.email,receiver_email:i.otherUser.email,content:u.trim()};f&&(e.bake_id=f.id),await Xr(e),d(""),y(i.otherUser.email,null==f?void 0:f.id),v(r)}catch(vc){console.error("Failed to send message",vc)}};return h?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 font-medium",children:"Loading messages..."})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 py-8",children:t.jsx("div",{className:"max-w-7xl mx-auto p-4 md:p-8",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 h-[calc(100vh-200px)]",children:[t.jsxs("div",{className:`md:col-span-1 lg:col-span-1 bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-purple-100 overflow-hidden ${i?"hidden md:flex":"flex"} flex-col`,children:[t.jsxs("div",{className:"p-6 border-b border-purple-100 bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Inbox"}),t.jsx("p",{className:"text-purple-100 text-sm",children:"Your conversations"})]}),t.jsx("div",{className:"overflow-y-auto flex-1",children:a.length>0?a.map(e=>t.jsxs("div",{onClick:()=>b(e),className:"p-4 flex items-center gap-3 cursor-pointer border-b border-purple-50 hover:bg-purple-50 transition-colors "+((null==i?void 0:i.otherUser.email)===e.otherUser.email?"bg-purple-100":""),children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:e.otherUser.avatar_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${e.otherUser.email}`,alt:"avatar",className:"w-12 h-12 rounded-full border-2 border-white shadow-sm"}),e.unreadCount>0&&t.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:e.unreadCount})]}),t.jsxs("div",{className:"flex-1 overflow-hidden",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:"font-semibold truncate text-gray-900",children:e.otherUser.full_name}),t.jsx("p",{className:"text-xs text-gray-500 whitespace-nowrap",children:Sa(new Date(e.lastMessageDate),"p")})]}),t.jsx("p",{className:"text-sm truncate "+(e.unreadCount>0?"font-bold text-gray-800":"text-gray-600"),children:e.lastMessage})]})]},e.otherUser.email)):t.jsxs("div",{className:"p-8 text-center text-gray-500",children:[t.jsx("p",{children:"No conversations yet"}),t.jsx("p",{className:"text-sm mt-2",children:"Start messaging bakers by clicking the message button on their posts!"})]})})]}),t.jsx("div",{className:"md:col-span-2 lg:col-span-3 bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-pink-100 flex flex-col overflow-hidden "+(i?"flex":"hidden md:flex"),children:i?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-pink-100 flex items-center gap-4 bg-gradient-to-r from-pink-500 to-orange-500 text-white",children:[t.jsx(Ar,{variant:"ghost",size:"icon",className:"md:hidden text-white hover:bg-white/20",onClick:()=>o(null),children:t.jsx(Tt,{className:"w-5 h-5"})}),t.jsx("img",{src:i.otherUser.avatar_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${i.otherUser.email}`,alt:"avatar",className:"w-10 h-10 rounded-full border-2 border-white"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg",children:i.otherUser.full_name}),t.jsx("p",{className:"text-pink-100 text-sm",children:i.otherUser.email})]})]}),f&&t.jsx("div",{className:"p-4 bg-orange-50 border-b border-orange-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Qt,{className:"w-5 h-5 text-orange-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-orange-900",children:["About: ",f.title]}),t.jsx(Nt,{to:St(`BakeDetail?id=${f.id}`),className:"text-xs text-orange-600 hover:underline",children:"View this bake â†’"})]})]})}),t.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:l.length>0?l.map(e=>t.jsx("div",{className:"flex "+(e.sender_email===r.email?"justify-end":"justify-start"),children:t.jsxs("div",{className:"p-3 rounded-2xl max-w-lg shadow-sm "+(e.sender_email===r.email?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white border border-gray-200 text-gray-800"),children:[t.jsx("p",{className:"leading-relaxed",children:e.content}),t.jsx("p",{className:"text-xs mt-2 "+(e.sender_email===r.email?"text-purple-100":"text-gray-500"),children:Sa(new Date(e.created_date),"p")})]})},e.id)):t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-gray-500 mb-2",children:"Start your conversation!"}),f&&t.jsxs("p",{className:"text-sm text-gray-400",children:['Ask about "',f.title,'"']})]})})}),t.jsx("div",{className:"p-4 border-t border-pink-100 bg-gray-50",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ps,{value:u,onChange:e=>d(e.target.value),placeholder:"Type your message...",className:"flex-1 resize-none border-gray-300 focus:border-purple-400 rounded-xl",rows:1,onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),j())}}),t.jsx(Ar,{onClick:j,className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg hover:shadow-xl",size:"icon",disabled:!u.trim(),children:t.jsx(dr,{className:"w-4 h-4"})})]})})]}):t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-100 to-pink-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(dr,{className:"w-12 h-12 text-purple-400"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Welcome to your Inbox"}),t.jsx("p",{className:"text-gray-500",children:"Select a conversation to start messaging"})]})})})]})})})}var Io="horizontal",Fo=["horizontal","vertical"],Bo=e.forwardRef((e,r)=>{const{decorative:n,orientation:a=Io,...s}=e,i=function(e){return Fo.includes(e)}(a)?a:Io,o=n?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return t.jsx(y.div,{"data-orientation":i,...o,...s,ref:r})});Bo.displayName="Separator";var $o=Bo;const zo=e.forwardRef(({className:e,orientation:r="horizontal",decorative:n=!0,...a},s)=>t.jsx($o,{ref:s,decorative:n,orientation:r,className:Mr("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",e),...a}));zo.displayName=$o.displayName;var Wo,Uo,Ho,qo,Vo,Yo={exports:{}};function Go(){if(Uo)return Wo;Uo=1;return Wo="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function Ko(){if(qo)return Ho;qo=1;var e=Go();function t(){}function r(){}return r.resetWarningCache=t,Ho=function(){function n(t,r,n,a,s,i){if(i!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function a(){return n}n.isRequired=n;var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s}}function Jo(){return Vo||(Vo=1,Yo.exports=Ko()()),Yo.exports}const Xo=U(Jo());function Zo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(r),!0).forEach(function(t){tl(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rl(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,s=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);i=!0);}catch(l){o=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(o)throw a}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return al(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return al(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function al(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sl=function(e,t,r){var n=!!r,a=z.useRef(r);z.useEffect(function(){a.current=r},[r]),z.useEffect(function(){if(!n||!e)return function(){};var r=function(){a.current&&a.current.apply(a,arguments)};return e.on(t,r),function(){e.off(t,r)}},[n,t,e,a])},il=function(e){var t=z.useRef(e);return z.useEffect(function(){t.current=e},[e]),t.current},ol=function(e){return null!==e&&"object"===el(e)},ll="[object Object]",cl=function e(t,r){if(!ol(t)||!ol(r))return t===r;var n=Array.isArray(t);if(n!==Array.isArray(r))return!1;var a=Object.prototype.toString.call(t)===ll;if(a!==(Object.prototype.toString.call(r)===ll))return!1;if(!a&&!n)return t===r;var s=Object.keys(t),i=Object.keys(r);if(s.length!==i.length)return!1;for(var o={},l=0;l<s.length;l+=1)o[s[l]]=!0;for(var c=0;c<i.length;c+=1)o[i[c]]=!0;var u=Object.keys(o);if(u.length!==s.length)return!1;var d=t,h=r;return u.every(function(t){return e(d[t],h[t])})},ul=function(e,t,r){return ol(e)?Object.keys(e).reduce(function(n,a){var s=!ol(t)||!cl(e[a],t[a]);return r.includes(a)?(s&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),n):s?Qo(Qo({},n||{}),{},tl({},a,e[a])):n},null):null},dl="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",hl=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dl;if(null===e||ol(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;throw new Error(r)},ml=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dl;if(function(e){return ol(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return hl(e,t)})};var r=hl(e,t);return null===r?{tag:"empty"}:{tag:"sync",stripe:r}},fl=z.createContext(null);fl.displayName="ElementsContext";var pl=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},xl=function(e){var t=e.stripe,r=e.options,n=e.children,a=z.useMemo(function(){return ml(t)},[t]),s=nl(z.useState(function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(r):null}}),2),i=s[0],o=s[1];z.useEffect(function(){var e=!0,t=function(e){o(function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}})};return"async"!==a.tag||i.stripe?"sync"!==a.tag||i.stripe||t(a.stripe):a.stripePromise.then(function(r){r&&e&&t(r)}),function(){e=!1}},[a,i,r]);var l=il(t);z.useEffect(function(){null!==l&&l!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[l,t]);var c=il(r);return z.useEffect(function(){if(i.elements){var e=ul(r,c,["clientSecret","fonts"]);e&&i.elements.update(e)}},[r,c,i.elements]),z.useEffect(function(){var e;(e=i.stripe)&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"3.9.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},[i.stripe]),z.createElement(fl.Provider,{value:i},n)};xl.propTypes={stripe:Xo.any,options:Xo.object};var gl=function(){var e,t;return(e="calls useElements()",t=z.useContext(fl),pl(t,e)).elements};Xo.func.isRequired;var vl=z.createContext(null);vl.displayName="CheckoutSdkContext";z.createContext(null).displayName="CheckoutContext",Xo.any,Xo.shape({fetchClientSecret:Xo.func.isRequired,elementsOptions:Xo.object}).isRequired;var yl=function(e){var t=z.useContext(vl),r=z.useContext(fl);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e}(t,e):pl(r,e)},bl=["mode"],jl=function(e,t){var r,n="".concat((r=e).charAt(0).toUpperCase()+r.slice(1),"Element"),a=t?function(e){yl("mounts <".concat(n,">"));var t=e.id,r=e.className;return z.createElement("div",{id:t,className:r})}:function(t){var r,a=t.id,s=t.className,i=t.options,o=void 0===i?{}:i,l=t.onBlur,c=t.onFocus,u=t.onReady,d=t.onChange,h=t.onEscape,m=t.onClick,f=t.onLoadError,p=t.onLoaderStart,x=t.onNetworksChange,g=t.onConfirm,v=t.onCancel,y=t.onShippingAddressChange,b=t.onShippingRateChange,j=yl("mounts <".concat(n,">")),w="elements"in j?j.elements:null,N="checkoutSdk"in j?j.checkoutSdk:null,k=nl(z.useState(null),2),_=k[0],C=k[1],S=z.useRef(null),E=z.useRef(null);sl(_,"blur",l),sl(_,"focus",c),sl(_,"escape",h),sl(_,"click",m),sl(_,"loaderror",f),sl(_,"loaderstart",p),sl(_,"networkschange",x),sl(_,"confirm",g),sl(_,"cancel",v),sl(_,"shippingaddresschange",y),sl(_,"shippingratechange",b),sl(_,"change",d),u&&(r="expressCheckout"===e?u:function(){u(_)}),sl(_,"ready",r),z.useLayoutEffect(function(){if(null===S.current&&null!==E.current&&(w||N)){var t=null;if(N)switch(e){case"payment":t=N.createPaymentElement(o);break;case"address":if(!("mode"in o))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var r=o.mode,a=rl(o,bl);if("shipping"===r)t=N.createShippingAddressElement(a);else{if("billing"!==r)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");t=N.createBillingAddressElement(a)}break;case"expressCheckout":t=N.createExpressCheckoutElement(o);break;case"currencySelector":t=N.createCurrencySelectorElement();break;case"taxId":t=N.createTaxIdElement(o);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else w&&(t=w.create(e,o));S.current=t,C(t),t&&t.mount(E.current)}},[w,N,o]);var P=il(o);return z.useEffect(function(){if(S.current){var e=ul(o,P,["paymentRequest"]);e&&"update"in S.current&&S.current.update(e)}},[o,P]),z.useLayoutEffect(function(){return function(){if(S.current&&"function"==typeof S.current.destroy)try{S.current.destroy(),S.current=null}catch(e){}}},[]),z.createElement("div",{id:a,className:s,ref:E})};return a.propTypes={id:Xo.string,className:Xo.string,onChange:Xo.func,onBlur:Xo.func,onFocus:Xo.func,onReady:Xo.func,onEscape:Xo.func,onClick:Xo.func,onLoadError:Xo.func,onLoaderStart:Xo.func,onNetworksChange:Xo.func,onConfirm:Xo.func,onCancel:Xo.func,onShippingAddressChange:Xo.func,onShippingRateChange:Xo.func,options:Xo.object},a.displayName=n,a.__elementType=e,a},wl="undefined"==typeof window;z.createContext(null).displayName="EmbeddedCheckoutProviderContext";jl("auBankAccount",wl);var Nl=jl("card",wl);jl("cardNumber",wl),jl("cardExpiry",wl),jl("cardCvc",wl),jl("fpxBank",wl),jl("iban",wl),jl("idealBank",wl),jl("p24Bank",wl),jl("epsBank",wl),jl("payment",wl),jl("expressCheckout",wl),jl("currencySelector",wl),jl("paymentRequestButton",wl),jl("linkAuthentication",wl),jl("address",wl),jl("shippingAddress",wl),jl("paymentMethodMessaging",wl),jl("affirmMessage",wl),jl("afterpayClearpayMessage",wl),jl("taxId",wl);var kl,_l="https://js.stripe.com/v3",Cl=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Sl=function(e){var t=document.createElement("script");t.src="".concat(_l).concat("");var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(t),t},El=null,Pl=null,Rl=null,Ml=function(e){return null!==El?El:(El=new Promise(function(t,r){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe)t(window.Stripe);else try{var n=function(){for(var e=document.querySelectorAll('script[src^="'.concat(_l,'"]')),t=0;t<e.length;t++){var r=e[t];if(Cl.test(r.src))return r}return null}();if(n&&e);else if(n){if(n&&null!==Rl&&null!==Pl){var a;n.removeEventListener("load",Rl),n.removeEventListener("error",Pl),null===(a=n.parentNode)||void 0===a||a.removeChild(n),n=Sl()}}else n=Sl();Rl=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,r),Pl=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(r),n.addEventListener("load",Rl),n.addEventListener("error",Pl)}catch(s){return void r(s)}else t(null)})).catch(function(e){return El=null,Promise.reject(e)})},Tl=!1,Al=function(){return kl||(kl=Ml(null).catch(function(e){return kl=null,Promise.reject(e)}))};Promise.resolve().then(function(){return Al()}).catch(function(e){Tl||console.warn(e)});var Dl=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Tl=!0;var n=Date.now();return Al().then(function(e){return function(e,t,r){if(null===e)return null;var n=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:t})}(n,r),n}(e,t,n)})};const Ol=Y("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ll=e.forwardRef(({className:e,variant:r,...n},a)=>t.jsx("div",{ref:a,role:"alert",className:Mr(Ol({variant:r}),e),...n}));Ll.displayName="Alert";e.forwardRef(({className:e,...r},n)=>t.jsx("h5",{ref:n,className:Mr("mb-1 font-medium leading-none tracking-tight",e),...r})).displayName="AlertTitle";const Il=e.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:Mr("text-sm [&_p]:leading-relaxed",e),...r}));let Fl;Il.displayName="AlertDescription";const Bl=()=>(Fl||(Fl=Dl(void 0)),Fl),$l="http://localhost:8001",zl={async createItemCheckout(e,t){try{const r=await fetch(`${$l}/api/v1/checkout/item`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({item_type:e,item_id:t})});if(!r.ok)throw new Error("Failed to create checkout session");return await r.json()}catch(r){throw console.error("Error creating item checkout:",r),r}},async createSubscriptionCheckout(){try{const e=await fetch(`${$l}/api/v1/checkout/subscription`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({})});if(!e.ok)throw new Error("Failed to create subscription checkout");return await e.json()}catch(e){throw console.error("Error creating subscription checkout:",e),e}},async getCheckoutConfig(){try{const e=await fetch(`${$l}/api/v1/checkout/config`);if(!e.ok)throw new Error("Failed to get checkout config");return await e.json()}catch(e){throw console.error("Error getting checkout config:",e),e}},async redirectToSubscriptionCheckout(){try{const e=await this.createSubscriptionCheckout();await Bl()&&(window.location.href=e.checkout_url)}catch(e){throw console.error("Error redirecting to subscription checkout:",e),e}},async handleItemPurchase(e,t,r,n){try{const r=await this.createItemCheckout(e,t);if(await Bl())return r}catch(a){throw console.error("Error handling item purchase:",a),null==n||n(a),a}}},Wl={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},Ul=({itemType:r,itemId:n,itemTitle:a,amountCents:s,onSuccess:i,onError:o,onCancel:l})=>{const c=yl("calls useStripe()").stripe,u=gl(),[d,h]=e.useState(!1),[m,f]=e.useState(null),[p,x]=e.useState(!1),[g,v]=e.useState(null),[y,b]=e.useState(null),j=(s/100).toFixed(2),w=(.1*s/100).toFixed(2),N=(parseFloat(j)+parseFloat(w)).toFixed(2);e.useEffect(()=>{k()},[]);const k=async()=>{try{h(!0),f(null);const e=await zl.createItemCheckout(r,n);v(e.client_secret),b(e.payment_intent_id)}catch(e){f(e.message||"Failed to create payment intent")}finally{h(!1)}};return p?t.jsx(us,{className:"w-full max-w-md mx-auto",children:t.jsxs(fs,{className:"pt-6 text-center",children:[t.jsx(Ut,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Payment Successful!"}),t.jsxs("p",{className:"text-gray-600 mb-4",children:['You have successfully purchased "',a,'"']}),t.jsx(Ar,{onClick:()=>window.location.reload(),className:"w-full",children:"Continue"})]})}):t.jsxs(us,{className:"w-full max-w-md mx-auto",children:[t.jsxs(ds,{children:[t.jsxs(hs,{className:"flex items-center gap-2",children:[t.jsx(Yt,{className:"w-5 h-5"}),"Complete Purchase"]}),t.jsxs(ms,{children:['Purchase "',a,'" securely with your card']})]}),t.jsxs(fs,{children:[t.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-gray-600",children:"Item Price:"}),t.jsxs("span",{className:"font-medium",children:["$",j]})]}),t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-gray-600",children:"Platform Fee (10%):"}),t.jsxs("span",{className:"font-medium",children:["$",w]})]}),t.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[t.jsx("span",{className:"font-semibold",children:"Total:"}),t.jsxs("span",{className:"font-bold text-lg",children:["$",N]})]})]}),t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),c&&u&&g){h(!0),f(null);try{const{error:e,paymentIntent:t}=await c.confirmCardPayment(g,{payment_method:{card:u.getElement(Nl),billing_details:{}}});e?f(e.message||"Payment failed"):"succeeded"===t.status&&(x(!0),null==i||i(t))}catch(t){f("An unexpected error occurred")}finally{h(!1)}}},children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Details"}),t.jsx("div",{className:"border rounded-md p-3",children:t.jsx(Nl,{options:Wl})})]}),m&&t.jsxs(Ll,{className:"mb-4 border-red-200 bg-red-50",children:[t.jsx(qt,{className:"h-4 w-4 text-red-600"}),t.jsx(Il,{className:"text-red-800",children:m})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Ar,{type:"button",variant:"outline",onClick:()=>{null==l||l()},disabled:d,className:"flex-1",children:"Cancel"}),t.jsx(Ar,{type:"submit",disabled:!c||d,className:"flex-1",children:d?t.jsxs(t.Fragment,{children:[t.jsx(tr,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):`Pay $${N}`})]})]}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("p",{className:"text-xs text-gray-500",children:"ðŸ”’ Your payment information is secure and encrypted"})})]})]})},Hl=({onSuccess:r,onError:n,onCancel:a})=>{const[s,i]=e.useState(!1),[o,l]=e.useState(null),[c,u]=e.useState(null);e.useEffect(()=>{d()},[]);const d=async()=>{try{const e=await zl.getCheckoutConfig();u(e)}catch(e){l("Failed to load checkout configuration")}};return c?t.jsxs(us,{className:"w-full max-w-md mx-auto",children:[t.jsxs(ds,{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:t.jsx(Gt,{className:"w-8 h-8 text-white"})}),t.jsx(hs,{className:"text-2xl",children:"Premium Subscription"}),t.jsx(ms,{children:"Unlock unlimited access to premium content and features"})]}),t.jsxs(fs,{children:[t.jsxs("div",{className:"mb-6 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(vr,{className:"w-5 h-5 text-yellow-500 fill-current"}),t.jsx("span",{children:"Unlimited premium recipe access"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(vr,{className:"w-5 h-5 text-yellow-500 fill-current"}),t.jsx("span",{children:"Exclusive baking circles"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(vr,{className:"w-5 h-5 text-yellow-500 fill-current"}),t.jsx("span",{children:"Priority customer support"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(vr,{className:"w-5 h-5 text-yellow-500 fill-current"}),t.jsx("span",{children:"Early access to new features"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(vr,{className:"w-5 h-5 text-yellow-500 fill-current"}),t.jsx("span",{children:"Ad-free experience"})]})]}),t.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"$9.99"}),t.jsx("div",{className:"text-gray-600",children:"per month"}),t.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Cancel anytime â€¢ No commitment"})]})}),o&&t.jsxs(Ll,{className:"mb-4 border-red-200 bg-red-50",children:[t.jsx(qt,{className:"h-4 w-4 text-red-600"}),t.jsx(Il,{className:"text-red-800",children:o})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Ar,{type:"button",variant:"outline",onClick:()=>{null==a||a()},disabled:s,className:"flex-1",children:"Cancel"}),t.jsx(Ar,{onClick:async()=>{try{i(!0),l(null),await zl.redirectToSubscriptionCheckout()}catch(e){l(e.message||"Failed to start subscription process"),i(!1)}},disabled:s,className:"flex-1 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600",children:s?t.jsxs(t.Fragment,{children:[t.jsx(tr,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Subscribe Now"})]}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("p",{className:"text-xs text-gray-500",children:"ðŸ”’ Secure payment powered by Stripe"})})]})]}):t.jsx(us,{className:"w-full max-w-md mx-auto",children:t.jsxs(fs,{className:"pt-6 text-center",children:[t.jsx(tr,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),t.jsx("p",{children:"Loading subscription options..."})]})})},ql=Dl(void 0),Vl=({isOpen:r,onClose:n,mode:a="item",itemData:s=null,onSuccess:i,onError:o})=>{const[l,c]=e.useState("subscription"===a?"subscription":"item"),u=e=>{null==i||i(e),n()},d=e=>{null==o||o(e)},h=()=>{n()};return t.jsx(Ma,{open:r,onOpenChange:n,children:t.jsxs(Da,{className:"sm:max-w-md",children:[t.jsxs(Oa,{children:[t.jsx(La,{children:"subscription"===a?"Premium Subscription":"Complete Purchase"}),t.jsx(Ia,{children:"subscription"===a?"Unlock premium features with a subscription":"Complete your purchase securely"})]}),t.jsx("div",{className:"mt-4",children:"subscription"===a?t.jsx(Hl,{onSuccess:u,onError:d,onCancel:h}):"item"===a&&s?t.jsx(xl,{stripe:ql,children:t.jsx(Ul,{itemType:s.type,itemId:s.id,itemTitle:s.title,amountCents:s.priceCents,onSuccess:u,onError:d,onCancel:h})}):t.jsxs(is,{value:l,onValueChange:c,className:"w-full",children:[t.jsxs(os,{className:"grid w-full grid-cols-2",children:[t.jsx(ls,{value:"item",children:"Purchase Item"}),t.jsx(ls,{value:"subscription",children:"Subscribe"})]}),t.jsx(cs,{value:"item",className:"mt-6",children:s?t.jsx(xl,{stripe:ql,children:t.jsx(Ul,{itemType:s.type,itemId:s.id,itemTitle:s.title,amountCents:s.priceCents,onSuccess:u,onError:d,onCancel:h})}):t.jsx("div",{className:"text-center py-8 text-gray-500",children:"No item selected for purchase"})}),t.jsx(cs,{value:"subscription",className:"mt-6",children:t.jsx(Hl,{onSuccess:u,onError:d,onCancel:h})})]})})]})})},Yl=()=>{const[r,n]=e.useState(!1),[a,s]=e.useState("item"),[i,o]=e.useState(null);return t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Stripe Payment Demo"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Experience secure payments with Stripe integration. Test item purchases and premium subscriptions."})]}),t.jsxs(us,{className:"mb-12",children:[t.jsxs(ds,{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:t.jsx(Gt,{className:"w-10 h-10 text-white"})}),t.jsx(hs,{className:"text-3xl",children:"Premium Subscription"}),t.jsx(ms,{className:"text-lg",children:"Unlock unlimited access to premium content and features"})]}),t.jsxs(fs,{className:"text-center",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:"$9.99"}),t.jsx("div",{className:"text-gray-600",children:"per month"})]}),t.jsxs(Ar,{onClick:()=>{o(null),s("subscription"),n(!0)},size:"lg",className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600",children:[t.jsx(Gt,{className:"w-5 h-5 mr-2"}),"Subscribe Now"]})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Premium Items Available for Purchase"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{id:1,type:"recipe",title:"Secret Family Chocolate Cake",description:"A decadent chocolate cake recipe passed down through generations",priceCents:999,category:"Dessert",difficulty:"Medium",rating:4.8,reviewCount:127},{id:2,type:"bake",title:"Artisan Sourdough Bread",description:"Freshly baked sourdough bread with crispy crust and soft interior",priceCents:1299,category:"Bread",difficulty:"Hard",rating:4.9,reviewCount:89},{id:3,type:"recipe",title:"Professional Pastry Techniques",description:"Advanced techniques for creating restaurant-quality pastries",priceCents:1999,category:"Pastry",difficulty:"Expert",rating:4.7,reviewCount:203}].map(e=>t.jsxs(us,{className:"hover:shadow-lg transition-shadow",children:[t.jsx(ds,{children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx(hs,{className:"text-lg",children:e.title}),t.jsx(ms,{className:"mt-2",children:e.description})]}),t.jsxs(tn,{variant:"secondary",className:"ml-2",children:["$",(e.priceCents/100).toFixed(2)]})]})}),t.jsxs(fs,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Category:"}),t.jsx("span",{className:"font-medium",children:e.category})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Difficulty:"}),t.jsx("span",{className:"font-medium",children:e.difficulty})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Rating:"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(vr,{className:"w-4 h-4 text-yellow-500 fill-current"}),t.jsx("span",{className:"font-medium",children:e.rating}),t.jsxs("span",{className:"text-gray-500",children:["(",e.reviewCount,")"]})]})]})]}),t.jsx(zo,{className:"my-4"}),t.jsxs(Ar,{onClick:()=>(e=>{o(e),s("item"),n(!0)})(e),className:"w-full",variant:"outline",children:[t.jsx(xr,{className:"w-4 h-4 mr-2"}),"Purchase for $",(e.priceCents/100).toFixed(2)]})]})]},e.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs(us,{children:[t.jsxs(ds,{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(Yt,{className:"w-6 h-6 text-blue-600"})}),t.jsx(hs,{children:"Secure Payments"})]}),t.jsx(fs,{className:"text-center",children:t.jsx("p",{className:"text-gray-600",children:"All payments are processed securely through Stripe with industry-standard encryption."})})]}),t.jsxs(us,{children:[t.jsxs(ds,{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx(Ut,{className:"w-6 h-6 text-green-600"})}),t.jsx(hs,{children:"Instant Access"})]}),t.jsx(fs,{className:"text-center",children:t.jsx("p",{className:"text-gray-600",children:"Get immediate access to purchased content and subscription features."})})]}),t.jsxs(us,{children:[t.jsxs(ds,{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:t.jsx(fr,{className:"w-6 h-6 text-purple-600"})}),t.jsx(hs,{children:"Money Back Guarantee"})]}),t.jsx(fs,{className:"text-center",children:t.jsx("p",{className:"text-gray-600",children:"30-day money-back guarantee on all purchases and subscriptions."})})]})]}),t.jsx(Vl,{isOpen:r,onClose:()=>n(!1),mode:a,itemData:i,onSuccess:e=>{console.log("Payment successful:",e)},onError:e=>{console.error("Payment failed:",e)}})]})})},Gl={Home:bs,AddBake:co,Recipes:mo,Profile:fo,BakeDetail:vo,RecipeDetail:yo,AddRecipe:bo,Contact:No,EditProfile:Co,Circles:So,CreateCircle:Eo,CircleDetail:Po,Inbox:Lo,PaymentDemo:Yl};function Kl(){const e=function(e){e.endsWith("/")&&(e=e.slice(0,-1));let t=e.split("/").pop();return t.includes("?")&&(t=t.split("?")[0]),Object.keys(Gl).find(e=>e.toLowerCase()===t.toLowerCase())||Object.keys(Gl)[0]}(Ie().pathname);return t.jsx($a,{currentPageName:e,children:t.jsxs(Qe,{children:[t.jsx(Xe,{path:"/",element:t.jsx(bs,{})}),t.jsx(Xe,{path:"/Home",element:t.jsx(bs,{})}),t.jsx(Xe,{path:"/AddBake",element:t.jsx(co,{})}),t.jsx(Xe,{path:"/Recipes",element:t.jsx(mo,{})}),t.jsx(Xe,{path:"/Profile",element:t.jsx(fo,{})}),t.jsx(Xe,{path:"/BakeDetail",element:t.jsx(vo,{})}),t.jsx(Xe,{path:"/RecipeDetail",element:t.jsx(yo,{})}),t.jsx(Xe,{path:"/AddRecipe",element:t.jsx(bo,{})}),t.jsx(Xe,{path:"/Contact",element:t.jsx(No,{})}),t.jsx(Xe,{path:"/EditProfile",element:t.jsx(Co,{})}),t.jsx(Xe,{path:"/Circles",element:t.jsx(So,{})}),t.jsx(Xe,{path:"/CreateCircle",element:t.jsx(Eo,{})}),t.jsx(Xe,{path:"/CircleDetail",element:t.jsx(Po,{})}),t.jsx(Xe,{path:"/Inbox",element:t.jsx(Lo,{})}),t.jsx(Xe,{path:"/PaymentDemo",element:t.jsx(Yl,{})})]})})}function Jl(){return t.jsx(jt,{children:t.jsx(Kl,{})})}const Xl="ADD_TOAST",Zl="UPDATE_TOAST",Ql="DISMISS_TOAST",ec="REMOVE_TOAST";let tc=0;const rc=new Map,nc=e=>{if(rc.has(e))return;const t=setTimeout(()=>{rc.delete(e),oc({type:ec,toastId:e})},1e6);rc.set(e,t)},ac=(e,t)=>{switch(t.type){case Xl:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case Zl:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case Ql:{const{toastId:r}=t;return r?nc(r):e.toasts.forEach(e=>{nc(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case ec:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},sc=[];let ic={toasts:[]};function oc(e){ic=ac(ic,e),sc.forEach(e=>{e(ic)})}function lc({...e}){const t=(tc=(tc+1)%Number.MAX_VALUE,tc.toString()),r=()=>oc({type:Ql,toastId:t});return oc({type:Xl,toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>oc({type:Zl,toast:{...e,id:t}})}}const cc=e.forwardRef(({...e},r)=>t.jsx("div",{ref:r,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));cc.displayName="ToastProvider";const uc=e.forwardRef(({...e},r)=>t.jsx("div",{ref:r,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));uc.displayName="ToastViewport";const dc=Y("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hc=e.forwardRef(({className:e,variant:r,...n},a)=>t.jsx("div",{ref:a,className:Mr(dc({variant:r}),e),...n}));hc.displayName="Toast";e.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:Mr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r})).displayName="ToastAction";const mc=e.forwardRef(({className:e,...r},n)=>t.jsx("button",{ref:n,className:Mr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:t.jsx(_r,{className:"h-4 w-4"})}));mc.displayName="ToastClose";const fc=e.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:Mr("text-sm font-semibold",e),...r}));fc.displayName="ToastTitle";const pc=e.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:Mr("text-sm opacity-90",e),...r}));function xc(){const{toasts:r}=function(){const[t,r]=e.useState(ic);return e.useEffect(()=>(sc.push(r),()=>{const e=sc.indexOf(r);e>-1&&sc.splice(e,1)}),[t]),{...t,toast:lc,dismiss:e=>oc({type:Ql,toastId:e})}}();return t.jsxs(cc,{children:[r.map(function({id:e,title:r,description:n,action:a,...s}){return t.jsxs(hc,{...s,children:[t.jsxs("div",{className:"grid gap-1",children:[r&&t.jsx(fc,{children:r}),n&&t.jsx(pc,{children:n})]}),a,t.jsx(mc,{})]},e)}),t.jsx(uc,{})]})}function gc(){return t.jsxs(Rr,{children:[t.jsx(Jl,{}),t.jsx(xc,{})]})}pc.displayName="ToastDescription",J.createRoot(document.getElementById("root")).render(t.jsx(gc,{}));
